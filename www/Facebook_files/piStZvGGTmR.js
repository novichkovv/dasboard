/*!CK:3245410928!*//*1460387276,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Ttv7j"]); }

__d("MComposerDataStoreKeys",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT"};},null);
__d("MComposerSigils",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"};},null);
__d("MComposerTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status"};},null);
__d("MCompositionConfigFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_LINK:"disable_link",DISABLE_ALBUM:"disable_album",DISABLE_ALBUM_INFO:"disable_album_info",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",DISABLE_VOICE_SELECTOR:"disable_voice_selector",DISABLE_SLIDESHOW:"disable_slideshow",ACTOR_ID:"actor_id",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",MAX_PHOTOS_ALLOWED:"max_photos_allowed",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt",LOGGING_SURFACE:"logging_surface"};},null);
__d("MCompositionShareFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE"};},null);
__d("MCompositionStoreID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIG:"CONFIG",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW"};},null);
__d("MTaggingCounterEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GEO_PANEL_LOAD:"geo_panel_load",GEO_PANEL_ACCEPT:"geo_panel_accept",GEO_PANEL_DENY:"geo_panel_deny",GEO_PANEL_FAIL:"geo_panel_fail",GEO_PANEL_SUCCESS:"geo_panel_success",GEO_POPUP_LOAD:"geo_popup_load",GEO_POPUP_FAIL:"geo_popup_fail",GEO_POPUP_SUCCESS:"geo_popup_success"};},null);
__d("ViewerLocationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AURA:"aura",GET_PARAM:"get_param",INTERN_TOOL:"intern_tool",LAST_LOCATION:"last_location",LOGIN:"login",PLACEBOOK:"placebook",PLACES_FQL:"places_fql",PULSAR:"pulsar",TEST:"test",MSITE_LOCATION_PROMPT:"msite_location_prompt",MSITE_PERSISTENT_LOCATION:"msite_persistent_location",MSITE_PLACES:"msite_places",MSITE_UNKNOWN:"msite_unknown",CORE_GQL_MUTATION:"core_graphql_mutation",MULTIFEED_PARAM:"multifeed_param"};},null);
__d('ChannelEventEmitter',['EventEmitter'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=new h();f.exports=i;},null);
__d('ChannelEventType',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={FRIEND_REQUESTS_ADD:'jewel_requests_add',FRIEND_REQUESTS_COUNT:'mobile_requests_count',FRIEND_REQUESTS_REMOVE:'jewel_requests_remove_old',FRIEND_REQUESTS_SEEN:'friend_requests_seen',INBOX:'inbox',MESSAGE:'messaging',PAGES_MESSAGE:'pages_messaging',TYPING:'typ',PAGE_THREAD_FLAG_CHANGED:'change_page_thread_flag',NOTIFICATIONS_NEW:'m_notification',NOTIFICATIONS_READ:'notifications_read',NOTIFICATIONS_SEEN:'notifications_seen',GRAPHQL_SUBSCRIPTIONS:'graphql',RTI_SESSION:'rti_session',GET_RTI_SESSION_REQUEST:'rti_session_request',SKYWALKER_MESSAGE:'skywalker_message',DELTA:'delta'};},null);
__d('CurrentLocale',['LocaleInitialData'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={};i.get=function(){return h.locale;};f.exports=i;},null);
__d('RTISubscriptionManager',['ChannelEventEmitter','ChannelEventType','CurrentLocale','ErrorUtils','invariant','RTISubscriptionManagerConfig','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={SUBSCRIBE:'s',UNSUBSCRIBE:'u'},p=300;function q(){this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=false;this.$RTISubscriptionManager3=false;this.$RTISubscriptionManager4=true;this.$RTISubscriptionManager5=document.readyState==='complete';if(!this.$RTISubscriptionManager5)var t=n.listen(['m:onload'],null,function(event){t.remove();this.$RTISubscriptionManager5=true;this.flush();}.bind(this));this.$RTISubscriptionManager6=null;h.addListener(i.RTI_SESSION,function(u){this.$RTISubscriptionManager6=u;if(this.$RTISubscriptionManager6){this.deleteSubscriptions(function(v){return v.getState()===o.UNSUBSCRIBE;});this.flush();}}.bind(this));h.addListener(i.SKYWALKER_MESSAGE,function(u){var v=u.topic,w=this.$RTISubscriptionManager1[v];if(w&&w.getState()===o.SUBSCRIBE){var x={payload:u.payload,topic:v};k.applyWithGuard(w.getListener(),this,[x]);}}.bind(this));this.getCurrentSession();}q.prototype.subscribe=function(t,u,v,w){!t?l(0):void 0;!u?l(0):void 0;if(Object.keys(this.$RTISubscriptionManager1).length<this.getMaxSubscriptions()){v=v||{};v.locale=j.get();if(m.autobot){v.autobotOverrideTier=m.autobot.tier;v.autobotOverrideHostName=m.autobot.host_name;v.autobotOverrideHostIp=m.autobot.host_ip;}var x=new s(t,u,v,w),y=new r(x);this.$RTISubscriptionManager1[t]=x;this.flush();return y;}return null;};q.prototype.unsubscribe=function(t){!t?l(0):void 0;if(t in this.$RTISubscriptionManager1){var u=this.$RTISubscriptionManager1[t];u.setState(o.UNSUBSCRIBE);u.setDirty(true);u.setSent(false);}};q.prototype.flush=function(){if(this.isReady()&&!this.$RTISubscriptionManager2){this.$RTISubscriptionManager2=true;this.$RTISubscriptionManager3=false;var t=[],u={},v=false;this.forEachSubscription(function(aa,ba){if(ba.isDirty()){var ca='subscriptions',da=u[ca];if(!da){da=[];u[ca]=da;}t.push(ba);ba.setDirty(false);ba.setSent(false);var ea={topic:ba.getTopic(),state:ba.getState(),context:ba.getContext()};da.push(ea);}else v=true;});if(!v&&u.subscriptions&&u.subscriptions.length>0){var w=[];for(var x=0;x<u.subscriptions.length;x++)if(u.subscriptions[x].state!==o.UNSUBSCRIBE)w.push(u.subscriptions[x]);u.subscriptions=w;this.$RTISubscriptionManager4=true;}var y=function(aa){var ba=aa.data!=null;if(this.$RTISubscriptionManager4&&ba)this.$RTISubscriptionManager4=false;for(var ca=0;ca<t.length;ca++){var da=t[ca];da.setSent(ba);da.setDirty(!ba);if(da.getState()===o.SUBSCRIBE){var ea=da.getSubscribeCallback();if(ea!==null)k.applyWithGuard(ea,this,[aa]);}}this.deleteSubscriptions(function(fa){return fa.getState()===o.UNSUBSCRIBE&&fa.isSent();});this.$RTISubscriptionManager2=false;if(this.$RTISubscriptionManager3){this.$RTISubscriptionManager3=false;this.flush();}}.bind(this);if(Object.keys(u).length>0){var z={};if(this.$RTISubscriptionManager4)z.reset='t';this.$RTISubscriptionManager6.issueRequest('/sub',z,u,y);}else this.$RTISubscriptionManager2=false;}else{this.$RTISubscriptionManager3=true;if(this.$RTISubscriptionManager6===null)this.getCurrentSession();}};q.prototype.deleteSubscriptions=function(t){!t?l(0):void 0;var u=[];this.forEachSubscription(function(w,x){if(t.apply(this,[x]))u.push(w);});for(var v=0;v<u.length;v++)delete this.$RTISubscriptionManager1[u[v]];};q.prototype.forEachSubscription=function(t){!t?l(0):void 0;for(var u in this.$RTISubscriptionManager1)if(this.$RTISubscriptionManager1.hasOwnProperty(u))t.apply(this,[u,this.$RTISubscriptionManager1[u]]);};q.prototype.getSubscriptions=function(){var t=[];this.forEachSubscription(function(u,v){t.push(v);});return t;};q.prototype.isSubscribed=function(t){!t?l(0):void 0;return t in this.$RTISubscriptionManager1;};q.prototype.isReady=function(){return this.$RTISubscriptionManager6!==null&&this.$RTISubscriptionManager5;};q.prototype.getCurrentSession=function(){h.emit(i.GET_RTI_SESSION_REQUEST);};q.prototype.getMaxSubscriptions=function(){if(m.config&&m.config.hasOwnProperty('max_subscriptions')){return m.config.max_subscriptions;}else return p;};function r(t){this.$SubscriptionToken1=t;}r.prototype.unsubscribe=function(){q.unsubscribe(this.$SubscriptionToken1.getTopic());};function s(t,u,v,w){this.$SubscriptionData1=t;this.$SubscriptionData2=u;this.$SubscriptionData3=true;this.$SubscriptionData4=false;this.$SubscriptionData5=o.SUBSCRIBE;this.$SubscriptionData6=Date.now();if(v){this.$SubscriptionData7=v;}else this.$SubscriptionData7={};if(w){this.$SubscriptionData8=w;}else this.$SubscriptionData8=null;}s.prototype.getCreatedTime=function(){return this.$SubscriptionData6;};s.prototype.getTopic=function(){return this.$SubscriptionData1;};s.prototype.getListener=function(){return this.$SubscriptionData2;};s.prototype.getSubscribeCallback=function(){return this.$SubscriptionData8;};s.prototype.isDirty=function(){return this.$SubscriptionData3;};s.prototype.setDirty=function(t){this.$SubscriptionData3=t;};s.prototype.getState=function(){return this.$SubscriptionData5;};s.prototype.setState=function(t){this.$SubscriptionData5=t;};s.prototype.getContext=function(){return this.$SubscriptionData7;};s.prototype.isSent=function(){return this.$SubscriptionData4;};s.prototype.setSent=function(t){this.$SubscriptionData4=t;};Object.keys(q.prototype).forEach(function(t){q[t]=function(){var u=q;return q.prototype[t].apply(u,arguments);};});q.call(q);f.exports=q;},null);
__d('MPageHeaderRight',['DOM','Stratcom'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){return h.scry(document.body,'*','mChromeHeaderRight')[0];}g.setup=function(k){if(k){var l=j();if(l){h.setContent(l,k.node||'');i.listen('m:page:unload',null,function(event){i.removeCurrentListener();h.setContent(l,'');});}}};g.getChromeHeaderRightContent=function(){var k=j();return k?Array.prototype.slice.call(k.childNodes):null;};},null);
__d('MComposition',['MCompositionStoreID','invariant'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';var l=k||{};this.$MComposition1={};for(var m in l)this.setStoreData(m,l[m]);}j.prototype.serialize=function(){'use strict';return this.$MComposition1;};j.prototype.$MComposition2=function(k){'use strict';!h.hasOwnProperty(k)?i(0):void 0;};j.prototype.setStoreData=function(k,l){'use strict';this.$MComposition2(k);!!this.$MComposition1.hasOwnProperty(k)?i(0):void 0;this.$MComposition1[k]=l;return this;};f.exports=j;},null);
__d("XTaggingCounterController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/tagging\/counter\/",{event:{type:"Enum",required:true,enumType:1}});},null);
__d('MTaggingCounter',['AsyncSignal','XTaggingCounterController'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={logEvent:function(event,k){var l=i.getURIBuilder().setEnum('event',event).getURI();new h(l).send();}};f.exports=j;},null);
__d('MComposerPresence',['MLegacyDataStore','DOM','EventEmitter','$','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='REGISTERED',n=null,o=new j(),p={addRegistrationListener:function(q){return o.addListener(m,q);},hasRegisteredInstance:function(){return !!n;},hasLoadedPrivacyValue:function(q){if(!this.hasRegisteredInstance())return false;return i.scry(i.find(k('static_templates'),'div','composer-main-view'),'tr','privacy-option').some(function(r){return h.get(r).value===q;});},register:function(q){!!n?l(0):void 0;n=q;o.emit(m);},unregister:function(q){!(n===q)?l(0):void 0;n=null;}};f.exports=p;},null);
__d("XComposerAsyncLoaderController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/async_loader\/",{targetid:{type:"Int"}});},null);
__d("promiseFinally",["Promise"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){return j.then(function(l){return (h.resolve(k()).then(function(){return l;}));},function(l){return (h.resolve(k()).then(function(){throw l;}));});}f.exports=i;},null);
__d('MComposerAsyncLoadRequest',['Promise','MComposerPresence','MRequest','XComposerAsyncLoaderController','promiseFinally'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(){'use strict';this.$MComposerAsyncLoadRequest1=null;this.$MComposerAsyncLoadRequest2=null;this.$MComposerAsyncLoadRequest3=null;}m.prototype.$MComposerAsyncLoadRequest4=function(){'use strict';if(this.$MComposerAsyncLoadRequest1){this.$MComposerAsyncLoadRequest1.remove();this.$MComposerAsyncLoadRequest1=null;}if(this.$MComposerAsyncLoadRequest3){this.$MComposerAsyncLoadRequest3.abort();this.$MComposerAsyncLoadRequest3=null;}};m.prototype.$MComposerAsyncLoadRequest5=function(){'use strict';return new h(function(n,o){this.$MComposerAsyncLoadRequest1=i.addRegistrationListener(n);this.$MComposerAsyncLoadRequest3=new j(k.getURIBuilder().getURI());this.$MComposerAsyncLoadRequest3.listen('fail',o);this.$MComposerAsyncLoadRequest3.send();}.bind(this));};m.prototype.send=function(){'use strict';if(!this.$MComposerAsyncLoadRequest2){this.$MComposerAsyncLoadRequest2=this.$MComposerAsyncLoadRequest5();l(this.$MComposerAsyncLoadRequest2,function(){return this.$MComposerAsyncLoadRequest4();}.bind(this));}return this.$MComposerAsyncLoadRequest2;};f.exports=m;},null);
__d('MComposerEntry',['Promise','MLegacyDataStore','ErrorUtils','LoadingIndicator','MComposerAsyncLoadRequest','MComposerDataStoreKeys','MComposerPresence','MComposerSigils','MComposition','Stratcom','promiseFinally'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=new h(function(ca,da){return da();}),t=new h(function(ca){return ca();}),u=j.guard(function(ca){if(ca)throw ca;},'MComposerEntry');function v(event){if(aa)return;ba.invoke(new p(i.get(event.getNode(o.ENTRY_TRIGGER))[m.COMPOSITION]));}function w(ca){aa=true;var da=null;if(n.hasRegisteredInstance()){da=z(ca);}else da=y(ca).then(function(){return z(ca);},u);r(da,function(){return aa=false;});return da;}function x(){if(n.hasRegisteredInstance())return t;return new l().send();}function y(ca){k.show();var da=x(ca);r(da,function(){return k.hide();});return da;}function z(ca){return new h(function(da,ea){var fa={};fa[m.COMPOSITION]=ca.serialize();fa[m.ON_CANCEL]=ea;fa[m.ON_SUBMIT]=da;q.invoke('MComposer:entry:js',null,fa);});}var aa=false;q.listen('click',o.ENTRY_TRIGGER,v);q.listen('m:page:unload',null,function(){aa=false;});var ba={invoke:function(ca){if(aa)return s;return w(ca||new p());}};f.exports=ba;},null);
__d('GeneratedLoggerUtils',['Banzai','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.post;if(window.location.search.indexOf('showlog')>-1)j=function(l,m,n){h.post(l,m,n);};var k={log:j,serializeVector:function(l){if(!l)return l;if(Array.isArray(l))return l;if(l.toArray){var m=l;return m.toArray();}if(typeof l==='object'&&l[typeof Symbol==='function'?Symbol.iterator:'@@iterator'])return Array.from(l);i(0);},serializeMap:function(l){if(!l)return l;if(l.toJS){var m=l;return m.toJS();}if(typeof l==='object'&&l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']){var n=l,o={};for(var p=n,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++];}else{r=p.next();if(r.done)break;s=r.value;}var t=s;o[t[0]]=t[1];}return o;}if(Object.prototype.toString.call(l)==='[object Object]')return l;i(0);},checkExtraDataFieldNames:function(l,m){Object.keys(l).forEach(function(n){!!m.hasOwnProperty(n)?i(0):void 0;});},warnForInvalidFieldNames:function(l,m,n,o){},throwIfNull:function(l,m){!l?i(0):void 0;return l;}};f.exports=k;},null);
__d('BehaviorsMixin',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(l){'use strict';this.$InstalledBehavior1=l;this.$InstalledBehavior2=false;}h.prototype.enable=function(){'use strict';if(!this.$InstalledBehavior2){this.$InstalledBehavior2=true;this.$InstalledBehavior1.enable();}};h.prototype.disable=function(){'use strict';if(this.$InstalledBehavior2){this.$InstalledBehavior2=false;this.$InstalledBehavior1.disable();}};var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID;}var k={enableBehavior:function(l){if(!this._behaviors)this._behaviors={};var m=j(l);if(!this._behaviors[m])this._behaviors[m]=new h(new l(this));this._behaviors[m].enable();return this;},disableBehavior:function(l){if(this._behaviors){var m=j(l);if(this._behaviors[m])this._behaviors[m].disable();}return this;},enableBehaviors:function(l){l.forEach(this.enableBehavior,this);return this;},destroyBehaviors:function(){if(this._behaviors){for(var l in this._behaviors)this._behaviors[l].disable();this._behaviors={};}},hasBehavior:function(l){return this._behaviors&&j(l) in this._behaviors;}};f.exports=k;},null);
__d("clamp",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(i<j)return j;if(i>k)return k;return i;}f.exports=h;},null);
__d('mixin',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m,n,o,p,q,r,s){var t=function(){},u=[i,j,k,l,m,n,o,p,q,r],v=0,w=void 0;while(u[v]){w=u[v];for(var x in w)if(w.hasOwnProperty(x))t.prototype[x]=w[x];v+=1;}return t;}f.exports=h;},null);
__d('uuid',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(i){var j=Math.random()*16|0,k=i=='x'?j:j&3|8;return k.toString(16);});}f.exports=h;},null);
__d('BaseGraphQLSubscription',['BanzaiLogger','CurrentUser','CurrentLocale','RTISubscriptionManager'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={subscribe:function(m,n){var o={transformContext:JSON.stringify(this._getTransformContext(m))};this._logEvent('subscribe');return k.subscribe(this._getTopic(m),function(p){n(JSON.parse(p.payload));},o);},_getTransformContext:function(m){var n=155160167952447;return {viewerID:i.getID(),appID:n,locale:j.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(m))};},_logEvent:function(m){h.log('GraphQLSubscriptionsLoggerConfig',{mechanism:'skywalker',subscription_call:this._getSubscriptionCallName(),event:m});}};f.exports=l;},null);
__d("requireWeak",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){e.call(null,[i],j);}f.exports=h;},null);
__d('Locale',['Style','ExecutionEnvironment'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j;function k(){if(!i.canUseDOM){j=false;}else if(j===undefined)j='rtl'===h.get(document.body,'direction');return j;}var l={isRTL:k};f.exports=l;},null);
__d('UFIReactionsUtils',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getReactionData:function(i,j,k){j=parseInt(j,10);var l=!!j,m=i.reactorids?i.reactorids.slice(0):[],n=m.indexOf(k),o=0;if(l){if(n<0){m.unshift(k);o=1;}}else if(n>-1){m.splice(n,1);o=-1;}var p=Math.max(i.reactioncount+o,0),q=i.reactioncountreduced;if(q&&!isNaN(q))q=p.toString();var r=i.reactioncountmap||{},s,t=i.viewerreaction;if(t&&r[t]){r[t]['default']=Math.max((r[t]['default']||0)-1,0);s=r[t].reduced;if(s&&!isNaN(s))r[t].reduced=r[t]['default'].toString();}if(l&&r[j]){r[j]['default']=(r[j]['default']||0)+1;s=r[j].reduced;if(s&&!isNaN(s))r[j].reduced=r[j]['default'].toString();}var u=i.userreactions;if(!u||Array.isArray(u))u={};if(l){u[k]=j;}else delete u[k];var v=i.importantreactorids||[],w=v.indexOf(k);if(l&&w===-1){v.unshift(k);}else if(!l&&w!==-1)v.splice(w,1);var x=null;if(i.reactionsentences){var y=!(t&&j);x={current:i.reactionsentences[y?'alternate':'current'],alternate:i.reactionsentences[y?'current':'alternate']};}return {importantreactorids:v,reactioncount:p,reactioncountmap:r,reactioncountreduced:q,reactionsentences:x,reactorids:m,userreactions:u,viewerreaction:j};},getReactionCountMapFromSummary:function(i){var j={};if(!i)return j;for(var k=0;k<i.length;k++){var l=i[k],m=l.feedback_reaction.key;j[m]={'default':l.reactors&&l.reactors.count,reduced:l.reactors&&l.reactors.display_count};}return j;}};f.exports=h;},null);
__d('createIxElement',['DOM','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m){var n='img',o;!(l.sprited||l.uri)?i(0):void 0;if(l.sprited){n=j(n,l.spriteMapCssClass,l.spriteCssClass);o=h.create('i',{className:n});if(m!=null)h.setContent(o,h.create('u',null,m));}else if(l.uri){o=h.create('img',{className:n,src:l.uri});if(m!=null)o.setAttribute('alt',m);if(l.width)o.setAttribute('width',l.width);if(l.height)o.setAttribute('height',l.height);}return o;}f.exports=k;},null);
__d("nullthrows",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){if(i!=null)return i;throw new Error("Got unexpected null or undefined");};f.exports=h;},null);
__d('MFeedErrorDetection',['Banzai','ge'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(event,m,n,o){var p={event:event,shouldLogDetail:m,site:'mtouch'};if(m){p.intValues=n;p.normalValues=o;}h.post('feed_error_detection',p,{delay:0});}var l={registerFeedStories:function(m,n){var o=i(m);if(o==null)return;var p=o.childNodes;for(var q=0;q<p.length;q++){var r=p[q],s=r.childNodes[0],t=s.getAttribute('data-dedupekey'),u=r.getAttribute('data-ft');if(!t||!u)continue;if(t in j){var v={};if(n)v={dedupKey:t,ft_A:u,ft_B:j[t]};k('mtouch_duplicate_stories',n,{},{dup_field:v});}else j[t]=u;}}};f.exports=l;},null);
__d('MAnimation',['CSS','MLegacyDataStore','getVendorPrefixedName','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j('animation-duration');function m(n,o,p){var q=i.get(n);clearTimeout(q.timerEnd);delete q.timerEnd;h.conditionClass(n,o,false);h.conditionClass(n,'accelerate',true);n.style[l]=p+'ms';q.timerStart=k(h.conditionClass.bind(null,n,o,true),0);q.timerEnd=k(function(){h.conditionClass.bind(null,n,o,false);n.style[l]='';h.conditionClass(n,'accelerate',false);var r=i.get(n);clearTimeout(r.timerStart);delete r.timerStart;},p);}f.exports={animate:m};},null);
__d('MExpandablePymk',['setTimeoutAcrossTransitions','CSS','DOM','MLegacyDataStore','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='m-add-friend';function n(p,q,r){var s=[],t=0;if(p){var u=j.scry(p,'div','story-wrap');for(var v=0;v<u.length;v++){var w=j.find(u[v],'a',m),x=k.get(w);s.push(x.id);var y=k.get(u[v]);if(y.sent)t++;}r.pymk_group_id=q;}if(s)r.uw=s.join(',');if(t)r.pc=t;return s;}function o(p,event,q){if(!p)return;var r=p.getElementsByClassName("_4-ck");if(r.length>0)h(function(){p.style.height="";},800);var s=function(aa){return function(){i.conditionClass(aa,"_4-cl",true);};},t=function(aa){return function(){i.conditionClass(aa,"_4-ck",false);};},u=j.scry(p,'div','story-wrap'),v=0;for(var w=0;w<u.length;w++){var x=k.get(u[w]);if(x.transitionIn){k.set(u[w],{transitionIn:false});h(s(u[w]),800);h(t(u[w]),1200);}else if(x.sent){var y=u[w];if(r.length>0)p.style.height=(p.offsetHeight-r.length*r[0].offsetHeight).toString()+'px';i.conditionClass(y,"_4-cn",true);if(q){i.conditionClass(y,"_4-co",true);i.conditionClass(y,"_4-cp",false);}h(function(){j.remove(y);},600);v++;}}if(v<u.length){var z=event.getNode('story-wrap');k.set(z,{sent:true});if(q){i.conditionClass(z,"_4-cp",true);i.conditionClass(z,"_4-co",false);}}}f.exports={getExtraArgs:n,animateExpansion:o};},null);
__d('MFriendingActionError',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={CONFIRM_INCOMING_REQUEST_ERROR:'confirm_incomming_request_error',DELETE_INCOMING_REQUEST_ERROR:'delete_incomming_request_error',SEND_OUTGOING_REQUEST_ERROR:'send_outgoing_request_error',CANCEL_OUTGOING_REQUEST_ERROR:'cancel_outgoing_request_error'};},null);
__d('MFriendingState',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={REQUEST_SENT:'m:friending-state:request-sent',REQUEST_CANCELED:'m:friending-state:request-canceled',UNFRIENDED:'m:friending-state:unfriended'};},null);
__d('MAddFriend',['DOM','MLegacyDataStore','Stratcom','MAnimation','MExpandablePymk','MFriendingState','MPageCache','MPageControllerPath','MRequest','MRequestTypes','MURI','MFriendingActionError','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u='m-add-friend',v='m-cancel-request',w='m-unfriend-request',x='m-unfollow-request',y='m-follow-request',z='check',aa='friends',ba='add_friend_pymk_chain_placeholder',ca='/a/mobile/friends/add_friend.php',da='/a/friendrequest/cancel/index.php',ea='/a/friends/remove',fa='/a/subscriptions/remove',ga='/a/subscriptions/add',ha=86;function ia(sa){var ta=sa.querySelector('.touched_hide');ta&&k.animate(ta,"_4-ic",500);}function ja(){var sa=o.getRequestPath();n.removeCachedPage(sa);n.clearCachedIUIResponses(sa);}function ka(event){var sa=event.getNode(u),ta=i.get(sa),ua=event.getNode('m-add-friend-secondary'),va=i.get(ua),wa=ta.pymk_group_id||'pymk_suggestions_box',xa=event.getNode('id:'+wa),ya=document.getElementById(ba);i.set(ua,{one_click_adding:true,one_click_cancel_event:null});ja();var za={id:ta.id,hf:ta.hf,sc:ta.sc,so:ta.so,pl:ta.pl,at:ta.at,et:ta.et,ed:ta.ed,fref:ta.fref};if(ta.floc)za.floc=ta.floc;if(ta.frefs)za.frefs=ta.frefs;if(ta.el)za.el=ta.el;var ab=l.getExtraArgs(xa,wa,za),bb=h.find(ua,'*',z),cb=h.find(ua,'div','m-add-friend-flyout'),db=new r(ca);if(ta.searchlog)db.addQueryData(ta.searchlog);var eb=new r(sa.href).getQueryData()._ft_;if(eb)db.addQueryData({_ft_:eb});var fb=new p(db.toString()).setType(q.DEPENDENT);fb.setData(za);var gb=function(){h.show(bb);i.get(ua).bounce&&ia(bb);j.listen('friending_state_change',null,la.bind(event,za.id,s.SEND_OUTGOING_REQUEST_ERROR));j.invoke(m.REQUEST_SENT,null,{event:event,userid:za.id});};fb.listen('start',function(){h.hide(cb);gb();});fb.listen('postprocess',function(hb){if(va.one_click_adding){i.set(ua,{one_click_adding:false});if(va.one_click_cancel_event)na(va.one_click_cancel_event);}if(ab)l.animateExpansion(xa,event,ya);});fb.send();event.kill();}function la(sa,ta,event){var ua=event.getData();if(ua.userid!=sa)return;if(ua.error!=ta)return;var va=this.getNode('m-add-friend-secondary');if(ua.error===s.SEND_OUTGOING_REQUEST_ERROR){var wa=h.find(va,'*',z),xa=h.find(va,'div','m-add-friend-flyout');h.show(xa);h.hide(wa);j.invoke(s.SEND_OUTGOING_REQUEST_ERROR,null,{event:this});}else if(ua.error===s.CANCEL_OUTGOING_REQUEST_ERROR){var ya=h.find(va,'a','m-cancel-request'),za=h.find(va,'div','m-add-friend-flyout');h.show(ya);h.hide(za);j.invoke(s.CANCEL_OUTGOING_REQUEST_ERROR,null,{event:this});}j.removeCurrentListener();}function ma(sa){var ta=i.get(sa.getNode(w)),event=ta.flyoutEvent,ua=event.getNode('undoable-action');if(!ua)ua=event.getNode('m-add-friend-secondary');var va=h.scry(ua,'*',aa)[0],wa=h.find(ua,'div','m-add-friend-flyout'),xa=new r(ea),ya=new p(xa);ya.setData({friend_id:ta.id,noReload:true,unref:ta.unfriend_ref});ya.listen('start',function(){h.hide(va);h.show(wa);j.invoke(m.UNFRIENDED,null,{event:event});});ya.send();event.kill();}function na(event){var sa=i.get(event.getNode(v)),ta=event.getNode('undoable-action');if(!ta)ta=event.getNode('m-add-friend-secondary');if(!ta)ta=sa.parentNode;var ua=h.scry(ta,'*',z)[0],va=h.find(ta,'*','load'),wa=h.find(ta,'div','m-add-friend-flyout'),xa=event.getNode('m-add-friend-secondary'),ya=xa?i.get(xa):null;if(ya&&ya.one_click_adding){i.set(xa,{one_click_cancel_event:event});h.hide(ua);h.show(va);return;}var za=function(){h.show(wa);j.invoke(m.REQUEST_CANCELED,null,{event:event,userid:sa.id});},ab=new r(da),bb=new p(ab);bb.setData({subject_id:sa.id,ref_param:sa.ref_param,floc:sa.floc,frefs:sa.frefs});j.listen('friending_state_change',null,la.bind(event,sa.id,s.CANCEL_OUTGOING_REQUEST_ERROR));bb.listen('start',function(){h.hide(ua);h.show(va);});bb.listen('finally',function(){h.hide(va);za();var cb=event.getNode('story-wrap');if(cb)i.set(cb,{sent:false});});bb.send();event.kill();}function oa(event){var sa=event.getNode(x),ta=i.get(sa),ua=new r(fa),va=new p(ua);va.setData({subject_id:ta.id,forceredirect:false,location:ha});va.send();event=ta.flyoutEvent;var wa=event.getNode('popup-action-trigger');i.set(wa,{is_following:false});event.kill();}function pa(event){var sa=event.getNode(y),ta=i.get(sa),ua=new r(ga),va=new p(ua);va.setData({subject_id:ta.id,forceredirect:false,location:ha});va.send();event=ta.flyoutEvent;var wa=event.getNode('popup-action-trigger');i.set(wa,{is_following:true});event.kill();}var qa=false,ra=function(sa){if(qa)return;qa=true;j.listen('click',u,ka);j.listen('click',v,na);j.listen('click',w,ma);if(typeof sa!=='undefined'&&sa){j.listen('click',x,oa);j.listen('click',y,pa);}};f.exports={main:ra};},null);
__d("XWebGraphQLQueryController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/webgraphql\/query\/",{query_id:{type:"String"},variables:{type:"String"}});},null);
__d("CommentLikeSubscriptionWebGraphQLQuery",["XWebGraphQLQueryController"],function a(b,c,d,e,f,g,h){"use strict";if(c.__markCompiled)c.__markCompiled();var i={getURI:function(j){return h.getURIBuilder().setString('query_id',this.getQueryID()).setString('variables',JSON.stringify(j)).getURI();},getQueryID:function(){return "1710550109168151";}};f.exports=i;},null);
__d('UFICommentLikeSubscription',['CommentLikeSubscriptionWebGraphQLQuery','BaseGraphQLSubscription','uuid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=babelHelpers['extends']({},i,{_getTopic:function(l){return 'gqls/comment_like_subscribe/top_level_feedback_id_'+l;},_getQueryID:function(){return h.getQueryID();},_getQueryParameters:function(l){return {input:JSON.stringify({client_subscription_id:j(),top_level_feedback_id:l})};},_getSubscriptionCallName:function(){return 'comment_like_subscribe';}});f.exports=k;},null);
__d("MSiteCommentCreateSubscriptionWebGraphQLQuery",["XWebGraphQLQueryController"],function a(b,c,d,e,f,g,h){"use strict";if(c.__markCompiled)c.__markCompiled();var i={getURI:function(j){return h.getURIBuilder().setString('query_id',this.getQueryID()).setString('variables',JSON.stringify(j)).getURI();},getQueryID:function(){return "1710974555792373";}};f.exports=i;},null);
__d('UFICommentSubscription',['MSiteCommentCreateSubscriptionWebGraphQLQuery','BaseGraphQLSubscription','uuid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=babelHelpers['extends']({},i,{_getTopic:function(l){return 'gqls/comment_create_subscribe/feedback_id_'+l;},_getQueryID:function(){return h.getQueryID();},_getQueryParameters:function(l){return {input:JSON.stringify({client_subscription_id:j(),feedback_id:l})};},_getSubscriptionCallName:function(){return 'comment_create_subscribe';}});f.exports=k;},null);
__d("MSiteFeedbackLikeSubscriptionWebGraphQLQuery",["XWebGraphQLQueryController"],function a(b,c,d,e,f,g,h){"use strict";if(c.__markCompiled)c.__markCompiled();var i={getURI:function(j){return h.getURIBuilder().setString('query_id',this.getQueryID()).setString('variables',JSON.stringify(j)).getURI();},getQueryID:function(){return "1710550199168142";}};f.exports=i;},null);
__d('UFILikeSubscription',['MSiteFeedbackLikeSubscriptionWebGraphQLQuery','BaseGraphQLSubscription','uuid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=babelHelpers['extends']({},i,{_getTopic:function(l){return 'gqls/feedback_like_subscribe/feedback_id_'+l;},_getQueryID:function(){return h.getQueryID();},_getQueryParameters:function(l){return {input:JSON.stringify({client_subscription_id:j(),feedback_id:l})};},_getSubscriptionCallName:function(){return 'feedback_like_subscribe';}});f.exports=k;},null);
__d('AppRequestLogger',['MCache'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={setLastApp:function(j){var k=h.getItem('appEventList')||[];k.push({app_id:j,time:Math.round(Date.now()/1000),event_type:'request_accept'});h.setItem('appEventList',k);}};f.exports=i;},null);
__d('MViewportTracking',['AsyncSignal','setTimeoutAcrossTransitions','DOM','MViewport','Stratcom','Style','Vector','Visibility'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p='/feed/feed_tracking/vpv_waterfall_logging';q.prototype.init=function(r){'use strict';this.isLoose=!!r.is_loose;this.throttleNoDelay=!!r.throttle_no_delay;this.relaxedMinSize=!!r.relaxed_min_size;this.vpvDebug=!!r.vpv_debug;this.shouldWaterfallLogging=false;this.isTimeTrackingEnabled=false;this.getDataFromConfig(r);this.maxScrollPosition=0;this.minSizeToBeVisible=200;this.readStoryIDs={};this.waterfallLoggedStoryIDs={};this.fireEvent();this.$MViewportTracking1=[l.listen('m:page:unload',null,this.onUnload.bind(this))];if(r.triggerOverride){r.triggerOverride.forEach(function(s){var event=s[0],t=s[1];l.listen(event,t,this.$MViewportTracking2.bind(this));}.bind(this));}else this.$MViewportTracking1.push(l.listen('scroll',null,this.$MViewportTracking2.bind(this)));if(this.isTimeTrackingEnabled){this.$MViewportTracking1.push(o.addListener(o.VISIBLE,function(){this.startRecordingTimeTrackingData();}.bind(this)));this.$MViewportTracking1.push(o.addListener(o.HIDDEN,function(){this.stopRecordingTimeTrackingData();}.bind(this)));}};q.prototype.getMinSizeToBeVisible=function(r){'use strict';if(!this.relaxedMinSize)return this.minSizeToBeVisible;var s;if('getBoundingClientRect' in r){var t=r.getBoundingClientRect();s=t.height;}else s=n.getDim(r).y;return Math.min(this.minSizeToBeVisible,s*.5);};q.prototype.fireEvent=function(){'use strict';var r=this.getAllStoriesInView();for(var s=0;s<r.length;s++){var t=r[s],u=this.getStoryID(t);if(!u||u in this.readStoryIDs)continue;this.readStoryIDs[u]=true;this.sendDataToLog(this.getDataToLog(t));if(this.shouldWaterfallLogging)this.waterfallLogStep(t,'200_sent_to_Banzai');if(this.vpvDebug){var v=j.scry(t,'div')[0];if(v)m.set(v,'background-color','#fffbe2');}this.markStoryRead(t);}};q.prototype.markStoryRead=function(r){'use strict';};q.prototype.$MViewportTracking2=function(){'use strict';if(this.isLoose){if(!this.$MViewportTracking3)this.$MViewportTracking3=i(function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.$MViewportTracking3=null;this.maxScrollPosition=Math.max(this.maxScrollPosition,k.getScrollTop());if(!this.throttleNoDelay){clearTimeout(this.$MViewportTracking4);this.$MViewportTracking4=i(function(){this.fireEvent();}.bind(this),this.getTimeout());}else this.fireEvent();}.bind(this),100);}else{clearTimeout(this.$MViewportTracking4);this.$MViewportTracking4=i(function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.fireEvent();}.bind(this),this.getTimeout());}};q.prototype.waterfallLogStep=function(r,s){'use strict';var t=this.getStoryID(r);if(this.waterfallLoggedStoryIDs[s]&&this.waterfallLoggedStoryIDs[s][t])return;var u=this.getWaterfallData(r,s);new h(p,u).send();if(!this.waterfallLoggedStoryIDs[s])this.waterfallLoggedStoryIDs[s]={};this.waterfallLoggedStoryIDs[s][t]=true;};q.prototype.getTimetrackingDataToLog=function(r){'use strict';return {vpvd_start_timestamp:r.evp_ts/1000,vpvd_time_delta:Math.round(r.vpvd)};};q.prototype.recordTimeStoryWasInView=function(r){'use strict';if(this.isTimeTrackingEnabled&&r.vpvd>0)this.sendTimetrackingDataToLog(this.getTimetrackingDataToLog(r));};q.prototype.startRecordingTimeTrackingData=function(){'use strict';this.$MViewportTracking5(false);};q.prototype.stopRecordingTimeTrackingData=function(){'use strict';this.$MViewportTracking5(true);};q.prototype.$MViewportTracking5=function(r){'use strict';if(!this.activeStories)this.activeStories={};var s=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=s;var t=this.getAllStoriesInView();this.updateVPVDurations(s);this.updateActiveStories(t,s);this.recordVPVDurations(t,r);if(r){this.latestTimeTrackingTimestamp=0;}else this.latestTimeTrackingTimestamp=s;};q.prototype.updateVPVDurations=function(r){'use strict';if(r-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;var s=r-this.latestTimeTrackingTimestamp;for(var t in this.activeStories)if(this.activeStories.hasOwnProperty(t))this.activeStories[t].vpvd+=s;};q.prototype.isVisible=function(r,s){'use strict';for(var t=0;t<s.length;t++)if(this.getStoryID(s[t])===r)return true;return false;};q.prototype.recordVPVDurations=function(r,s){'use strict';this.recordVPVDurationsInternal(r,s);};q.prototype.recordVPVDurationsInternal=function(r,s){'use strict';for(var t in this.activeStories)if(this.activeStories.hasOwnProperty(t))if(s||!this.isVisible(t,r)){this.recordTimeStoryWasInView(this.activeStories[t]);delete this.activeStories[t];}};q.prototype.updateActiveStories=function(r,s){'use strict';for(var t=0;t<r.length;t++){var u=this.getStoryID(r[t]);if(!(u in this.activeStories))this.activeStories[u]={evp_ts:s,story:r[t],vpvd:0};this.activeStories[u].ts=s;if(this.vpvdAnalysis){this.activeStories[u].visible_position=r[u].visible_position;this.activeStories[u].y=r[u].y;}}};q.prototype.getAllStoriesInView=function(){'use strict';var r=[],s=this.getAllStories(),t=k.getScrollTop(),u=k.getHeight(),v=this.isLoose,w=u+this.maxScrollPosition-t;for(var x=0;x<s.length;x++){var y=s[x],z,aa,ba;if('getBoundingClientRect' in y){z=y.getBoundingClientRect();aa=z.bottom;ba=z.top;}else{ba=n.getPos(y).y-t;aa=ba+n.getDim(y).y;}if(!ba&&!aa)continue;var ca=this.getMinSizeToBeVisible(y);if(!v&&ba>u-ca)break;if(!v&&ba<=u-ca&&aa>=ca||v&&ba<w)r.push(y);}return r;};q.prototype.cleanup=function(){'use strict';this.$MViewportTracking1.forEach(function(r){r.remove();});this.$MViewportTracking1=[];};q.prototype.onUnload=function(){'use strict';if(this.isTimeTrackingEnabled)this.stopRecordingTimeTrackingData();this.cleanup();};q.prototype.sendTimetrackingDataToLog=function(r){'use strict';this.sendDataToLog(r);};function q(){'use strict';}f.exports=q;},null);
__d('MEntstreamViewportTracking',['Banzai','DOM','FBJSON','MViewport','MViewportTracking','StratcomManager','Vector'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p;if(c.__markCompiled)c.__markCompiled();var q=51;o=babelHelpers.inherits(r,l);p=o&&o.prototype;r.init=function(s){'use strict';m.enableDispatch(document,'scroll');new r().init(s);};r.prototype.getDataFromConfig=function(s){'use strict';this.shouldWaterfallLogging=!!s.should_waterfall_logging;};r.prototype.__getStreamRoot=function(){'use strict';if(!this.$MEntstreamViewportTracking1)this.$MEntstreamViewportTracking1=document.getElementById('root');return this.$MEntstreamViewportTracking1;};r.prototype.getAllStories=function(){'use strict';return i.scry(this.__getStreamRoot(),'article','story-div');};r.prototype.getTimeout=function(){'use strict';return 300;};r.prototype.getDataToLog=function(s){'use strict';var t=Object.assign(j.parse(s.getAttribute('data-ft'),f.id),{evt:q}),u,v,w;if('getBoundingClientRect' in s){u=s.getBoundingClientRect();v=u.height;w=u.top+k.getScrollTop();}else{v=n.getDim(s).y;w=n.getPos(s).y;}t.evt_value=v;t.offset=w;t.story_height=v;t.impression_type=k.isLandscape()?'landscape':'portrait';if(this.shouldWaterfallLogging){t.should_waterfall_logging=1;t['interface']='m_touch';}return t;};r.prototype.getWaterfallData=function(s,t){'use strict';var u=this.getDataToLog(s);u.step=t;return u;};r.prototype.getStoryID=function(s){'use strict';var t=s.getAttribute('data-ft');if(!t)return null;return j.parse(t,f.id).mf_story_key;};r.prototype.sendDataToLog=function(s){'use strict';h.post('feed_tracking',{ft:s});};function r(){'use strict';o.apply(this,arguments);}f.exports=r;},null);
__d('LiveWWWFeedbackTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:LiveWWWFeedbackLoggerConfig',this.$LiveWWWFeedbackTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:LiveWWWFeedbackLoggerConfig',this.$LiveWWWFeedbackTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$LiveWWWFeedbackTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$LiveWWWFeedbackTypedLogger1=babelHelpers['extends']({},this.$LiveWWWFeedbackTypedLogger1,m);return this;};k.prototype.setCommentID=function(m){this.$LiveWWWFeedbackTypedLogger1.comment_id=m;return this;};k.prototype.setEvent=function(m){this.$LiveWWWFeedbackTypedLogger1.event=m;return this;};k.prototype.setIsMSite=function(m){this.$LiveWWWFeedbackTypedLogger1.is_m_site=m;return this;};k.prototype.setMechanism=function(m){this.$LiveWWWFeedbackTypedLogger1.mechanism=m;return this;};k.prototype.setOriginatedLocally=function(m){this.$LiveWWWFeedbackTypedLogger1.originated_locally=m;return this;};k.prototype.setRecipientID=function(m){this.$LiveWWWFeedbackTypedLogger1.recipient_id=m;return this;};k.prototype.setTimeSinceSub=function(m){this.$LiveWWWFeedbackTypedLogger1.time_since_sub=m;return this;};k.prototype.setUpdateType=function(m){this.$LiveWWWFeedbackTypedLogger1.update_type=m;return this;};k.prototype.setVC=function(m){this.$LiveWWWFeedbackTypedLogger1.vc=m;return this;};var l={comment_id:true,event:true,is_m_site:true,mechanism:true,originated_locally:true,recipient_id:true,time_since_sub:true,update_type:true,vc:true};f.exports=k;},null);
__d('XD',['FBJSON','Stratcom','lowerFacebookDomain','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={send:function(m,n){l._ensureInit();if(!window.postMessage||!window.JSON)return;if(!window.parent)return;var o=h.stringify(m);n=n?/https?:\/\/[^\/]*/.exec(n)[0]:'*';var p='fb_xdm_frame_'+location.protocol.replace(/:/,''),q=window.parent.frames[p];if(q){var r=50,s=function(){if(q.proxyMessage){q.proxyMessage(o,n);}else if(--r)k(s,100);};s();}else window.parent.postMessage(o,n);},register:function(m,n,o){l._ensureInit();i.listen('xd_msg',null,function(event){var p=event.getData();if(p.cb==m||p.method==m){if(!o)i.removeCurrentListener();n(p);}});},guid:function(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');},_onMessage:function(event){var m=event.data;if(typeof m=='string')try{m=h.parse(m,f.id);}catch(n){}if(m&&(m.cb||m.method))i.invoke('xd_msg',null,m);},_ensureInit:function(){if(!l._initialized){l._initialized=true;}else return;if(document.domain.toLowerCase().match(/(^|\.)facebook\..*/))j();window.addEventListener('message',l._onMessage,false);}};f.exports=l;},null);
__d('MLiveData',['MDeepCopy','Stratcom','eventsMixinDeprecated'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={},l={},m,n={},o,p;function q(s){'use strict';this.$MLiveDataObject1=s;}q.prototype.getData=function(){'use strict';return h(k[this.$MLiveDataObject1]||{});};j(q,['change']);var r={_set:function(s,t,u){var v=k[s],w=v&&v.timestamp&&t.timestamp&&v.timestamp>t.timestamp;if(p||w)return;if(!v||u){k[s]=t;}else Object.assign(k[s]||{},t);if(!l[s])l[s]=new q(s);l[s].invoke('change');},update:function(s,t){this._set(s,t,false);},set:function(s,t){this._set(s,t,true);},get:function(s){if(!m)m=i.listen('m:page:render:cache:start',null,function(){p=true;i.listen('m:page:iui:response:complete',null,function(){p=false;i.removeCurrentListener();Object.keys(n).forEach(function(t){var u=k[t];if(u&&Object.keys(u).length)l[t].invoke('change');});});});if(!n[s])n[s]=true;if(!o)o=i.listen('m:page:unload',null,function(){n={};});if(!l[s])l[s]=new q(s);return l[s];}};f.exports=r;},null);
__d('MReactionsBlingBar',['MLiveData','Stratcom','SubscriptionsHandler','UFIReactionIcons','UFIReactionTypes','createIxElement','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=l.ordering.reduce(function(r,s,t){r[s]=t;return r;},{});function q(r){'use strict';var s=h.get(r.feedbackTargetID),t=new j();t.addSubscriptions(i.listen('m:page:unload',null,this.onUnload.bind(this)),s.listen('change',this.onChange.bind(this)));var u=r.elements;this.container=u.container;this.feedbackTarget=s;this.isPermalink=r.isPermalink;this.requestID=r.requestID;this.subscriptions=t;}q.prototype.onChange=function(){'use strict';var r=this.feedbackTarget.getData(),s=r.reactioncountmap,t=r.request_id;if(t===this.requestID||!s)return;var u=l.ordering.filter(function(fa){var ga=s[fa];return ga&&ga['default']>0;}).sort(function(fa,ga){var ha=s[fa]['default'],ia=s[ga]['default'];if(ha===ia)return p[fa]-p[ga];return ia-ha;}).slice(0,3).map(function(fa,ga){var ha=document.createElement('div');ha.className="_1g05";ha.style.zIndex=3-ga;ha.appendChild(m(k[fa][16]));return ha;}),v=u.reduce(function(fa,ga){fa.appendChild(ga);return fa;},document.createElement('div'));v.className="_1g07";var w=r.comment_count,x=r.share_count,y=r.reactionsentences.current&&r.reactionsentences.current.text,z=document.createElement('div');z.className="_1g06";z.setAttribute('aria-label',o._("{count} \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043e\u0442\u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043b\u0438",[o.param('count',y)]));z.textContent=y;v.appendChild(z);var aa=this.container,ba=document.createElement('div');ba.className="_1j-b";if(!this.isPermalink){if(w>0){var ca=document.createElement('span');ca.className="_1j-c";ca.textContent=w===1?o._("1 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"):o._("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438: {count}",[o.param('count',r.reduced_comment_count)]);ba.appendChild(ca);}if(x>0){var da=document.createElement('span');da.className="_1j-c";da.textContent=x===1?o._("1 \u043f\u0435\u0440\u0435\u043f\u043e\u0441\u0442"):o._("\u041f\u0435\u0440\u0435\u043f\u043e\u0441\u0442\u044b: {count}",[o.param('count',r.reduced_share_count)]);ba.appendChild(da);}}while(aa.hasChildNodes())aa.removeChild(aa.firstChild);if(y||w||x){var ea=document.createDocumentFragment();ea.appendChild(v);ea.appendChild(ba);aa.appendChild(ea);}};q.prototype.onUnload=function(){'use strict';this.subscriptions.release();this.subscriptions=null;};f.exports={init:function(r){new q(r);}};},null);
__d('MUFIReactionsUtils',['UFIReactionsUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=[null,null],j=1,k=0,l={getReactionData:function(m,n){var o=m.viewerreaction||m.has_viewer_liked?j:k,p=m.like_count,q=m.like_counts||i,r=m.like_friend_sentences||i,s=m.like_sentences||i;if(o&&!n){p--;}else if(!o&&n)p++;var t=m.reduced_like_count;if(!isNaN(t))t=p.toString();if(o&&!n||!o&&n){q=[q[1],q[0]];r=[r[1],r[0]];s=[s[1],s[0]];}return Object.assign({has_viewer_liked:!!n,like_count:p,like_counts:q,like_friend_sentences:r,like_sentences:s,reduced_like_count:t},h.getReactionData(m,n,m.actor_for_post));}};f.exports=l;},null);
__d('MUFIRequest',['ChannelClientID','ClientIDs','MLiveData','MRequest','MURI','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.getHashPrefixRegex(),o={};function p(r){var s=new l(r),t=s.getFragment();if(n.test(t))s=new l(t.replace(n,'/'));return s.setProtocol(null).setDomain(null).setFragment(null);}function q(r,s,t,u,v){if(s){s.request_id=null;j.update(r,s);}if(o[r])o[r].abort();t.addQueryData('client_id',i.getNewClientID());t.addQueryData('session_id',h.getID());var w=new k(t.toString());w.listen('finally',function(){o[r]=null;});w.listen('postprocess',function(){m.invoke('m:ajax:complete');});if(v)for(var x in v)w.listen(x,v[x]);w.setAutoRetry(true);if(u)w.setData(u);o[r]=w;w.send();}f.exports={getURI:p,send:q};},null);
__d("XUFIReactionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/reaction\/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1}});},null);
__d('MReactionsFlyout',['ActorURI','BanzaiLogger','CSS','MLegacyDataStore','MLiveData','MParent','MUFIConfig','MUFIReactionsUtils','MUFIRequest','Stratcom','SubscriptionsHandler','XUFIReactionController','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=[1,2,4,3,7,8],w=48,x=5;function y(aa){'use strict';this.flyout=aa;this.active=null;this.canScroll=true;this.canScrub=false;this.clickCaptureListener=null;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.reactionElements=document.getElementsByClassName("_1-kd");this.timing={};this.touchStartX=0;this.pageSubscriptions=new r();this.flyoutSubscriptions=new r();this.onClick=this.onClick.bind(this);this.onTouchEnd=this.onTouchEnd.bind(this);this.onTouchMove=this.onTouchMove.bind(this);this.onTouchStart=this.onTouchStart.bind(this);this.onUnload=this.onUnload.bind(this);this.onWindowTouchMove=this.onWindowTouchMove.bind(this);this.onWindowClick=this.onWindowClick.bind(this);this.onWindowTouchEnd=this.onWindowTouchEnd.bind(this);this.onScreenReaderTrigger=this.onScreenReaderTrigger.bind(this);this.onHide=this.onHide.bind(this);this.setNUXTooltip=this.setNUXTooltip.bind(this);this.pageSubscriptions.addSubscriptions(aa.addListener('hide',this.onHide),q.listen('m:page:unload',null,this.onUnload),q.listen('m:viewport:orientation-change',null,this.onHide),q.listen('touchend',null,this.onWindowTouchEnd),q.listen('touchstart','like-reaction-flyout',this.onTouchStart),q.listen('click','screenreader-reactions-trigger',this.onScreenReaderTrigger));if(n.hasIEMobileFixes){this.pageSubscriptions.addSubscriptions(q.listen('touchcancel',null,this.onWindowTouchEnd));}else this.pageSubscriptions.addSubscriptions(q.listen('touchmove',null,this.onWindowTouchMove));}y.prototype.onUnload=function(){'use strict';this.onHide();this.pageSubscriptions.release();this.pageSubscriptions=null;};y.prototype.onClick=function(event){'use strict';this.select(event.getNode('reaction-item'));};y.prototype.onScreenReaderTrigger=function(event){'use strict';var aa=event.getTarget().previousSibling;if(!aa)return;this.flyout.setContext(aa);this.setSupported();this.flyout.show();this.flyoutSubscriptions.addSubscriptions(q.listen('click','reaction-item',this.onClick));var ba=l.get(k.get(this.flyout.getContext()).feedbackTarget).getData(),ca=ba.viewerreaction,da=null;for(var ea=0,fa=this.reactionElements.length;ea<fa;ea++){var ga=k.get(this.reactionElements[ea]),ha=ga.reaction;if(ha===ca)da=this.reactionElements[ea];}if(!da)da=this.reactionElements[0];da.focus();};y.prototype.select=function(aa){var ba;'use strict';var ca=this.flyout;ca.hide();var da=k.get(aa),ea=da.reaction,fa=ca.getContext(),ga=k.get(fa),ha=ga.feedbackTarget,ia=l.get(ha).getData();if(ia.viewerreaction===ea)return;var ja=ia.actor_for_post,ka=m.bySigil(fa,'story-div');p.send(ha,o.getReactionData(ia,ea,ja),s.getURIBuilder().getURI(),(ba={},ba[h.PARAMETER_ACTOR]=ja,ba._ft_=ka?k.get(ka).linkdata:null,ba.ft_ent_identifier=ha,ba.reaction_type=ea,ba));};y.prototype.onClickCapture=function(event){'use strict';event.stop();};y.prototype.onTouchStart=function(event){'use strict';var aa=this.flyout;if(!aa.isShown()){this.touchStartX=event.getRawEvent().changedTouches[0].clientX;this.timing.touchStartTime=Date.now();this.preventScrollTimeout=setTimeout(function(){this.canScroll=false;}.bind(this),200);this.longpressTimeout=setTimeout(function(){this.timing.shownTime=Date.now();var ba=event.getTarget();aa.setContext(ba);this.setSupported();var ca=this.nuxTooltip;if(ca)ca.hide();if(n.hasSpritedDock)this.scaleSpritedDock(aa);aa.show();this.createUFIOverlay();this.showOverlayDots();this.flyoutSubscriptions.addSubscriptions(q.listen('click','reaction-item',this.onClick),q.listenCapture('click','like-reaction-flyout',this.onClickCapture),q.listenCapture('click',null,this.onWindowClick));if(!n.hasIEMobileFixes)this.flyoutSubscriptions.addSubscriptions(q.listen('touchend','like-reaction-flyout',this.onTouchEnd),q.listen('touchend','reaction-item',this.onTouchEnd),q.listen('touchmove','like-reaction-flyout',this.onTouchMove),q.listen('touchmove','reaction-item',this.onTouchMove));}.bind(this),300);}};y.prototype.onTouchMove=function(event){'use strict';if(!this.canScroll)event.prevent();var aa=event.getRawEvent().touches[0],ba=aa.clientX,ca=aa.clientY,da=document.elementFromPoint(ba,ca);if(da){var ea=da.nodeName==='I';if(!(ea||this.canScrub)){this.canScrub=Math.abs(this.touchStartX-ba)>=25;return;}var fa=this.flyout;if(!n.hasLabelOnlyScrubbing)fa.getContentRoot().setAttribute('data-longpress',true);if(fa.getContentRoot().contains(da)){if(ea)da=da.parentNode.parentNode;if(this.active!==da&&k.get(da).reaction){this.showOverlayDots();this.removeActive();this.active=da;da.setAttribute('data-active',true);}}else if(!this.overlay.container.contains(da)){this.removeActive();this.showOverlayRelease();}}};y.prototype.removeActive=function(){'use strict';var aa=this.active;if(aa){this.active=null;aa.removeAttribute('data-active');}};y.prototype.showOverlayDots=function(){'use strict';var aa=this.overlay;j.hide(aa.release);j.show(aa.dots);};y.prototype.showOverlayRelease=function(){'use strict';var aa=this.overlay;j.hide(aa.dots);j.show(aa.release);};y.prototype.onTouchEnd=function(event){'use strict';var aa=this.active;if(aa){this.log({finalReaction:k.get(aa).reaction,viaScrubbing:true});this.select(aa);}else{var ba=event.getRawEvent().changedTouches[0],ca=ba.clientX,da=ba.clientY,ea=document.elementFromPoint(ca,da),fa=this.flyout;if(ea&&!(fa.getContentRoot().contains(ea)||fa.getContext().contains(ea)||this.overlay.container.contains(ea)))fa.hide();}};y.prototype.onWindowClick=function(event){'use strict';var aa=void 0,ba=event.getNode('reaction-item');if(ba)aa=k.get(ba).reaction;this.log({finalReaction:aa,viaScrubbing:false});};y.prototype.onWindowTouchEnd=function(){'use strict';var aa=this.flyout;if(aa.isShown()){this.timing.touchEndTime=Date.now();if(!n.hasLabelOnlyScrubbing)aa.getContentRoot().removeAttribute('data-longpress');}else{this.canScroll=true;clearTimeout(this.longpressTimeout);clearTimeout(this.preventScrollTimeout);}};y.prototype.onHide=function(){'use strict';this.canScroll=true;this.canScrub=false;this.removeActive();this.removeUFIOverlay();this.flyoutSubscriptions.release();this.flyoutSubscriptions=new r();};y.prototype.onWindowTouchMove=function(){'use strict';if(!this.flyout.isShown()){this.canScroll=true;clearTimeout(this.longpressTimeout);clearTimeout(this.preventScrollTimeout);}};y.prototype.log=function(aa){'use strict';var ba=l.get(k.get(this.flyout.getContext()).feedbackTarget).getData(),ca=ba.ft_ent_identifier,da=ba.viewerreaction,ea=this.timing,fa=ea.touchEndTime,ga=ea.touchStartTime,ha=fa-ga;i.log('UserReactionsLoggerConfig',{feedback_id:ca,final_reaction:aa.finalReaction||da,initial_reaction:da,'interface':'mTouch',long_press_duration:ha>0?ha:0,time_spent:Date.now()-ea.shownTime,via_scrubbing:aa.viaScrubbing});};y.prototype.createUFIOverlay=function(){'use strict';var aa=this.flyout.getContext(),ba=k.get(aa),ca=ba.feedbackTarget,da=l.get(ca).getData().supportedreactions||v,ea=document.createElement('div');ea.style.display='none';ea.className="_403o";var fa=Math.round(da.length*1.3);for(var ga=0;ga<fa;++ga){var ha=document.createElement('div');ha.className="_403p";ea.appendChild(ha).className="_403p";}var ia=document.createElement('div');ia.style.display='none';ia.className="_403q";ia.textContent=u._("\u041e\u0442\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b");var ja=document.createElement('div');ja.className="_403n";ja.appendChild(ea);ja.appendChild(ia);var ka=m.bySigil(aa,'ufi-inline-actions');ka.insertBefore(ja,ka.firstChild);this.overlay={container:ja,dots:ea,release:ia};};y.prototype.scaleSpritedDock=function(aa){'use strict';var ba=aa.getContentRoot().style,ca=document.documentElement.offsetWidth,da=this.reactionElements.length*(w+x)+x;if(da>ca||ca<400){var ea=ca/da;ba.textAlign='center';ba.transform='scale('+ea+')';ba.webkitTransform=ba.transform;}else{ba.textAlign='left';ba.transform='none';ba.webkitTransform=ba.transform;}};y.prototype.removeUFIOverlay=function(){'use strict';var aa=this.overlay;if(aa){var ba=aa.container;ba.parentNode.removeChild(ba);this.overlay=null;}};y.prototype.setSupported=function(){'use strict';var aa=k.get(this.flyout.getContext()),ba=l.get(aa.feedbackTarget).getData().supportedreactions||v,ca=this.reactionElements;for(var da=0,ea=ca.length;da<ea;++da){var fa=ca[da],ga=k.get(fa),ha=ga.reaction;j.conditionShow(fa,ba.indexOf(ha)>=0);}};y.prototype.setNUXTooltip=function(aa){'use strict';this.nuxTooltip=aa;};var z=void 0;f.exports={init:function(aa){z=new y(aa);},initNUX:function(aa){if(z)z.setNUXTooltip(aa);}};},null);
__d('SaveState',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={SAVING:'saving',SAVED:'saved',UNSAVING:'unsaving',UNSAVED:'unsaved'};f.exports=h;},null);
__d('SaveStateHandler',['SaveState'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=null;function j(){'use strict';this.$SaveStateHandler1={};this.$SaveStateHandler2={};}j.prototype.addListener=function(k,l){'use strict';if(!this.$SaveStateHandler1[k])this.$SaveStateHandler1[k]=[];this.$SaveStateHandler1[k].push(l);};j.prototype.setState=function(k,l){'use strict';k.forEach(function(m){this.$SaveStateHandler2[m]=l;if(!this.$SaveStateHandler1[m])return;var n=this.$SaveStateHandler1[m];n.forEach(function(o){try{o.call(window,l);}catch(p){}});},this);};j.prototype.getState=function(k){'use strict';return this.$SaveStateHandler2[k];};j.$SaveStateHandler3=function(){'use strict';if(!i)i=new j();return i;};j.listen=function(k,l){'use strict';this.$SaveStateHandler3().addListener(k,l);};j.getState=function(k){'use strict';return this.$SaveStateHandler3().getState(k);};j.saving=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.SAVING);};j.saved=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.SAVED);};j.unsaving=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.UNSAVING);};j.unsaved=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.UNSAVED);};j.isSaveAction=function(k){'use strict';var l=this.$SaveStateHandler3().getState(k);return l==h.UNSAVED||l==h.UNSAVING;};j.isInTransition=function(k){'use strict';var l=this.$SaveStateHandler3().getState(k);return l==h.SAVING||l==h.UNSAVING;};f.exports=j;},null);
__d('MAsyncPageLoadWithGraphSearch',['Stratcom','CSS','cx','csx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='graph-search-entry-point',m={pageLoad:function(n){h.invoke('setSearchText',l,{title:n.searchTitle||''});h.invoke('setCurrentProfileID',l,{profileID:n.currentProfileID||''});}};f.exports=m;},null);
__d("XStoryChevronController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/story_chevron_menu\/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:false},outer_story_token:{type:"String"}});},null);
__d('MAsyncChevronMenu',['$','cx','CSS','requireWeak','BanzaiODS','MLegacyDataStore','DOM','MParent','MRequest','MTouchClick','Stratcom','SubscriptionsHandler','XStoryChevronController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=null;k('MHideStoryActions',function(ia){return u=ia;});function v(ia){var ja=o.bySigil(ia,'story-popup-metadata');return ja;}var w;function x(){l.bumpEntityKey('mtouch_async_chevron','chevron_clicked');var ia=this.getCausalElement(),ja=m.get(ia),ka=v(ia),la=t.getURIBuilder().setBool('is_menu_registered',!!(u&&u.getActionBubble())).getURI(),ma=new p(la);j.show(aa);j.hide(ba);j.hide(ca);w=ka;ma.setMethod('POST');ma.setData({feedobjects_identifiers:ja.feedobjectsIdentifiers,feed_context:ja.feedContext,zombie_story:ja.zombieStoryURI?ja.zombieStoryURI:'',story_topic_feedback:ja.storyTopicFeedbackURI?ja.storyTopicFeedbackURI:'',story_node_id:ka.id,chevron_button_id:ia.id,outer_story_token:ja.outerStoryToken?ja.outerStoryToken:''});ma.listen('error',function(na){l.bumpEntityKey('mtouch_async_chevron','request_failed');j.hide(aa);if(na=='status=0'){l.bumpEntityKey('mtouch_async_chevron','request_failed_no_internet_connection');j.show(ba);j.hide(ca);}else{l.bumpEntityKey('mtouch_async_chevron','request_failed_server_side_error');j.show(ca);j.hide(ba);}});ma.listen('done',function(){l.bumpEntityKey('mtouch_async_chevron','request_done');});ma.send();}var y,z,aa,ba,ca;function da(){if(z){z.release();z=null;}y=null;aa=null;ba=null;ca=null;}function ea(ia){if(y){y.destroy();da();}y=ia;var ja=ia.getContentRoot();aa=n.find(ja,'div','loadingWrapper');ba=n.find(ja,'div','noConnectionWrapper');ca=n.find(ja,'div','requestErrorWrapper');z=new s('StoryChevronMenu');z.addSubscriptions(y.addListener('beforeshow',x,y),r.listen('m:page:unload',null,da),r.listen('m:story:action-bubble-initialized',null,function(ka){var la=ka.getData();if(la.menuNubID)fa(h(la.menuNubID),la.wasOpen);}));}function fa(ia,ja){if(!y.isShown()&&!ja||!u||!u.getActionBubble())return;y.hide();var ka=v(ia);if(w==ka){var la=ia.getElementsByClassName("_4s19")[0];q.click(la);}}function ga(ia,ja){n.replace(h(ja),ia);fa(ia);}function ha(ia){if(!w||w.id==ia){y.hide();w=null;}}f.exports={init:ea,replaceChevronTrigger:ga,closeLoadingFlyout:ha};},null);
__d('MShareAngoraAttachment',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=false,j=function(k){if(i)return;i=true;window.addEventListener('error',function(event){if(event.target.nodeName=='IMG'){for(var l=event.target;l!=document.body&&!h.hasSigil(l,'shareAngoraAttachmentMedia');l=l.parentNode);if(l!=document.body)l.style.display='none';}},true);};g.registerDeadImageListener=j;},null);
__d('MAnimator',['cancelAnimationFrame','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){'use strict';}j.prototype.dispose=function(){'use strict';if(!this._disposed){this.stop();for(var k in this)delete this[k];this._disposed=true;}};j.prototype.start=function(k,l,m,n,o){'use strict';if(this._disposed)return;this.stop();n=n||250;o=o||j.easeOutCubic;var p=0,q=0,r=Date.now();this._value=0;this._onStopCallback=m;this._animating=true;var s=function(){var t=Date.now(),u;if(l!==null&&!l()){u=true;}else{p=(t-r+1)/n;if(p>1)p=1;q=o?o(p):p;this._value=q;}if(u||k(q,this._animating,t)===false||p===1){k=null;l=null;p=null;o=null;p=null;s=null;this.stop();return;}this._animID=i(s);}.bind(this);this._animID=i(s);};j.prototype.stop=function(){'use strict';if(this._disposed)return;if(this._animating){this._animating=false;h(this._animID);this._onStopCallback&&this._onStopCallback(this._value,this._animating,Date.now());delete this._animID;delete this._onStopCallback;this._value=0;}};j.play=function(k,l,m,n,o){'use strict';var p=new j(),q=l-k,r=function(t){return n(k+q*t);},s=function(t){r(t);r=null;q=null;n=null;l=null;k=null;};p.start(r,null,s,m,o);return p;};j.easeOutCubic=function(k){'use strict';return Math.pow(k-1,3)+1;};j.easeInOutCubic=function(k){'use strict';if((k/=.5)<1)return .5*Math.pow(k,3);return .5*(Math.pow(k-2,3)+2);};Object.assign(j.prototype,{_value:0});f.exports=j;},null);
__d('MExposeMore',['CSS','DOM','Stratcom','MExtendSeeMoreTapTargetGK'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=[];function m(){while(l.length)l.pop().remove();}var n='expose';j.listen('click',[n,'more'],function(event){var p=event.getNode(n);if(k.gkResult){var q=event.getTarget();switch(q.nodeName){case 'A':if(j.hasSigil(q,'more_link'))break;case 'BUTTON':case 'INPUT':return;}j.removeSigil(p,'more');}h.conditionClass(p,'text_exposed',true);event.prevent();});var o={showMessageSuffixOnClick:function(p,q){if(q.children.length!==0){if(!l.length)l.push(j.listen('m:page:unload',null,m));var r=i.scry(p,'*','more')[0];if(r)l.push(i.listen(r,'click',null,function(event){h.show(q);event.prevent();}));}}};f.exports=o;},null);
__d("XPlacesUpdateLocationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/places\/location_update\/",{json_location:{type:"String"},source:{type:"Enum",defaultValue:"msite_unknown",enumType:1}});},null);
__d('MLocationPrompt',['DOM','MRequest','Stratcom','WebStorage','XPlacesUpdateLocationController','MTaggingCounter','MTaggingCounterEvent','ViewerLocationSource'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=['latitude','longitude','accuracy','altitude','altitudeAccuracy','heading','speed'],q={enableHighAccuracy:true,timeout:60000,maximumAge:300000},r=60000;s.init=function(t,u,v,w){'use strict';return new s(t,u,v,w);};s.getCoords=function(){'use strict';return s.coords;};s.isLocationAvailable=function(){'use strict';return s.locationAvailable;};function s(t,u,v,w){'use strict';this.lastUpdateTime=0;this.container=t;this.question=u;this.loading=v;this.errored=w;var x=k.getLocalStorage();if(x&&x.getItem(s.GEOLOCATION_KEY)==='1'){this.$MLocationPrompt1();}else{s.locationAvailable=false;h.show(this.question);h.hide(this.loading);h.hide(this.errored);h.show(this.container);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');m.logEvent(n.GEO_PANEL_LOAD);}this.listeners=[j.listen('click','accept-location',this.$MLocationPrompt2.bind(this)),j.listen('click','deny-location',this.$MLocationPrompt3.bind(this)),j.listen('m:page:unload',null,this.$MLocationPrompt4.bind(this))];}s.prototype.clearWatch=function(){'use strict';if(!this.watchID)return;navigator.geolocation.clearWatch(this.watchID);this.watchID=null;};s.prototype.$MLocationPrompt2=function(){'use strict';m.logEvent(n.GEO_PANEL_ACCEPT);this.$MLocationPrompt1(true);};s.prototype.$MLocationPrompt1=function(t){'use strict';s.locationAvailable=true;var u=k.getLocalStorage();if(u)u.setItem(s.GEOLOCATION_KEY,1);h.show(this.container);h.hide(this.question);h.show(this.loading);h.hide(this.errored);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');var v=setTimeout(this.$MLocationPrompt5,q.timeout);this.watchID=navigator.geolocation.watchPosition(function(w){if(t)m.logEvent(n.GEO_PANEL_SUCCESS);clearTimeout(v);this.$MLocationPrompt6(w);}.bind(this),function(w){if(t)m.logEvent(n.GEO_PANEL_FAIL);clearTimeout(v);this.$MLocationPrompt5(w);}.bind(this),q);j.invoke(s.STRATCOM_ACCEPT);};s.prototype.$MLocationPrompt3=function(){'use strict';s.locationAvailable=false;m.logEvent(n.GEO_PANEL_DENY);h.hide(this.container);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');j.invoke(s.STRATCOM_DENY);};s.prototype.$MLocationPrompt6=function(t){'use strict';s.locationAvailable=true;if(t){var u={},v;for(var w=0;w<p.length;w++){v=p[w];if(t.coords[v])u[v]=t.coords[v];}if(t.timestamp)u.timestamp=t.timestamp/1000;this.$MLocationPrompt7(JSON.stringify(u));h.hide(this.container);s.coords=u;j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');j.invoke(s.STRATCOM_UPDATE,null,{position:t});}};s.prototype.$MLocationPrompt5=function(t){'use strict';s.locationAvailable=false;this.clearWatch();var u=k.getLocalStorage();if(u)u.setItem(s.GEOLOCATION_KEY,0);h.show(this.container);h.hide(this.question);h.hide(this.loading);h.show(this.errored);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');j.invoke(s.STRATCOM_FAIL,null,{error:t});m.logEvent(n.GEO_PANEL_FAIL);};s.prototype.$MLocationPrompt7=function(t){'use strict';var u=Date.now();if(u-this.lastUpdateTime>r){this.lastUpdateTime=u;var v=l.getURIBuilder().setString('json_location',t).setEnum('source',o.MSITE_LOCATION_PROMPT).getURI();new i(v).setMethod('POST').send();}};s.prototype.$MLocationPrompt4=function(){'use strict';if(!this.listeners)return;for(var t=0;t<this.listeners.length;t++)this.listeners[t].remove();this.listeners=[];};Object.assign(s,{STRATCOM_ACCEPT:'MLocationPrompt/accept',STRATCOM_DENY:'MLocationPrompt/deny',STRATCOM_UPDATE:'MLocationPrompt/update',STRATCOM_FAIL:'MLocationPrompt/fail',GEOLOCATION_KEY:'authorizeGeolocation',locationAvailable:undefined});f.exports=s;},null);
__d('MModalDialogLink',['MLegacyDataStore','Stratcom','MModalDialog','MPageController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='dialog-link';i.listen('click',l,function(m){m.prevent();var n=m.getNode(l);switch(n.getAttribute('rel')){case 'dialog':j.open(h.get(m.getNode(l)).dialogURI,function(o){if(o)if(o.redirectURI){k.forceLoad(o.redirectURI);}else if(o.refresh)k.reload();},n.getAttribute('data-loading-title'));break;case 'dialog-close':j.close({redirectURI:h.get(m.getNode(l)).dialogURI,goBack:true});break;case 'dialog-close-and-navigate':j.close({redirectURI:h.get(m.getNode(l)).dialogURI,goBack:false});break;case 'dialog-close-and-refresh':j.close({refresh:true,goBack:true});break;}});},null);
__d('MShareFlyout',['setTimeoutAcrossTransitions','cx','DOM','MLegacyDataStore','fbt','MCompositionConfigFields','MCompositionShareFields','MComposition','MComposerEntry','MComposerTypes','MCompositionStoreID','MModalDialog','MParent','MRequest','MViewport','promiseFinally','Stratcom','Vector','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa='mufi-inline',ba='share-one-click-button',ca='share-post-one-click-button',da="share-with-message-button",ea="share-in-a-private-message-button",fa='oneClickShareResult',ga=6000,ha='/a/sharer.php',ia='/sharer-dialog.php',ja,ka,la,ma,na,oa,pa={},qa={},ra=[],sa,ta,ua;function va(gb,hb,ib){if(ja)return;sa=hb;ja=gb;ka=gb.getRoot();ta=ib;s.init();ab();}function wa(gb){if(s.isOpen()){s.load(gb);}else s.open(gb);}function xa(){var gb=new u(ha);gb.setMethod('POST');gb.addData({m:'oneclick',privacyx:sa,sid:ma,shareID:ma,fs:na,internal_preview_image_id:la,should_share_post:ua,direct:true,_ft_:oa});gb.send();ja.hide();}function ya(){if(ta){var gb={};gb[n.ID]=ma;gb[n.FEEDBACK_SOURCE]=na;var hb={};hb[m.COMPOSER_TYPE]=q.SHARE;hb[m.COMPOSER_TITLE]=l._("\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f");hb[m.CONTEXTUAL_MESSAGE]=l._("\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u0425\u0440\u043e\u043d\u0438\u043a\u0435");hb[m.PLACEHOLDER]=l._("\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c\u2026");hb[m.DISABLE_PHOTOS]=true;var ib=v.getScrollTop();w(p.invoke(new o().setStoreData(r.CONFIG,hb).setStoreData(r.SHARE,gb)),function(){return v.scrollTo(0,ib);});}else{wa(new z(ia).setQueryData({fs:na,sid:ma,_ft_:oa,internal_preview_image_id:la}).toString());ja.hide();}}function za(){wa(new z(ia).setQueryData({fs:na,m:'message',sid:ma,u:window.location.href,internal_preview_image_id:la}).toString());ja.hide();}function ab(){ra=[ja.addListener('beforeshow',function(){var gb=ja.getCausalElement(),hb=k.get(gb);ua=hb.reshare_post;ma=hb&&hb.share_id;na=hb&&hb.feedback_source;la=hb&&hb.internal_preview_image_id;var ib=t.bySigil(gb,'story-div');oa=ib?k.get(ib).linkdata:null;if(ma)pa[ma]=cb(gb);var jb=j.scry(ka,'a',ca)[0],kb=j.scry(ka,'a',ba)[0];if(jb&&kb)if(ua){j.show(jb);j.hide(kb);}else{j.show(kb);j.hide(jb);}}),x.listen('click',ba,xa),x.listen('click',ca,xa),x.listen('click',da,ya),x.listen('click',ea,za),x.listen('m:page:unload',null,bb)];}function bb(){ja=null;for(var gb in qa)clearTimeout(qa[gb]);qa={};while(ra.length)ra.pop().remove();}function cb(gb){while(gb&&!x.hasSigil(gb,aa))gb=gb.parentNode;return gb;}function db(gb,hb){var ib=j.scry(gb,'div',fa);ib[0]&&j.remove(ib[0]);var jb=j.create('div',{className:"_4_m7"},hb);x.addSigil(jb,fa);j.appendContent(gb,jb);return jb;}function eb(gb,hb){var ib=pa[hb];delete pa[hb];if(!ib)return;var jb=db(ib,gb),kb=y.getPos(ib),lb=y.getDim(ib).y,mb=v.getScrollTop(),nb=v.getScrollHeight();if(kb.y<mb||kb.y+lb>mb+nb)v.scrollTo(kb.x,kb.y-250);qa[hb]=h(function(){delete qa[hb];j.remove(jb);},ga);}function fb(gb,hb){var ib=pa[hb];delete pa[hb];if(!ib)return;if(y.getPos(ib).y>=v.getScrollTop()){var jb=db(ib,gb);qa[hb]=h(function(){delete qa[hb];if(y.getPos(ib).y>=v.getScrollTop())j.remove(jb);},ga);}}g.init=va;g.onSuccess=fb;g.onFailure=eb;},null);
__d('MMoreItemAutomatic',['MLocationPrompt','MPageCache','MPageControllerPath','MRequest','MRequestGateway','MRequestTypes','MResponseData','MStopNGo','MURI','MViewport','Stratcom','Vector','createDeprecatedProperties'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();function u(v){'use strict';this._href=v.href;this._sendGeolocation=v.sendGeolocation;this._proximityPages=v.proximity_pages||7;this._loggerID=v.logger_id;this._loggerName=v.logger_name;this._loadImmediately=v.load_first_immediately;this._retryOnError=v.retryOnError;this._addToCache=v.addToCache;var w=document.getElementById(v.id);if(w){this._verticalOffset=s.getPos(w).y;this.setMoreItem(w);this.setPersistOnReload(v.persist_on_reload);this._setUpSendRequest();}else this.uninstall();}u.prototype.isElementVisible=function(){'use strict';if(!this._isElementRendered())return false;var v,w=this.getMoreItem();if('getBoundingClientRect' in w){var x=w.getBoundingClientRect(),y=x.width/10,z=x.height/10,aa=x.left,ba=x.right,ca=x.top,da=x.bottom,ea;while(ea!==w&&aa<=ba&&ca<=da){aa+=y;ca+=z;ea=document.elementFromPoint(Math.round(aa),Math.round(ca));}v=ea===w;}else{var fa=s.getPos(w).y,ga=fa+s.getDim(w).y,ha=q.getScrollTop(),ia=ha+q.getUseableHeight();v=fa<=ia&&ga>=ha;}return v;};u.prototype._checkScrolledIntoFetched=function(){'use strict';var v=this.getMoreItem();if(v)if(this._verticalOffset-q.getScrollTop()<0){r.invoke('m:more_item_automatic:items_visible',this._loggerID);this.uninstall();}};u.prototype._onGo=function(){'use strict';if(!this._itemsLoaded){this._readyToUpdate=true;if(this.isElementVisible())r.invoke('m:more_item_automatic:spinner_visible',this._loggerID);if(!this._requestSent&&!this._waitingToSend){this._sendRequestIfScrolledDown();}else this._updateItems();}else this._checkScrolledIntoFetched();};u.prototype._onStop=function(){'use strict';if(!this._itemsLoaded)this._readyToUpdate=false;};u.prototype._onAjaxPageLoad=function(){'use strict';if(!this._requestSent&&!this._waitingToSend&&(this._loadImmediately||this.isElementVisible())){this._sendRequest();this._loadImmediately=false;}};u.prototype._setUpSendRequest=function(){'use strict';if(!this._requestSent&&!this._waitingToSend&&(this._loadImmediately||this.isElementVisible())){this._sendRequest();this._loadImmediately=false;}this._listeners=[o.listen('go',this._onGo.bind(this)),o.listen('stop',this._onStop.bind(this)),r.listen('m:ajax:complete',null,this._onAjaxPageLoad.bind(this))];};u.prototype._existsOnPage=function(){'use strict';var v=this.getMoreItem();return v?document.documentElement.contains(v):false;};u.prototype.uninstall=function(){'use strict';while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._requestSent=false;this._waitingToSend=false;this._prefetchResponse=null;this.setMoreItem(null);this.setPersistOnReload(false);clearTimeout(this._retryTimeout);clearTimeout(this._sendTimeout);};u.prototype.withinProximity=function(){'use strict';var v=this.getMoreItem();return v&&s.getPos(v).y-q.getScrollTop()<q.getUseableHeight()*(1+this._proximityPages);};u.prototype._updateItems=function(){'use strict';if(this._prefetchResponse){if(this._existsOnPage()){this._prefetchResponse.process();if(this._addToCache)i.addCachedIUIResponse(j.getRequestPath(),this._prefetchResponse);}r.invoke('m:more_item_automatic:items_loaded',this._loggerID);this._itemsLoaded=true;}};u.prototype._isElementRendered=function(){'use strict';var v=this.getMoreItem();if(!v||!v.offsetHeight)return false;return true;};u.prototype._sendRequestIfScrolledDown=function(){'use strict';if(this.isElementVisible()||this._isElementRendered()&&q.getScrollTop()>100&&this.withinProximity())this._sendRequest();};u.prototype._sendRequest=function(){'use strict';var v=h.getCoords();if(this._sendGeolocation&&v)this._href=new p(this._href).addQueryData('lat',v.latitude).addQueryData('long',v.longitude).toString();var w=new k(new p(this._href).toString()).setType(m.DEPENDENT);w.setAutoProcess(false);var x=[],y=false,z=function(){if(!y&&x.length){y=true;x.shift().process();}};if(this._retryOnError){w.setTimeout(l.ERROR_TIMEOUT);w.listen('error',function(aa,ba){this._retryTimeout=setTimeout(function(){if(navigator.onLine){ba.reset();ba.addData({is_retry:1});ba.sendAfterProcessing();}}.bind(this),u.TRY_AGAIN_DELAY);});}w.listen('response',function(aa){aa=new n(aa);aa.listen('complete',function(){y=false;z();});if(aa.isPagelet()){x.push(aa);z();return;}y=true;this._prefetchResponse=aa;if(this._readyToUpdate)this._updateItems();}.bind(this));w.send();this._requestSent=true;};t(u,{moreItem:null,persistOnReload:false});Object.assign(u.prototype,{_requestSent:false,_readyToUpdate:true,_waitingToSend:false,_moreStartTime:0,_moreLogged:false,_proximityPages:null,_prefetchResponse:null,_listeners:null,_href:null,_loggerName:null,_loggerID:null,_itemsLoaded:false,_verticalOffset:0});Object.assign(u,{TRY_AGAIN_DELAY:1500});f.exports=u;},null);
__d('InitMMoreItemAutomatic',['MMoreItemAutomatic','Stratcom'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k=function(l){if(!j){j={};i.listen('m:page:loading',null,function(n){for(var o in j)if(!j[o].getPersistOnReload()){j[o].uninstall();delete j[o];}});}var m=l.id;if(j[m])j[m].uninstall();j[m]=new h(l);};g.main=k;},null);
__d('MMoreItemAutomaticLogger',['Stratcom','MarauderLogger'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){this._loggerName=k;this._loggerID=l;this._listeners=[h.listen('m:page:unload',null,this._pageUnload.bind(this)),h.listen('m:more_item_automatic:spinner_visible',null,this._onSpinnerVisible.bind(this)),h.listen('m:more_item_automatic:items_loaded',null,this._onItemsLoaded.bind(this)),h.listen('m:more_item_automatic:items_visible',null,this._onItemsVisible.bind(this))];}Object.assign(j.prototype,{_loggerName:'',_loggerID:'',_spinnerUnloaded:false,_spinnerVisible:false,_spinnerStartTime:null,_cleanup:function(){while(this._listeners&&this._listeners.length)this._listeners.pop().remove();},_pageUnload:function(){if(this._spinnerVisible){this._spinnerUnloaded=true;this._logLoadingSpinnerTime(this._getTimeSpan(),true);}this._cleanup();},_onSpinnerVisible:function(event){if(event.getPath()[0]===this._loggerID&&!this._spinnerVisible){this._spinnerVisible=true;this._spinnerStartTime=Date.now();}},_onItemsLoaded:function(event){if(event.getPath()[0]===this._loggerID&&!this._spinnerUnloaded){this._logLoadingSpinnerTime(this._getTimeSpan(),false);this._spinnerVisible=false;this._spinnerStartTime=null;}},_onItemsVisible:function(event){if(event.getPath()[0]===this._loggerID)this._logItemsVisible();},_getTimeSpan:function(){return this._spinnerVisible?Date.now()-this._spinnerStartTime:0;},_logLoadingSpinnerTime:function(k,l){i.log('m_more_items_automatic_spinner_visible_time',undefined,{name:this._loggerName,id:this._loggerID,visible_time:k,spinner_unloaded:l});},_logItemsVisible:function(){i.log('m_more_items_automatic_fetched_items_visible',undefined,{name:this._loggerName,id:this._loggerID});this._cleanup();}});j.init=function(k,l){new j(k,l);};f.exports=j;},null);
__d('MContextualThing',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i={register:function(j,k){k.id=k.id||'ctxtlayer_'+h++;j.setAttribute('data-ownerid',k.id);},containsIncludingLayers:function(j,k){while(k){if(j.contains(k))return true;k=i.getContext(k);}return false;},getContext:function(j){var k;while(j){if(j.getAttribute&&(k=j.getAttribute('data-ownerid')))return document.getElementById(k);j=j.parentNode;}return null;}};f.exports=i;},null);
__d('MLayer',['setTimeoutAcrossTransitions','BehaviorsMixin','CSS','MLegacyDataStore','DOM','MContextualThing','mixin','mixInEventEmitter','MTouchHelper','Stratcom','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s,t;if(c.__markCompiled)c.__markCompiled();var u=[],v={};s=babelHelpers.inherits(w,n(i));t=s&&s.prototype;function w(aa){'use strict';t.constructor.call(this);this.config=aa||{};this.$MLayer1=null;this.$MLayer2=false;this.$MLayer3=false;this.$MLayer4=null;}w.prototype.init=function(aa){'use strict';if(this.config.layerid){if(v[this.config.layerid])return;v[this.config.layerid]=this;}this.configure(this.config,aa);var ba=this.config.addedBehaviors||[];this.enableBehaviors(this.getDefaultBehaviors().concat(ba));var ca=r("flyout-nocontext-root");if(!ca)ca=l.create('div',{id:'flyout-nocontext-root'});l.appendContent(document.body,ca);l.appendContent(ca,this.getRoot());l.hide(this.getRoot());};w.prototype.configure=function(aa,ba){'use strict';this.$MLayer1=this.buildWrapper(aa,ba);q.addSigil(this.$MLayer1,'m-layer-root');var ca=aa.attributes;if(ca){if(ca.sigil){var da=ca.sigil.split(' ');da.forEach(function(fa){q.addSigil(this.$MLayer1,fa);},this);delete ca.sigil;}for(var ea in ca)this.$MLayer1.setAttribute(ea,ca[ea]);}if(aa.classNames)aa.classNames.forEach(function(fa){j.conditionClass(this.$MLayer1,fa,true);},this);if(aa.causalElement)this.$MLayer4=aa.causalElement;k.set(this.$MLayer1,{layer:this});};w.prototype.getDefaultBehaviors=function(){'use strict';return [];};w.prototype.getCausalElement=function(){'use strict';return this.$MLayer4;};w.prototype.setCausalElement=function(aa){'use strict';this.$MLayer4=aa;return this;};w.prototype.getInsertParent=function(){'use strict';return this.insertParent||document.body;};w.prototype.getRoot=function(){'use strict';return this.$MLayer1;};w.prototype.getContentRoot=function(){'use strict';return this.$MLayer1;};w.prototype.buildWrapper=function(aa,ba){'use strict';return ba;};w.prototype.setInsertParent=function(aa){'use strict';if(aa){if(this.$MLayer2&&aa!==this.getInsertParent()){l.appendContent(aa,this.getRoot());this.updatePosition();}this.insertParent=aa;}return this;};w.prototype.show=function(){'use strict';if(this.$MLayer2)return this;var aa=this.getRoot(),ba=this.getInsertParent();if(aa.parentNode!==ba)l.appendContent(ba,aa);this.emit('beforeshow');aa.style.visibility='hidden';aa.style.overflow='hidden';l.show(aa);if(this.updatePosition()!==false){this.$MLayer2=true;this.emit('show');q.invoke('Layer:show',null,this);h(function(){if(this.$MLayer2)u.push(this);}.bind(this));}else l.hide(aa);aa.style.visibility='';aa.style.overflow='';this.emit('aftershow');return this;};w.prototype.hide=function(){'use strict';if(this.$MLayer3||!this.$MLayer2||this.emit('beforehide')===false)return this;this.$MLayer3=true;if(this.emit('starthide')!==false)this.finishHide();return this;};w.prototype.conditionShow=function(aa){'use strict';return aa?this.show():this.hide();};w.prototype.finishHide=function(){'use strict';if(this.$MLayer2){u.splice(u.indexOf(this),1);this.$MLayer3=false;this.$MLayer2=false;l.hide(this.getRoot());this.emit('hide');q.invoke('m:layer:hide',null,this);}return this;};w.prototype.isShown=function(){'use strict';return this.$MLayer2;};w.prototype.updatePosition=function(){'use strict';return true;};w.prototype.updateIfShown=function(){'use strict';this.isShown()&&this.updatePosition();};w.prototype.isDestroyed=function(){'use strict';return this.destroyed;};w.prototype.destroy=function(){'use strict';if(this.destroyed)return;this.destroyed=true;this.finishHide();var aa=this.getRoot();l.remove(aa);this.destroyBehaviors();this.emit('destroy');q.invoke('Layer:destroy',null,this);delete k.get(aa).layer;this.$MLayer1=this.$MLayer4=null;if(this.config.layerid)delete v[this.config.layerid];this.config=null;};w.prototype.shouldBlurOnTouchEnd=function(){'use strict';return true;};o(w,{destroy:true,blur:true,beforeshow:true,show:true,aftershow:true,beforehide:true,starthide:true,hide:true});Object.assign(w,{show:function(aa){aa.show();}});var x;function y(event){x=p.getTouchClientCoord(event);}function z(event){var aa=u.length;if(!aa)return;var ba=event.getTarget(),ca=event.getType();if(!document.documentElement.contains(ba))return;if(ca==='touchend'&&x){var da=p.getTouchClientCoord(event),ea=Math.sqrt(Math.pow(x.x-da.x,2)+Math.pow(x.y-da.y,2));x=null;if(ea>5)return;}while(aa--){var fa=u[aa];if(!fa.isShown())continue;var ga=fa.getContentRoot();if(m.containsIncludingLayers(ga,ba))return;var ha=fa.getCausalElement();if(ca==='touchend'&&(ha.contains(ba)||ha===ba||!fa.shouldBlurOnTouchEnd()))continue;if(fa.emit('blur')===false||fa.isShown())return;}}q.listen('touchstart',null,y);q.listen('click',null,z);q.listen('touchend',null,z);f.exports=w;},null);
__d('MLayerDestroyOnTransition',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$MLayerDestroyOnTransition1=null;this.$MLayerDestroyOnTransition2=j;}i.prototype.enable=function(){'use strict';this.$MLayerDestroyOnTransition1=h.listen('m:page:unload',null,this.$MLayerDestroyOnTransition2.destroy.bind(this.$MLayerDestroyOnTransition2));};i.prototype.disable=function(){'use strict';this.$MLayerDestroyOnTransition1.remove();this.$MLayerDestroyOnTransition1=null;};f.exports=i;},null);
__d('MLayerDestroyOnHide',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$MLayerDestroyOnHide1=i;this.$MLayerDestroyOnHide2;}h.prototype.enable=function(){'use strict';this.$MLayerDestroyOnHide2=this.$MLayerDestroyOnHide1.addListener('hide',this.$MLayerDestroyOnHide1.destroy.bind(this.$MLayerDestroyOnHide1));};h.prototype.disable=function(){'use strict';this.$MLayerDestroyOnHide1=null;this.$MLayerDestroyOnHide2.remove();this.$MLayerDestroyOnHide2=null;};f.exports=h;},null);
__d('MLayerHideOnBlur',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$MLayerHideOnBlur1=null;this.$MLayerHideOnBlur2=null;this.$MLayerHideOnBlur3=i;}h.prototype.enable=function(){'use strict';this.$MLayerHideOnBlur1=[this.$MLayerHideOnBlur3.addListener('show',this.$MLayerHideOnBlur4.bind(this)),this.$MLayerHideOnBlur3.addListener('hide',this.$MLayerHideOnBlur5.bind(this))];if(this.$MLayerHideOnBlur3.isShown())this.$MLayerHideOnBlur4();};h.prototype.disable=function(){'use strict';this.$MLayerHideOnBlur5();while(this.$MLayerHideOnBlur1.length)this.$MLayerHideOnBlur1.pop().remove();this.$MLayerHideOnBlur1=null;};h.prototype.$MLayerHideOnBlur5=function(){'use strict';this.$MLayerHideOnBlur2&&this.$MLayerHideOnBlur2.remove();this.$MLayerHideOnBlur2=null;};h.prototype.$MLayerHideOnBlur4=function(){'use strict';this.$MLayerHideOnBlur2=this.$MLayerHideOnBlur3.addListener('blur',function(){this.$MLayerHideOnBlur3.hide();}.bind(this));};f.exports=h;},null);
__d('MLayerHideOnTouch',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$MLayerHideOnTouch1=null;this.$MLayerHideOnTouch2=j;}i.prototype.enable=function(){'use strict';this.$MLayerHideOnTouch1=[this.$MLayerHideOnTouch2.addListener('show',this.$MLayerHideOnTouch3.bind(this)),this.$MLayerHideOnTouch2.addListener('hide',this.$MLayerHideOnTouch4.bind(this))];if(this.$MLayerHideOnTouch2.isShown())this.$MLayerHideOnTouch3();};i.prototype.disable=function(){'use strict';this.$MLayerHideOnTouch4();while(this.$MLayerHideOnTouch1.length)this.$MLayerHideOnTouch1.pop().remove();this.$MLayerHideOnTouch1=null;};i.prototype.$MLayerHideOnTouch4=function(){'use strict';this.$MLayerHideOnTouch5&&this.$MLayerHideOnTouch5.remove();this.$MLayerHideOnTouch5=null;};i.prototype.$MLayerHideOnTouch3=function(){'use strict';this.$MLayerHideOnTouch5=h.listen('touchstart',null,function(event){if(!this.$MLayerHideOnTouch2.getContentRoot().contains(event.getTarget())){this.$MLayerHideOnTouch2.hide();event.prevent();}}.bind(this));};f.exports=i;},null);
__d('destroyOnUnload',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){h.listen('m:page:unload',null,function(){h.removeCurrentListener();j&&j();});}f.exports=i;},null);
__d('MAsyncThrobber',['DOM','MLoadingIndicator','Stratcom','destroyOnUnload'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='async-throbber';function m(n){'use strict';this.$MAsyncThrobber1=i.init(n);if(!this.$MAsyncThrobber1)return;this.$MAsyncThrobber2=[j.listen('m:ajax:saving:start',null,this.$MAsyncThrobber3.bind(this)),j.listen('m:ajax:saving:complete',null,this.$MAsyncThrobber4.bind(this))];k(this.$MAsyncThrobber5.bind(this));}m.prototype.$MAsyncThrobber3=function(event){'use strict';var n=event&&event.getData();if(n&&h.scry(n,'*',l))this.$MAsyncThrobber1.willStartAnimation();};m.prototype.$MAsyncThrobber4=function(event){'use strict';var n=event&&event.getData();if(n&&h.scry(n,'*',l))this.$MAsyncThrobber1.willPauseAnimation();};m.prototype.$MAsyncThrobber5=function(){'use strict';while(this.$MAsyncThrobber2&&this.$MAsyncThrobber2.length)this.$MAsyncThrobber2.pop().remove();this.$MAsyncThrobber1=null;};f.exports=m;},null);
__d('MTextMetrics',['DOM','MJSEnvironment'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=3*2;function k(l){'use strict';this._node=l;this._shadow=this._cloneNode();this._offset=this._getOffset();}k.prototype._cloneNode=function(){'use strict';var l=this._getComputedStyle(),m=h.create('pre',{className:'textMetrics',style:k.defaultStyles});l&&k.clonedStyles.forEach(function(n){var o=n.replace(/([A-Z])/g,'-$1').toLowerCase();m.style[n]=l.getPropertyValue(o);});h.appendContent(document.body,m);return m;};k.prototype._getOffset=function(){'use strict';var l=this._getComputedStyle(),m=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10)+parseInt(l.borderLeftWidth,10)+parseInt(l.borderRightWidth,10),n=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10);return {height:n,width:m};};k.prototype._getComputedStyle=function(){'use strict';if(window.getComputedStyle){return window.getComputedStyle(this._node,null);}else if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(this._node,null);};k.prototype.measure=function(){'use strict';var l=this._node,m=this._shadow,n=this._offset,o=i.IS_APPLE_WEBKIT_IOS?j:0;m.style.width=l.offsetWidth-n.width-o+'px';m.innerText=l.value+'\n';return {width:m.clientWidth+n.width,height:m.clientHeight+n.height};};k.prototype.destroy=function(){'use strict';h.remove(this._shadow);};Object.assign(k,{clonedStyles:['fontFamily','fontSize','fontStyle','fontWeight','lineHeight','minHeight','whiteSpace','width','wordWrap']});Object.assign(k.prototype,{_node:null,_shadow:null,_offset:null});f.exports=k;},null);
__d('MUFI',['ClientIDs','LiveWWWFeedbackTypedLogger','MLiveData','Stratcom','UFICommentSubscription','UFICommentLikeSubscription','UFILikeSubscription','UFIReactionsUtils','URI','destroyOnUnload'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r='m_live_ufi',s,t=[],u=function(event){var fa=event.getData();if(fa)da(fa,true);},v=function(fa,ga){new i().setMechanism('graphql_subscriptions').setEvent('receive_payload').setIsMSite(true).setUpdateType(fa).setTimeSinceSub(ga).log();},w=function(fa,ga){var ha=m.subscribe(fa,function(ia){z(fa,ia,Date.now()-ga);});t.push(ha);},x=function(fa,ga){var ha=n.subscribe(fa,function(ia){aa(fa,ia,Date.now()-ga);});t.push(ha);},y=function(fa,ga){var ha=l.subscribe(fa,function(ia){ba(fa,ia,Date.now()-ga);});t.push(ha);},z=function(fa,ga,ha){v('comment_like',ha);var ia=ga&&ga.comment_like_subscribe&&ga.comment_like_subscribe.feedback;if(!ia)return;da({action_data:{action_type:'m-action-like-comment',client_id:ga.comment_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:ia.legacy_comment_token,has_viewer_liked:ia.does_viewer_like,like_count:ia.likers?ia.likers.count:0,request_id:null}});},aa=function(fa,ga,ha){v('like',ha);var ia=ga&&ga.feedback_like_subscribe&&ga.feedback_like_subscribe.feedback;if(!ia)return;var ja=ia.viewer_feedback_reaction_info?ia.viewer_feedback_reaction_info.key:0,ka=ia.viewer_likes_count&&ia.viewer_likes_count.text,la=ia.viewer_does_not_like_count&&ia.viewer_does_not_like_count.text,ma=ia.viewer_likes_sentence,na=ia.viewer_does_not_like_sentence,oa=ia.viewer_likes_reaction_sentence,pa=ia.viewer_does_not_like_reaction_sentence,qa=o.getReactionCountMapFromSummary(ia.reactions_summary),ra,sa,ta={};if(ia.does_viewer_like){sa=[ma,na];ra=[ka,la];ta.current=oa;ta.alternate=pa;}else{sa=[na,ma];ra=[la,ka];ta.current=pa;ta.alternate=oa;}da({action_data:{action_type:'m-action-like',client_id:ga.feedback_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:fa,has_viewer_liked:ia.does_viewer_like,like_count:ia.likers?ia.likers.count:0,like_fallback:true,like_sentences:sa,like_friend_sentences:ra,like_counts:ra,request_id:null,viewerreaction:ja,reactioncount:ia.reactors?ia.reactors.count:0,reactionsentences:ta,reactioncountmap:qa}});},ba=function(fa,ga,ha){v('comment',ha);var ia=ga&&ga.comment_create_subscribe&&ga.comment_create_subscribe.feedback,ja=ga&&ga.comment_create_subscribe&&ga.comment_create_subscribe.comment;if(!ia||!ja)return;var ka=ja.author,la=ga.comment_create_subscribe.viewer;if(!ka||!la)return;var ma=la.account_user?la.account_user.id:null,na={id:ka.id,is_friend:ka.is_viewer_friend,is_viewer:!!(ma&&ka.id===ma),name:ka.name,short_name:ka.short_name,profile_pic:ka.prof_pic&&ka.prof_pic.uri,profile_pic_2x:ka.prof_pic_2x&&ka.prof_pic_2x.uri,uri:ka.url},oa=null;if(ja.attachments.length){var pa=ja.attachments[0],qa=pa.style_list;if(qa&&qa.length&&qa[0]=='sticker'){var ra=pa.target;oa={metadata:{source_uri:ra.img.uri,source_uri_2x:ra.img_2x.uri,width:ra.img.width,height:ra.img.height,frameCount:ra.frame_count,frameRate:ra.frame_rate,framesPerCol:ra.frames_per_column,framesPerRow:ra.frames_per_row,sprite_uri:ra.sprite_img&&ra.sprite_img.uri,sprite_uri_2x:ra.sprite_img_2x&&ra.sprite_img_2x.uri},type:'sticker'};}else if(qa&&qa.length&&qa[0]=='photo'){var sa=pa.target;oa={metadata:{source_uri:sa.photo_img&&sa.photo_img.uri,width:sa.photo_img.width,height:sa.photo_img.height,href:sa.url},type:'photo'};}else if(qa&&qa.length&&qa[0]=='share')oa={type:'share',metadata:{}};}var ta=ja.m_edit_uri?new p(ja.m_edit_uri).removeQueryData('redirect').toString():null,ua=null;if(ja.m_inline_reply_data)ua={composer_id:ja.m_inline_reply_data.composer_id,placeholder_id:ja.m_inline_reply_data.placeholder_id,load_composer_uri:ja.m_inline_reply_data.load_uri_raw,logging_target_fbid:ja.m_inline_reply_data.logging_id};da({action_data:{action_type:'m-action-add-comment',author:na,attachment:oa,body:ja.body,can_edit:ja.can_viewer_edit,can_like:ja.feedback.can_viewer_like,can_remove:ja.can_viewer_delete,can_reply:ja.feedback.can_viewer_comment,can_report:ja.can_viewer_report,client_id:ga.comment_create_subscribe.client_mutation_id,comment_fbid:ja.legacy_fbid,comment_id:ja.legacy_token,ft_ent_identifier:fa,has_viewer_liked:ja.feedback.does_viewer_like,is_featured:ja.is_featured,is_hidden:ja.is_hidden_by_viewer||ja.spam_display_mode==='spam',is_translatable:ja.translation_available_for_viewer,like_count:ja.feedback.likers.count,timestamp:ja.created_time,like_uri:ja.m_like_uri,replies_uri:ja.m_replies_uri,report_uri:ja.m_report_uri,share_uri:ja.m_share_uri,delete_uri:ja.m_delete_uri,edit_uri:ta,hide_uri:ja.m_hide_uri,inline_reply_data:ua},feedback_data:{ft_ent_identifier:fa,comment_count:ia.top_level_comments.count,reduced_comment_count:ia.top_level_comments.display_count,request_id:null}});},ca=function(){for(var fa=0;fa<t.length;fa++){var ga=t[fa];ga&&ga.unsubscribe();}t=[];};function da(fa,ga){var ha=fa.feedback_data,ia=ha&&ha.ft_ent_identifier;if(ia){var ja=fa.action_data;if(ja){var ka=ja.action_type,la=ja.client_id&&h.isExistingClientID(ja.client_id);if(ga){var ma=null;if(ka==='m-action-add-comment'){ma='comment';}else if(ka==='m-action-like-comment'){ma='comment_like';}else if(ka==='m-action-like'||ka==='m-action-reaction')ma='like';if(ma)new i().setMechanism('livesend').setEvent('receive_payload').setIsMSite(true).setUpdateType(ma).setOriginatedLocally(la).log();}if(la)return;delete ja.client_id;if(ka==='m-action-add-comment'){if(Object.keys(j.get(ja.comment_id).getData()).length!==0)return;var na=j.get(ia).getData().comments||[];na.push(ja.comment_id);ha.comments=na;j.set(ja.comment_id,ja);}}j.update(ia,ha);}}function ea(fa,ga){if(!s)s=k.listen(r,null,u);var ha=Date.now();if(ga.likes)x(fa,ha);if(ga.comment_likes)w(fa,ha);if(ga.comments)y(fa,ha);q(ca);}f.exports={addAction:da,init:ea};},null);
__d('MUFIComposerFocus',['MLegacyDataStore','DOM','MParent','Parent','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='mufi-composer-focus',n;function o(t){var u=[];while(t.parentNode){u.unshift(t);t=t.parentNode;}return u;}function p(t){var u=j.bySigil(t,'story-div');if(!u)return;var v=i.scry(u,'*','mufi-composer');if(v.length===1)return v[0];var w=o(t),x=v.reduce(function(y,z,aa){var ba=o(z).reduce(function(ca,da,ea){return da===w[ea]?ea:Math.min(ea,ca);},0);return ba>=y[0]?[ba,z]:y;},[0,null]);return x[1];}function q(event){var t=p(event.getNode(m));if(t){event.prevent();t.focus();}}function r(event){var t=event.getNode(m),u=p(t);if(u){var v=j.bySigil(t,'touchable');if(v)h.get(v).nativeClick=true;var w=k.byTag(t,'a');if(w)w.href='#'+i.uniqID(u);}}function s(){if(!n){l.listen('touchstart',m,r);l.listen('click',m,q);n=true;}}f.exports={init:s};},null);
__d('MUFILikeButton',['ActorURI','CSS','MLegacyDataStore','DOM','JavelinEvent','MLiveData','MParent','MUFIConfig','MUFIRequest','Stratcom','Style','SubscriptionsHandler','createIxElement','cx','emptyFunction','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y={is_like:1},z={is_like:0};function aa(ba,ca,da,ea){'use strict';this.$MUFILikeButton1=ba;this.$MUFILikeButton2=m.get(ca);this.$MUFILikeButton4=ca;this.$MUFILikeButton5=da||{log:v};this.$MUFILikeButton6=ea;this.$MUFILikeButton3=new s();this.$MUFILikeButton3.addSubscriptions(k.listen(this.$MUFILikeButton1,'click',null,this.onClick.bind(this)),this.$MUFILikeButton2.listen('change',this.onChange.bind(this)),q.listen('m:page:unload',null,this.onUnload.bind(this)));}aa.prototype.onChange=function(){'use strict';var ba=this.$MUFILikeButton2.getData();if(ba.request_id===this.$MUFILikeButton6)return;var ca=ba.has_viewer_liked;i.conditionClass(this.$MUFILikeButton1,"_2q8z",ca);q.removeSigil(this.$MUFILikeButton1,ca?'like':'unlike');q.addSigil(this.$MUFILikeButton1,ca?'unlike':'like');};aa.prototype.getFeedbackData=function(){'use strict';var ba=this.$MUFILikeButton2.getData(),ca=ba.has_viewer_liked,da=ca?ba.like_count-1:ba.like_count+1,ea=ba.reduced_like_count;if(!isNaN(ea))ea=da.toString();return {has_viewer_liked:!ca,like_count:da,like_counts:[ba.like_counts[1]||null,ba.like_counts[0]],like_friend_sentences:[ba.like_friend_sentences[1]||null,ba.like_friend_sentences[0]],like_sentences:[ba.like_sentences[1]||null,ba.like_sentences[0]],reduced_like_count:ea};};aa.prototype.getRequestData=function(){'use strict';return null;};aa.prototype.onClick=function(event){'use strict';event.prevent();var ba=event.getNode('tag:a');if(!ba)ba=event.getNode('tag:div');var ca=p.getURI(ba.getAttribute('href')||ba.getAttribute('data-uri'));if(this.$MUFILikeButton2.getData().has_viewer_liked){ca.addQueryData('ul',true);ca.removeQueryData('reaction_type');}else ca.removeQueryData(['ul','reaction_type']);var da=n.bySigil(this.$MUFILikeButton1,'feed-ufi-metadata');if(da){var ea=j.get(da).actor_id;if(ea)ca=h.create(ca,ea);}p.send(this.$MUFILikeButton4,this.getFeedbackData(),ca,this.getRequestData());this.$MUFILikeButton5.log('like',undefined,this.$MUFILikeButton2.getData().has_viewer_liked?z:y);};aa.prototype.onUnload=function(){'use strict';this.$MUFILikeButton3.release();this.$MUFILikeButton3=null;};f.exports=aa;},null);
__d('MUFIReactionButton',['CSS','DOM','MLiveData','MUFILikeButton','MUFIReactionsUtils','MURI','Stratcom','Style','UFIReactionTypes','UFIReactionIcons','createIxElement','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v;if(c.__markCompiled)c.__markCompiled();var w=1,x=0;u=babelHelpers.inherits(y,k);v=u&&u.prototype;function y(z,aa,ba,ca){'use strict';v.constructor.call(this,z,aa,ba,ca);this.$MUFIReactionButton1=z;this.$MUFIReactionButton2=j.get(aa);this.$MUFIReactionButton3=aa;this.$MUFIReactionButton4=ca;if(z.href)z.setAttribute('data-uri',z.href);z.removeAttribute('href');}y.prototype.onChange=function(){'use strict';var z=this.$MUFIReactionButton2.getData();if(z.request_id===this.$MUFIReactionButton4)return;var aa,ba,ca=z.viewerreaction,da=!!ca;if(ca&&!p.reactions[ca])ca=null;if(!ca){aa='inherit';ba=t._("\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f");}else{var ea=null;if(ca!==w){ea=r(q[ca][16]);h.addClass(ea,"_4h-b");}aa=p.reactions[ca].color;ba=[ea,p.reactions[ca].display_name];}i.setContent(this.$MUFIReactionButton1,ba);h.conditionClass(this.$MUFIReactionButton1,"_1boq",da&&ca!==w);h.conditionClass(this.$MUFIReactionButton1,"_2q8z",da&&ca===w);o.set(this.$MUFIReactionButton1,'color',aa);n.removeSigil(this.$MUFIReactionButton1,da?'like':'unlike');n.addSigil(this.$MUFIReactionButton1,da?'unlike':'like');};y.prototype.getFeedbackData=function(){'use strict';var z=this.$MUFIReactionButton2.getData();return l.getReactionData(z,z.has_viewer_liked||z.viewerreaction?x:w);};y.prototype.getRequestData=function(){'use strict';var z=this.$MUFIReactionButton2.getData(),aa=z.has_viewer_liked||z.viewerreaction;return {reaction_type:aa?x:w,ft_ent_identifier:z.ft_ent_identifier};};f.exports=y;},null);
__d('MActionBubbleHelper',['CSS','Stratcom','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='enabled_action';f.exports.toggleActionBubbleItem=function(l,m){h.conditionClass(l,"_58a0",m);if(m){i.addSigil(l,k);}else i.removeSigil(l,k);};},null);
__d('MFlyout',['CSS','MLegacyDataStore','DOM','Locale','MContextualThing','MLayer','MParent','MViewport','Scroll','Stratcom','Vector','MJSEnvironment','clamp','cx','emptyFunction','mixInEventEmitter'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x,y;if(c.__markCompiled)c.__markCompiled();var z=52,aa=26,ba=10,ca=22,da=3,ea=400,fa=320,ga=['resize','m:schedulable:loaded','m:viewport:orientation-change','m:orientation-resize:complete','m:hideout:reflow','m:landscape-cover-crop:complete'],ha='flyout-causal',ia=j.create('div',{className:"_5so _2wyb"});function ja(){return document.body;}var ka=[];x=babelHelpers.inherits(la,m);y=x&&x.prototype;function la(pa,qa){'use strict';y.constructor.call(this,pa);this._contentRoot=null;this._contentWrapper=null;this._nubNode=null;this._nubAlignment=null;this._content=null;this._contextNode=null;this._parentLayer=null;this._parentSubscription=null;this._orientation=null;this._orientationClass=null;this._width=null;this._modal=null;this._contentPositioner=null;this._heightConstraint=null;this.init(qa);}la.prototype.configure=function(pa,qa){'use strict';y.configure.call(this,pa,qa);if(pa.context){this.setContext(pa.context);this.setParentSubscription();q.addSigil(this.getCausalElement(),ha);var ra=i.get(this.getCausalElement());ra.flyout=this;}this.setMargin(pa.margin);this.setPosition(pa.position);this.setNubAlign(pa.nubalign);this.setOffsetY(pa.offsetY);this._content=qa;this.setWidth(pa.width);this.setModal(!!pa.modal);};la.prototype.setWidth=function(pa){'use strict';this._width=pa;};la.prototype.setModal=function(pa){'use strict';this._modal=pa;};la.prototype.getModal=function(){'use strict';return this._modal;};la.prototype._getLayerParentWidth=function(){'use strict';return r.getDim(this.getRoot().offsetParent).x;};la.prototype.getMaxWidth=function(){'use strict';return Math.min(this._getLayerParentWidth(),s.IS_TABLET?fa:ea);};la.prototype._maxWidthIsApplicable=function(){'use strict';return this.getMaxWidth()!==this._getLayerParentWidth();};la.prototype._isCustomWidth=function(){'use strict';return this._width==='auto'||this._maxWidthIsApplicable();};la.prototype.applyWidth=function(){'use strict';var pa=this._contentRoot.style;pa.width='';pa.maxWidth='';if(this._maxWidthIsApplicable()){var qa=this.getMaxWidth()+'px';if(this._width==='auto'){pa.maxWidth=qa;}else pa.width=qa;}h.conditionClass(this._contentRoot,"_556f",this._isCustomWidth());};la.prototype.buildWrapper=function(pa,qa){'use strict';this._nubNode=j.create('div',{className:"_5bn_"});this._backgroundNode=j.create('div',{className:"_5c0e"},this._nubNode);var ra=j.create('div',{className:"_5c0f"},qa);this._contentRoot=j.create('div',{className:"_5bo0"},[this._backgroundNode,ra]);if(k.isRTL())this._contentRoot.style.direction='rtl';this._contentWrapper=j.create('div',{className:"_544k"},this._contentRoot);this._contentPositioner=j.create('div',{className:"_544l"},this._contentWrapper);return this._contentPositioner;};la.prototype.setMargin=function(pa){'use strict';h.conditionClass(this._contentRoot,"_54wl",pa==='large');h.conditionClass(this._contentRoot,"_55kj",pa==='medium');};la.prototype.getInsertParent=function(){'use strict';var pa=this.insertParent;if(!pa){var qa=this.getContext();if(qa)pa=n.bySigil(qa,'context-layer-root')||ja();}return pa||y.getInsertParent.call(this);};la.prototype.setContent=function(pa){'use strict';this._content=pa;j.setContent(this._contentRoot,this._content);this.updateIfShown();return this;};la.prototype.setContext=function(pa){'use strict';this._contextNode=pa;};la.prototype.getCausalElement=function(){'use strict';return y.getCausalElement.call(this)||this.getContext();};la.prototype.setParentSubscription=function(){'use strict';var pa=this.getContext(),qa=null,ra=ja().parentNode;while(pa!==ra){qa=i.get(pa).layer;if(qa)break;pa=pa.parentNode;}if(qa===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentSubscription.remove();this._parentSubscription=null;}if(qa)this._parentSubscription=qa.subscribe('hide',this.hide.bind(this));this._parentLayer=qa;};la.prototype.setPosition=function(pa){'use strict';if(this.getOrientation().setDefaultPosition(pa)){this.getOrientation().setPosition(pa);this.updateIfShown();}return this;};la.prototype.setNubAlign=function(pa){'use strict';na(pa);this._nubAlignment=pa||'center';};la.prototype.setOffsetY=function(pa){'use strict';pa=parseInt(pa,10);if(this.getOrientation().setDefaultOffsetY(pa))this.updateIfShown();return this;};la.prototype.getOrientation=function(){'use strict';if(!this._orientation)this._orientation=new oa();return this._orientation;};la.prototype.getContentRoot=function(){'use strict';return this._contentRoot;};la.prototype.getContent=function(){'use strict';return this._content;};la.prototype.getContext=function(){'use strict';return this._contextNode;};la.prototype.getContextBounds=function(){'use strict';return this.getContext().getBoundingClientRect();};la.prototype.causalClickShow=function(){'use strict';this.getContent()&&this.show();};la.prototype.show=function(){'use strict';if(this.isShown())return this;y.show.call(this);if(this.getModal())j.insertAfter(this._contentPositioner,ia);if(this.isShown()){l.register(this.getRoot(),this.getContext());ka.push(this);if(!this.resizeListeners){var pa=this.updatePosition.bind(this);this.resizeListeners=ga.map(function(va){return q.listen(va,null,pa);});}var qa=document.getElementById('viewport'),ra=this.getContentRoot();if(qa&&ra){ra=ra.parentNode;var sa=0,ta=ra;while(ta&&ta!==qa){sa+=ta.offsetTop;ta=ta.offsetParent;}var ua=sa+ra.clientHeight;this._heightConstraint=o.addMinHeightConstraint(ua);}}return this;};la.prototype.finishHide=function(){'use strict';ka.splice(ka.indexOf(this),1);while(this.resizeListeners&&this.resizeListeners.length)this.resizeListeners.pop().remove();this.resizeListeners=null;q.invoke('m:flyout:close',null,{flyout:this});if(this.getModal())j.remove(ia);if(this._heightConstraint){this._heightConstraint.release();this._heightConstraint=null;}return y.finishHide.call(this);};la.prototype.updatePosition=function(){'use strict';var pa=this.getContext();if(!pa)return false;if(!pa.offsetParent)return false;this.applyWidth();this.emit('adjustDimensions');var qa=this.getRoot(),ra=this.getOrientation();this.emit('adjust',ra.reset());this.updateWrapperClass(ra);var sa=qa.offsetParent,ta=sa.getBoundingClientRect(),ua=this.getContextBounds(),va=ua.left-ta.left,wa=ua.top-ta.top;if(ra.getPosition()==='below')wa+=ua.height;var xa=this.getContentRoot(),ya=0;if(this._isCustomWidth()){var za=xa.clientWidth,ab=va+Math.round(ua.width/2);ya=t(Math.round(ab-za/2),0,this._getLayerParentWidth()-za);xa.style.left=ya+'px';}else xa.style.left='';qa.style.top=wa+ra.getOffsetY()+'px';var bb=this._nubAlignment,cb=va;if(ua<aa)bb='center';if(bb==='center'){cb+=Math.round(ua.width/2);}else if(this._nubAlignment==='left'){cb+=aa/2;}else cb+=ua.width-aa/2;var db=xa.getBoundingClientRect(),eb={left:db.left,width:db.width};eb.left-=ta.left;var fb=da+aa/2;cb=t(cb,eb.left+fb,eb.left+eb.width-fb);var gb=cb-z/2-eb.left;this._nubNode.style.left=gb+'px';this.emit('reposition',ra);return true;};la.prototype.updateNubPosition=function(pa){'use strict';if(this._nubNode)this._nubNode.style.left=pa+'px';};la.prototype._toggleOrientationClass=function(pa,qa){'use strict';h.conditionClass(this._contentWrapper,qa||this._orientationClass,pa);};la.prototype.updateWrapperClass=function(pa){'use strict';var qa=pa.getClassName();if(qa===this._orientationClass)return;if(this._orientationClass)this._toggleOrientationClass(false);this._orientationClass=qa;this._toggleOrientationClass(true);};la.prototype.simulateOrientation=function(pa,qa){'use strict';var ra=pa.getClassName();if(ra===this._orientationClass){return qa();}else{if(this._orientationClass)this._toggleOrientationClass(false);this._toggleOrientationClass(true,ra);var sa=qa();this._toggleOrientationClass(false,ra);if(this._orientationClass)this._toggleOrientationClass(true);return sa;}};la.prototype.destroy=function(){'use strict';y.destroy.call(this);this._contextNode=null;this._contextSigil=null;this._contentRoot=null;this._contentWrapper=null;this._content=null;this._nubNode=null;this._width=null;return this;};la.prototype.shouldBlurOnTouchEnd=function(){'use strict';return this.getModal()==null;};w(la,{adjustDimensions:true,adjust:true,reposition:true});var ma=v.thatReturnsArgument,na=v.thatReturnsArgument;function oa(){'use strict';this._default={_position:'above',_offsetY:0};this.reset();}oa.prototype.setPosition=function(pa){'use strict';this._position=ma(pa);return this;};oa.prototype.getOppositePosition=function(){'use strict';return oa.OPPOSITE[this.getPosition()];};oa.prototype.getPosition=function(){'use strict';return this._position||'above';};oa.prototype.getOffsetY=function(){'use strict';var pa=this._offsetY||0;if(this._position==='above'){pa-=ca;pa*=-1;}else if(this._position==='below')pa-=ba;return pa;};oa.prototype.getClassName=function(){'use strict';var pa=this.getPosition();if(pa==='below'){return "_5bo1";}else if(pa==='above')return "_5bo2";};oa.prototype.reset=function(){'use strict';Object.assign(this,this._default);return this;};oa.prototype.setDefaultPosition=function(pa){'use strict';var qa=this._default._position;this._default._position=ma(pa);return qa!==pa;};oa.prototype.setDefaultOffsetY=function(pa){'use strict';var qa=this._default._offsetY;this._default._offsetY=pa;return qa!==pa;};oa.OPPOSITE={above:'below',below:'above'};q.listen('click',ha,function(pa){i.get(pa.getNode(ha)).flyout.causalClickShow();});q.listen('click',['m-layer-root','mflyout-remove-on-click'],function(pa){var qa=pa.getNode('m-layer-root');i.get(qa).layer.hide();});f.exports=la;},null);
__d('MFlyoutAutoFlip',['MViewport','MParent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$MFlyoutAutoFlip1=null;this.$MFlyoutAutoFlip2=k;}j.prototype.enable=function(){'use strict';this.$MFlyoutAutoFlip1=this.$MFlyoutAutoFlip2.addListener('adjust',this.$MFlyoutAutoFlip3.bind(this));if(this.$MFlyoutAutoFlip2.isShown())this.$MFlyoutAutoFlip2.updatePosition();};j.prototype.disable=function(){'use strict';this.$MFlyoutAutoFlip1.remove();this.$MFlyoutAutoFlip1=null;if(this.$MFlyoutAutoFlip2.isShown())this.$MFlyoutAutoFlip2.updatePosition();};j.prototype.$MFlyoutAutoFlip3=function(k){'use strict';var l=this.$MFlyoutAutoFlip4(k),m={top:this.$MFlyoutAutoFlip2.config.autoFlipTopOffset||0,bottom:h.getUseableHeight()},n=i.bySigil(this.$MFlyoutAutoFlip2.getRoot(),'scroll-area');if(n){var o=n.getBoundingClientRect();m={top:Math.max(o.top,m.top),bottom:Math.min(o.bottom,m.bottom)};}var p,q,r=this.$MFlyoutAutoFlip2,s=r.getContext(),t=s.getBoundingClientRect();for(p=0;p<l.length;p++){k.setPosition(l[p]);q=r.simulateOrientation(k,function(){return r.getRoot().firstChild.getBoundingClientRect();});var u=t.top+k.getOffsetY();if(k.getPosition()==='above'){u-=q.height;}else if(k.getPosition()==='below')u+=t.height;var v={top:u,bottom:u+q.height};if(v.top>=m.top&&v.bottom<=m.bottom)return;}k.setPosition(l.indexOf('below')>-1?'below':l[0]);};j.prototype.$MFlyoutAutoFlip4=function(k){'use strict';return [k.getPosition(),k.getOppositePosition()];};f.exports=j;},null);
__d('MFlyoutContextSigil',['Stratcom','MLegacyDataStore','DOM','ex'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={};function m(n){'use strict';this.$MFlyoutContextSigil1=null;this.$MFlyoutContextSigil2=n;}m.prototype.enable=function(){'use strict';var n=this.$MFlyoutContextSigil3();l[n];l[n]=this.$MFlyoutContextSigil2;this.$MFlyoutContextSigil1=h.listen('click',this.$MFlyoutContextSigil3(),this.$MFlyoutContextSigil4.bind(this));};m.prototype.disable=function(){'use strict';delete l[this.$MFlyoutContextSigil3()];this.$MFlyoutContextSigil1.remove();this.$MFlyoutContextSigil1=null;this.$MFlyoutContextSigil2=null;};m.prototype.$MFlyoutContextSigil3=function(){'use strict';var n=this.$MFlyoutContextSigil2.config;return n.causalSigil||n.contextSigil;};m.prototype.$MFlyoutContextSigil4=function(n){'use strict';var o=n.getNode(this.$MFlyoutContextSigil3()),p,q=this.$MFlyoutContextSigil2.config.contextSigil,r=this.$MFlyoutContextSigil2.config.causalSigil;if(r&&r!==q){var s=o;while(s&&s!==document.body&&!p)if(h.hasSigil(s,q)){p=s;}else{var t=j.scry(s,'*',q);p=t[0];s=s.parentNode;}}else p=o;if(this.$MFlyoutContextSigil2.getContext()!==p&&this.$MFlyoutContextSigil2.isShown()){this.$MFlyoutContextSigil2.hide();if(!this.$MFlyoutContextSigil2)return;}this.$MFlyoutContextSigil2.setCausalElement(o);this.$MFlyoutContextSigil2.setContext(p);i.get(o).flyout=this.$MFlyoutContextSigil2;if(!this.$MFlyoutContextSigil2.isShown())this.$MFlyoutContextSigil2.show();n.prevent();};f.exports=m;},null);