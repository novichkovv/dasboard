/*!CK:2870871636!*//*1460973692,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["DP1xQ"]); }

__d("FullViewType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ENTIRE_UNIT:1};},null);
__d("TrackingNodeTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,UPLOAD_FILE_LINK:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,WAP_FOOTER:196,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,FEED_STORY_PLACE_CHAINING_UNIT:223,UNUSED:-1};},null);
__d('AdBlockerDetectorLogging',['Banzai','ErrorUtils','getElementPosition'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=1,l=2,m='swank',n={doAdBlockCheck:function(o,p){i.applyWithGuard(function(){this._doAdBlockImgCheck(o,p.token||p,0);}.bind(this),this);},_doAdBlockImgCheck:function(o,p,q){if(!p||!o)return;var r=o.querySelectorAll('img');if(r.length>0){var s=false;for(var t=0;t<r.length;t++){var u=r[t],v=j(u);if(v.width>0||v.height>0){s=true;break;}}if(!s){var w=o,x=0;while(w!==null){if(x++>50)break;if(w.classList.contains('hidden_elem')||w.classList.contains('holdoutAdStory')||w.classList.contains('ego_ads_holdout'))return;w=w.parentElement;}h.post('xtrackable:'+m,{token:p});}}else if(r.length===0&&p.startsWith('7.'))if(++q<5)setTimeout(function(){this._doAdBlockImgCheck(o,p,q);}.bind(this).bind(this),2500);},doBrowserExtensionCheck:function(o,p){try{var r=document.getElementsByTagName('head')[0],s=document.documentElement.shadowRoot,t=[];if(s)t=Array.prototype.slice.call(s.querySelectorAll('style'));var u=Array.prototype.slice.call(r.querySelectorAll('style')).filter(function(w){return w&&w.textContent.length==0;}),v={};v[k]=t.length>0;v[l]=u.length>0;if(o)t.forEach(function(w){w.disabled=true;});if(p)u.forEach(function(w){w.disabled=true;});h.post('search_check',v);}catch(q){}}};f.exports=n;},null);
__d('NonBlockingIFrame',['Promise','DOM','TimeSlice'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={},l,m;function n(){var q=arguments.length<=0||arguments[0]===undefined?k:arguments[0],r=arguments.length<=1||arguments[1]===undefined?document.body:arguments[1],s,t={className:'nonBlockingIframe',width:0,height:0,frameborder:0,scrolling:'no','aria-hidden':'true'};if(q!==k)t.src=q;s=i.create('iframe',t);s.style.left='-1000px';s.style.position='absolute';i.appendContent(r,s);if(q===k){s.contentDocument.open();s.contentDocument.close();}return s;}function o(){return new h(function(q){if(!l)l=n();if(l.contentDocument.readyState==='complete'){q(l);}else{if(!m)m=new h(function(r){l.contentWindow.onload=j.guard(function(){r(l);},'NonBlockingIFrame window.onload');});q(m);}});}var p={loadImage:function(q){return o().then(function(r){return new h(function(s,t){var u=r.contentWindow.Image,v=new u();v.onload=j.guard(function(){s(v);},'NonBlockingIFrame image.onload');v.onerror=j.guard(function(){t(v);},'NonBlockingIFrame image.onerror');v.onabort=j.guard(function(){t(v);},'NonBlockingIFrame image.onabort');v.src=q;});});},loadIFrame:function(){var q=arguments.length<=0||arguments[0]===undefined?k:arguments[0];return o().then(function(r){var s=r.contentDocument.body;return n(q,s);});}};f.exports=p;},null);
__d('TrackingNodes',['TrackingNodeTypes'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={types:h,BASE_CODE_START:58,BASE_CODE_END:126,BASE_CODE_SIZE:69,PREFIX_CODE_START:42,PREFIX_CODE_END:47,PREFIX_CODE_SIZE:6,TN_URL_PARAM:'__tn__',encodeTN:function(j,k){var l=(j-1)%i.BASE_CODE_SIZE,m=parseInt((j-1)/i.BASE_CODE_SIZE,10);if(j<1||m>i.PREFIX_CODE_SIZE)throw Error('Invalid tracking node: '+j);var n="";if(m>0)n+=String.fromCharCode(m-1+i.PREFIX_CODE_START);n+=String.fromCharCode(l+i.BASE_CODE_START);if(typeof k!="undefined"&&k>0)n+=String.fromCharCode(48+Math.min(k,10)-1);return n;},decodeTN:function(j){if(j.length===0)return [0];var k=j.charCodeAt(0),l=1,m,n;if(k>=i.PREFIX_CODE_START&&k<=i.PREFIX_CODE_END){if(j.length==1)return [0];n=k-i.PREFIX_CODE_START+1;m=j.charCodeAt(1);l=2;}else{n=0;m=k;}if(m<i.BASE_CODE_START||m>i.BASE_CODE_END)return [0];var o=n*i.BASE_CODE_SIZE+(m-i.BASE_CODE_START)+1;if(j.length>l&&j.charAt(l)>='0'&&j.charAt(l)<='9')return [l+1,[o,parseInt(j.charAt(l),10)+1]];return [l,[o]];},parseTrackingNodeString:function(j){var k=[];while(j.length>0){var l=i.decodeTN(j);if(l.length==1)return [];k.push(l[1]);j=j.substring(l[0]);}return k;},getTrackingInfo:function(j,k){return '{"tn":"'+i.encodeTN(j,k)+'"}';},addDataAttribute:function(j,k,l){if(k===undefined)return;['data-ft','data-gt'].forEach(function(m){var n;if(j.getAttribute){n=j.getAttribute(m)||"{}";}else if(j.props){n=j.props[m]||"{}";}else return;var o=i.encodeTN(k,l);try{n=JSON.parse(n);if(n.tn&&n.tn===o)return;n.tn=o;if(j.setAttribute){j.setAttribute(m,JSON.stringify(n));}else if(j.props){j.props[m]=JSON.stringify(n);}else return;}catch(p){}});}};f.exports=i;},null);
__d('getContextualParent',['ge'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l,m=false;do{if(j.getAttribute&&(l=j.getAttribute('data-ownerid'))){j=h(l);m=true;}else j=j.parentNode;}while(k&&j&&!m);return j;}f.exports=i;},null);
__d('collectDataAttributes',['getContextualParent'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='normal';function j(k,l,m){var n={},o=[],p=l.length,q;for(q=0;q<p;++q){n[l[q]]={};o.push('data-'+l[q]);}if(m){n[i]={};for(q=0;q<(m||[]).length;++q)o.push(m[q]);}var r={tn:'',"tn-debug":','};while(k){if(k.getAttribute)for(q=0;q<o.length;++q){var s=o[q],t=k.getAttribute(s);if(t){if(q>=p){if(n[i][s]===undefined)n[i][s]=t;continue;}var u=JSON.parse(t);for(var v in u)if(r[v]!==undefined){if(n[l[q]][v]===undefined)n[l[q]][v]=[];n[l[q]][v].push(u[v]);}else if(n[l[q]][v]===undefined)n[l[q]][v]=u[v];}}k=h(k);}for(var w in n)for(var x in r)if(n[w][x]!==undefined)n[w][x]=n[w][x].join(r[x]);return n;}f.exports=j;},null);
__d('FullViewLogger',['Banzai','ScriptPath','SubscriptionsHandler','URI'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();l.logFromViewableImpressionTracker=function(m){'use strict';var n=new l();n.subscribeToTrackerEvents(m);};l.prototype.subscribeToTrackerEvents=function(m){'use strict';this.subscriptionsHandler=new j();this.subscriptionsHandler.addSubscriptions(m.addListener('full_view',this.onFullView,this));};l.prototype.onFullView=function(m){'use strict';if(this.$FullViewLogger1())this.$FullViewLogger2(m);var n={token:m.token,fullViewType:m.fullViewType,scriptPath:i.getTopViewEndpoint()};h.post('xtrackable:full_view',n);if(this.$FullViewLogger1())this.$FullViewLogger3(n);};l.prototype.$FullViewLogger1=function(){'use strict';return 0;};l.prototype.$FullViewLogger2=function(m){'use strict';};l.prototype.$FullViewLogger3=function(m){'use strict';};function l(){'use strict';}f.exports=l;},null);
__d('ViewableImpressionHeatmapLogger',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();i.logFromViewableImpressionTracker=function(j,k){'use strict';var l=new i(k);l.subscribeToTrackerEvents(j);};function i(j){'use strict';this.loggingDurationMS=j;this.trackingEntries={};}i.prototype.subscribeToTrackerEvents=function(j){'use strict';this.visibleSubscription=j.addListener('visible',this.onElementVisible,this);this.hiddenSubscription=j.addListener('hidden',this.onElementHidden,this);};i.prototype.onElementVisible=function(j){'use strict';var k=this.getCurrentTimestamp(),l=this.trackingEntries[j.id];if(!l){l=this.createTrackingEntry(j);this.beginTracking(j.id,l);k=l.startedTrackingTS;}l.viewportProgressEvents.push({timestamp:k,percentInViewport:j.percentInViewport.toFixed(2)});};i.prototype.onElementHidden=function(j){'use strict';var k=this.getCurrentTimestamp(),l=this.trackingEntries[j.id];if(!l)return;l.viewportProgressEvents.push({timestamp:k,percentInViewport:0});};i.prototype.onTrackingCompleted=function(j){'use strict';var k=this.trackingEntries[j];k.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:k.tracker.getPercentInViewport().toFixed(2)});if(this.$ViewableImpressionHeatmapLogger1())this.$ViewableImpressionHeatmapLogger2(j,k);this.logToServer(k);delete this.trackingEntries[j];};i.prototype.logToServer=function(j){'use strict';var k=j;delete k.tracker;h.post('xtrackable:heatmap',k);};i.prototype.beginTracking=function(j,k){'use strict';this.trackingEntries[j]=k;setTimeout(function(){return this.onTrackingCompleted(j);}.bind(this),this.loggingDurationMS);};i.prototype.createTrackingEntry=function(j){'use strict';return {tracker:j.tracker,token:j.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]};};i.prototype.getCurrentTimestamp=function(){'use strict';return (Date.now()/1000).toFixed(2);};i.prototype.$ViewableImpressionHeatmapLogger1=function(){'use strict';return 0;};i.prototype.$ViewableImpressionHeatmapLogger2=function(j,k){'use strict';var l='Completed tracking for id '+j+' token='+k.token+' startedTrackingTS='+k.startedTrackingTS+'\n';k.viewportProgressEvents.forEach(function(m){l+='% in view: '+m.percentInViewport+' timestamp='+m.timestamp+'\n';});};f.exports=i;},null);
__d("BrowseClientEventLogger",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={maybeLogClientViewEvent:function(i){},maybeLogVisiblityEvent:function(i){}};f.exports=h;},null);
__d("ViewableImpressionUtils",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isHorizontallyOffscreen:function(i,j,k){var l=Math.max(j.x,0),m=Math.min(j.x+j.width,k.width);return m-l<j.width;}};f.exports=h;},null);
__d('ViewableImpressionTracker',['Banzai','BrowseClientEventLogger','DOM','FullViewType','NonBlockingIFrame','Style','URI','ViewableImpressionUtils','WebSpeedExperiments','getElementPosition','getViewportDimensions','mixInEventEmitter'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();function t(u,v,w){'use strict';this.id=u;this.element=v;this.config=w;this.iframe=null;this.viewableTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=false;this.waitForLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.iframeLogged=false;this.banzaiLogged=false;this.topLeftInViewport=false;this.bottomRightInViewport=false;}t.prototype.getID=function(){'use strict';return this.id;};t.prototype.getPercentInViewport=function(){'use strict';var u=r(),v=q(this.element);return this.$ViewableImpressionTracker1(u,v);};t.prototype.$ViewableImpressionTracker1=function(u,v){'use strict';if(v.x<u.width&&v.x+v.width>0&&v.y<u.height&&v.y+v.height>0&&m.get(this.element,'visibility')!=='hidden'&&m.get(this.element,'opacity')!=='0'){var w=Math.max(v.x,0),x=Math.min(v.x+v.width,u.width),y=Math.max(v.y,0),z=Math.min(v.y+v.height,u.height);if(v.height*v.width===0)return 100;if(this.config.require_horizontally_onscreen&&o.isHorizontallyOffscreen(this.element,v,u))return 0;var aa=100*(x-w)*(z-y)/(v.height*v.width);return aa;}return 0;};t.prototype.$ViewableImpressionTracker2=function(u,v){'use strict';if(m.get(this.element,'visibility')==='hidden'||m.get(this.element,'opacity')==='0')return false;var w=v.x,x=v.y,y=v.x+v.width,z=v.y+v.height;this.topLeftInViewport=this.topLeftInViewport||w>=0&&w<=u.width&&x>=0&&x<=u.height;this.bottomRightInViewport=this.bottomRightInViewport||y>=0&&y<=u.width&&z>=0&&z<=u.height;return this.topLeftInViewport&&this.bottomRightInViewport;};t.prototype.$ViewableImpressionTracker3=function(u,v){'use strict';if(this.hasEmittedFullViewEvent)return;if(this.$ViewableImpressionTracker2(u,v)){this.emit('full_view',{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:k.ENTIRE_UNIT});this.hasEmittedFullViewEvent=true;}};t.prototype.onVisible=function(){'use strict';this.isVisible=true;var u=r(),v=q(this.element),w=this.$ViewableImpressionTracker1(u,v),x=w>this.config.pixel_in_percentage;this.emit('visible',{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:w});this.$ViewableImpressionTracker3(u,v);if(!x){this.$ViewableImpressionTracker4();return;}if(this.isLogged()){this.$ViewableImpressionTracker5();}else this.$ViewableImpressionTracker6();if(!this.waitForLogged&&!this.isLogged()){this.waitForLogged=true;this.viewableTimeout=setTimeout(function(){this.waitForLogged=false;var y=this.getPercentInViewport(),z=y>this.config.pixel_in_percentage;if(!z){this.$ViewableImpressionTracker7();return;}this.logImpression(1,{});this.$ViewableImpressionTracker5();}.bind(this),this.config.duration_in_ms);}};t.prototype.onHidden=function(){'use strict';this.emit('hidden',{id:this.getID(),token:this.getToken()});if(this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged){this.logNonViewableImpression();}else if(!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible)this.logNonViewableImpression();this.isVisible=false;if(this.waitForLogged){this.waitForLogged=false;clearTimeout(this.viewableTimeout);}if(this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0){this.waitForSubsequent=true;this.clearSubsequentTimeout=setTimeout(function(){this.waitForSubsequent=false;this.reset();if(this.isVisible)this.onVisible();}.bind(this),this.config.subsequent_gap_in_ms);}this.$ViewableImpressionTracker7();};t.prototype.onRemoved=function(){'use strict';this.isVisible=false;};t.prototype.getToken=function(){'use strict';return this.element.getAttribute('data-xt');};t.prototype.logImpression=function(u,v){'use strict';if(this.isLogged())return;var w=this.getToken(),x=Math.floor(Date.now()/1000),y={xt:w,isv:u,cts:x};if(h.isEnabled('xtrackable_clientview_batch')&&this.config.should_batch){this.logWithBanzai(y);}else this.logWithIFrame(Object.assign(y,v));};t.prototype.logNonViewableImpression=function(){'use strict';if(this.config.nonviewableEnabled){var u=this.getToken();h.post('xtrackable:nonviewable',{xt:u});}this.isNonViewableLogged=true;};t.prototype.isLogged=function(){'use strict';return this.iframeLogged||this.banzaiLogged;};t.prototype.reset=function(){'use strict';if(this.iframeLogged)this.iframeLogged=false;if(this.iframe){j.remove(this.iframe);this.iframe=null;}if(this.banzaiLogged)this.banzaiLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.waitForLogged=false;this.waitForSubsequent=false;};t.prototype.logWithBanzai=function(u){'use strict';this.banzaiLogged=true;i.maybeLogClientViewEvent(u);h.post('xtrackable:clientview_batch',u);};t.prototype.logWithIFrame=function(u){'use strict';this.iframeLogged=true;if(p.non_blocking_tracker){l.loadIFrame(new n(this.config.impressionURL).addQueryData(u).toString());}else{this.iframe=j.create('iframe',{src:new n(this.config.impressionURL).addQueryData(u),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});this.iframe.setAttribute('aria-hidden','true');j.appendContent(this.element,this.iframe);}};t.prototype.$ViewableImpressionTracker8=function(){'use strict';return 0;};t.prototype.$ViewableImpressionTracker4=function(){'use strict';if(this.$ViewableImpressionTracker8()){m.set(this.element,'background-color','#abab9a');m.set(this.element,'outline','3px solid #abab9a');}};t.prototype.$ViewableImpressionTracker6=function(){'use strict';if(this.$ViewableImpressionTracker8()){m.set(this.element,'background-color','#e4f70a');m.set(this.element,'outline','3px solid #e4f70a');}};t.prototype.$ViewableImpressionTracker7=function(){'use strict';if(this.$ViewableImpressionTracker8()){m.set(this.element,'background-color',null);m.set(this.element,'outline',null);}};t.prototype.$ViewableImpressionTracker5=function(){'use strict';if(this.$ViewableImpressionTracker8()){m.set(this.element,'background-color','#047515');m.set(this.element,'outline','3px solid #047515');}};s(t,{visible:true,hidden:true,full_view:true});f.exports=t;},null);
__d('VisibilityTrackingHelper',['MViewport','Stratcom','StratcomManager'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getEventListeners:function(l){j.enableDispatch(document,'scroll');return [i.listen('m:root:render',null,l),i.listen('scroll',null,l),i.listen('MScrollArea:scrollend',null,l)];},getViewportInfo:function(){return {width:h.getWidth(),height:h.getHeight()};}};f.exports=k;},null);
__d('VisibilityTracking',['Banzai','BrowseClientEventLogger','ErrorUtils','ScriptPath','SubscriptionsHandler','Visibility','VisibilityTrackingHelper','collectDataAttributes','getElementPosition','pageID','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s='visibility_tracking',t='[data-vistracking]',u=500,v=50,w=50,x=50,y=50,z={VISIBLE:'visible',HIDDEN:'hidden'},aa={DEFAULT:'default',REMOVED:'removed'},ba={name:z.VISIBLE,cause:aa.DEFAULT},ca={name:z.HIDDEN,cause:aa.DEFAULT},da={name:z.HIDDEN,cause:aa.REMOVED},ea=0;function fa(ga){'use strict';ga=ga||{};if(!ga.bypass_banzai_check&&!h.isEnabled(s))return;this.visibleElementInfo={};this.getDataFromConfig(ga);m.addListener(m.VISIBLE,j.guard(this.fireEvent,'VisibilityTracking:visible',this));if(!this.skipVisibilityHiddenEvents)m.addListener(m.HIDDEN,j.guard(this.clearAllVisibleElements,'VisibilityTracking:hidden',this));k.subscribe(j.guard(this.updateVisibleElements,'VisibilityTracking:scriptPath',this));h.subscribe(h.SHUTDOWN,j.guard(this.onUnload,'VisibilityTracking:banzaiShutdown',this));this.fireEventCallback=r.acrossTransitions(j.guard(this.fireEvent,'VisibilityTracking:fireEventCallback',this),this.timeout,this);this.listeners=new l();n.getEventListeners(this.fireEventCallback).forEach(function(ha){this.listeners.addSubscriptions(ha);},this);if(this.extraInit)j.applyWithGuard(this.extraInit.bind(this));}fa.prototype.getDataFromConfig=function(ga){'use strict';this.config=ga;this.root=ga.root||document.documentElement;this.selector=ga.selector||t;this.timeout=typeof ga.timeout!=='undefined'?ga.timeout:u;this.minOffsetVisibleFromBottom=typeof ga.minOffsetVisibleFromBottom!=='undefined'?ga.minOffsetVisibleFromBottom:v;this.minOffsetVisibleFromTop=typeof ga.minOffsetVisibleFromTop!=='undefined'?ga.minOffsetVisibleFromTop:w;this.minOffsetVisibleFromLeft=typeof ga.minOffsetVisibleFromLeft!=='undefined'?ga.minOffsetVisibleFromLeft:x;this.minOffsetVisibleFromRight=typeof ga.minOffsetVisibleFromRight!=='undefined'?ga.minOffsetVisibleFromRight:y;this.handleAllHiddenEvents=typeof ga.handleAllHiddenEvents!=='undefined'?ga.handleAllHiddenEvents:false;this.handleAllVisibleEvents=typeof ga.handleAllVisibleEvents!=='undefined'?ga.handleAllVisibleEvents:false;this.skipVisibilityHiddenEvents=typeof ga.skipVisibilityHiddenEvents!=='undefined'?ga.skipVisibilityHiddenEvents:false;this.cacheTrackedElements=typeof ga.cacheTrackedElements!=='undefined'?ga.cacheTrackedElements:false;};fa.prototype.getAllTrackedElements=function(){'use strict';if(!this.allTrackedElements){this.allTrackedElements={};if(this.root.querySelectorAll){var ga=this.root.querySelectorAll(this.selector);for(var ha=0;ha<ga.length;ha++){var ia=this.getElementID(ga[ha]);this.allTrackedElements[ia]=ga[ha];}}}return this.allTrackedElements;};fa.prototype.refreshAllTrackedElements=function(){'use strict';delete this.allTrackedElements;return this.getAllTrackedElements();};fa.prototype.getDataToLog=function(ga){'use strict';var ha=Object.assign(o(ga,['gt']).gt,{client_time:Date.now()/1000,time_spent_id:q,script_path:k.getScriptPath()});return ha;};fa.prototype.getElementID=function(ga){'use strict';var ha=ga.$VisibilityTracking1;if(ha)return ha;ga.$VisibilityTracking1=++ea;return ea;};fa.prototype.sendDataToLog=function(ga){'use strict';i.maybeLogVisiblityEvent(ga);h.post(s,ga);};fa.prototype.fireEvent=function(){'use strict';var ga=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var ha in ga){var ia=ga[ha],ja=n.getViewportInfo(),ka=this.isVisible(ia,ja);if(!ka&&(ha in this.visibleElementInfo||this.handleAllHiddenEvents)){this.handleEvent(ia,ca);}else if(ka&&(!(ha in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(ia,ba);}this.clearUntrackedVisibleElements();};fa.prototype.isVisible=function(ga,ha){'use strict';var ia=p(ga);return (ia.x||ia.y||ia.width||ia.height)&&ia.y+ia.height>=this.minOffsetVisibleFromTop&&ia.y<=ha.height-this.minOffsetVisibleFromBottom&&ia.x+ia.width>=this.minOffsetVisibleFromLeft&&ia.x<=ha.width-this.minOffsetVisibleFromRight;};fa.prototype.handleEvent=function(ga,event){'use strict';var ha=this.getElementID(ga),ia=this.getDataToLog(ga),ja;if(event.name===z.VISIBLE){var ka=Math.floor(Date.now()/1000);ja=q.concat(":",ka.toString(),":",this.getElementID(ga).toString());this.visibleElementInfo[ha]={visibility_id:ja,elem:ga};}else if(event.name===z.HIDDEN)if(ha in this.visibleElementInfo){ja=this.visibleElementInfo[ha].visibility_id;delete this.visibleElementInfo[ha];}this.sendDataToLog(Object.assign(ia,{event:event.name,visibility_id:ja}));};fa.prototype.clearUntrackedVisibleElements=function(){'use strict';var ga=this.getAllTrackedElements();for(var ha in this.visibleElementInfo)if(!(ha in ga)){var ia=this.visibleElementInfo[ha];if(ia.elem)this.handleEvent(ia.elem,da);}};fa.prototype.clearAllVisibleElements=function(){'use strict';var ga=this.getAllTrackedElements();for(var ha in ga)if(ha in this.visibleElementInfo)this.handleEvent(ga[ha],ca);this.clearUntrackedVisibleElements();};fa.prototype.updateVisibleElements=function(){'use strict';this.clearAllVisibleElements();this.fireEvent();};fa.prototype.refreshAndFireEvent=function(){'use strict';this.refreshAllTrackedElements();this.fireEventCallback();};fa.prototype.onUnload=function(){'use strict';this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null;}if(this.extraCleanup)j.applyWithGuard(this.extraCleanup.bind(this));};fa.init=function(ga){'use strict';new fa(ga);};fa.EVENT=z;fa.CAUSE=aa;f.exports=fa;},null);
__d('ViewableImpressionEventHandler',['FullViewLogger','ViewableImpressionHeatmapLogger','ViewableImpressionTracker','VisibilityTracking'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=1;l=babelHelpers.inherits(o,k);m=l&&l.prototype;o.prototype.extraInit=function(){'use strict';this.impressionTrackers={};};o.prototype.getDataFromConfig=function(p){'use strict';m.getDataFromConfig.call(this,p);this.doHeatmapLogging=p.doHeatmapLogging;this.heatmapLoggingDurationMS=p.heatmapLoggingDurationMS;p.impressionURL=p.impressionURL!==undefined?p.impressionURL:'/xti.php';p.nonviewableEnabled=p.nonviewableEnabled!==undefined?p.nonviewableEnabled:false;};o.prototype.getImpressionTracking=function(p){'use strict';var q=this.getElementID(p),r=babelHelpers['extends']({},this.getConfigFromElement(p),this.config),s=this.impressionTrackers[q];if(!s){s=new j(q,p,r);this.impressionTrackers[q]=s;if(this.doHeatmapLogging)i.logFromViewableImpressionTracker(s,this.heatmapLoggingDurationMS);if(r.should_log_full_views)h.logFromViewableImpressionTracker(s);}return s;};o.prototype.handleEvent=function(p,event){'use strict';var q=this.getImpressionTracking(p);if(!q)return;if(event.name===k.EVENT.VISIBLE){q.onVisible();if(!this.visibleElementInfo[q.getID()])this.visibleElementInfo[q.getID()]={elem:p};}else if(event.name===k.EVENT.HIDDEN)if(event.cause===k.CAUSE.DEFAULT){q.onHidden();delete this.visibleElementInfo[q.getID()];}else if(event.cause===k.CAUSE.REMOVED){q.onRemoved();delete this.visibleElementInfo[q.getID()];delete this.impressionTrackers[q.getID()];}};o.prototype.getConfigFromElement=function(p){'use strict';return JSON.parse(p.getAttribute('data-xt-vimp'));};o.prototype.getElementID=function(p){'use strict';if(!p.getAttribute('id'))p.setAttribute('id','xt_uniq_'+n++);return p.getAttribute('id');};function o(){'use strict';l.apply(this,arguments);}f.exports=o;},null);
__d('MAddFriendNew',['MFriendingState','DOM','Stratcom'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='m-add-friend-flyout',l='m-cancel-request';function m(n,o,p){'use strict';this.unit=p;this.userid=o;j.listen(h.REQUEST_SENT,null,this.onFriendRequestSent.bind(this));j.listen(h.REQUEST_CANCELED,null,this.onFriendRequestCanceled.bind(this));}m.prototype.onFriendRequestCanceled=function(event){'use strict';var n=event.getData();if(!n||n.userid!==this.userid)return;var o=i.scry(this.unit,'*',k)[0],p=i.scry(this.unit,'*',l)[0];i.show(o);i.hide(p);};m.prototype.onFriendRequestSent=function(event){'use strict';var n=event.getData();if(!n||n.userid!==this.userid)return;var o=i.scry(this.unit,'*',k)[0],p=i.scry(this.unit,'*',l)[0];i.hide(o);i.show(p);};f.exports=m;},null);
__d('MFriendsActionBubble',['MLegacyDataStore','DOM','Stratcom','MURI'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='m-unfriend-request',m='/friendlists/edit',n='manage-friend-list',o='m-follow-request',p='m-unfollow-request';function q(r){'use strict';this.$MFriendsActionBubble1=r;this.$MFriendsActionBubble2=null;}q.prototype.enable=function(){'use strict';this.$MFriendsActionBubble2=[j.listen('click','are-friends-popup',this.$MFriendsActionBubble3.bind(this)),j.listen('click',n,this.$MFriendsActionBubble4.bind(this))];};q.prototype.$MFriendsActionBubble3=function(r){'use strict';var s=this.$MFriendsActionBubble1.getContentRoot(),t=r.getNode('popup-action-trigger'),u=i.scry(s,'*',l)[0];this.$MFriendsActionBubble5(t,u,r);var v=i.scry(s,'*',n)[0];this.$MFriendsActionBubble5(t,v,r);this.$MFriendsActionBubble6(t,s,r);};q.prototype.$MFriendsActionBubble6=function(r,s,t){'use strict';var u=h.get(r).is_following;if(u===null)return;var v=i.scry(s,'*',p)[0];this.$MFriendsActionBubble5(r,v,t);var w=i.scry(s,'*',o)[0];this.$MFriendsActionBubble5(r,w,t);if(u){i.show(v);i.hide(w);}else{i.show(w);i.hide(v);}};q.prototype.$MFriendsActionBubble5=function(r,s,t){'use strict';if(!r||!s)return;var u=h.get(r);u.flyoutEvent=t;h.set(s,u);};q.prototype.$MFriendsActionBubble7=function(r,event){'use strict';if(window.FW_ENABLED||!window.APP_ENABLED){event.kill();window.location.href=r.toString();}else j.invoke('go',null,{uri:r});};q.prototype.$MFriendsActionBubble4=function(event){'use strict';var r=h.get(event.getNode(n)),s=new k(m).setQueryData({subject_id:r.id,ref_param:r.manage_list_ref});this.$MFriendsActionBubble7(s,event);};q.prototype.disable=function(){'use strict';while(this.$MFriendsActionBubble2.length)this.$MFriendsActionBubble2.pop().remove();};f.exports=q;},null);
__d('MHome',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){h.listen('m:page:unload',null,function(j){h.invoke('m:homepage:unload');h.removeCurrentListener();});h.invoke('m:homepage:load');}f.exports={init:i};},null);
__d("Time",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getGMTOffset:function(i){var j=new Date(),k=j.getTimezoneOffset()/30,l=j.getTime()/1000,m=Math.round((i-l)/1800),n=Math.round(k+m)%48;if(n>24){n-=Math.ceil(n/48)*48;}else if(n<-28)n+=Math.ceil(n/-48)*48;return n*30;}};f.exports=h;},null);
__d('MViewableImpressionTracking',['ErrorUtils','Stratcom','ViewableImpressionEventHandler','MViewableImpressionConfig'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={init:function(){if(j.instance===undefined){j.instance=new j(k);i.listen(['m:ajax:complete','m:feed:new-stories-loaded','m:more_item_automatic:items_loaded','m:onload','m-timeline-section-loader:complete','m-timeline-section-loader:init','m:profile:teaser-list:expanded','m:viewport:update-complete'],null,h.guard(function(){if(j.instance===undefined){i.removeCurrentListener();return;}j.instance.refreshAndFireEvent();},'MViewableImpressionTracking'));i.listen('m:page:unload',null,h.guard(function(){delete j.instance;j.instance=undefined;},'MViewableImpressionTracking'));}}};f.exports=l;},null);
__d('MScrollAreaHelper',['MLegacyDataStore'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){k=k||10;var l;while(k>0&&j&&j.nodeType===1){l=h.get(j);if(l&&l.scrollArea)return l.scrollArea;j=j.parentNode;k--;}return null;}g.findScrollArea=i;},null);
__d('MFanPage',['setTimeoutAcrossTransitions','CSS','MLegacyDataStore','DOM','MURI','TrackingNodes','$','ge','MRequest','Stratcom','Vector','MScrollAreaHelper','MarauderLogger'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u='m-fan-action',v='m-fan-page-root',w='m-notfan-markup',x='m-isfan-markup';function y(){var ha={};function ia(la){var ma=j.get(la),na=k.find(la,'*',x);if(ma._touchstartListener){ma._touchstartListener.remove();delete ma._touchstartListener;}if(!na.offsetHeight)return;if(ma.scrollArea===undefined)ma.scrollArea=s.findScrollArea(la,11);if(ma.scrollArea){ma.scrollArea.scrollByPages(1);return;}}function ja(la){var ma=la.target;i.conditionClass(ma,'doBounce',false);var na=j.get(ma);delete na._hasBounceEndHandler;ia(ma);}function ka(event){var la=event.getNode(u),ma=la.querySelector('.async_fan_saving_hide'),na=q.hasSigil(ma,w),oa=ma;while(oa!==la&&!q.hasSigil(oa,v))oa=oa.parentNode;var pa=j.get(oa),qa=oa.nextSibling,ra=pa.pageID;if(ha[ra]){var sa=da(oa,false);if(qa)da(qa,false);if(sa)na=!na;ha[ra].abort();}else{da(oa,true);if(qa)da(qa,true);}if(pa.animate){clearTimeout(pa._bounceTimer);delete pa._bounceTimer;if(!pa._hasBounceEndHandler){pa._hasBounceEndHandler=true;oa.addEventListener('webkitAnimationEnd',ja,true);}if(ca(oa,'doBounce')){i.conditionClass(oa,'doBounce',false);pa._bounceTimer=h(i.conditionClass.bind(null,oa,'doBounce',true),0);}else i.conditionClass(oa,'doBounce',true);}else{clearTimeout(pa._delayTimer);delete pa._delayTimer;if(na){pa._delayTimer=h(ia.bind(null,oa),500);pa._touchstartListener=q.listen('touchstart',null,function(wa){clearTimeout(pa._delayTimer);delete pa._delayTimer;pa._touchstartListener.remove();delete pa._touchstartListener;});}}var ta=new l(pa.url);if(!na&&pa.undo_url)ta=new l(pa.undo_url);var ua={};ua[na?'fan':'unfan']=1;ua[m.TN_URL_PARAM]=m.encodeTN(na?m.types.FAN_PAGE:m.types.UNFAN_PAGE);if(fa!==null)ua[m.TN_URL_PARAM]+=fa;ta.addQueryData(ua);var va=new p(ta.toString());ha[ra]=va;va.listen('finally',function(){delete ha[ra];});va.listen('error',function(){da(oa,false);});va.send();if(pa.logging_module)t.log('fan_page_clicked',pa.logging_module,{like:na,pos:pa.scroller_position});if(na)q.invoke(pa.likeAction);event.kill();}q.listen('click',u,ka);q.listen('m:page:unload',null,function(){for(var la in ha)ha[la].abort();ha={};});}function z(ha){var ia=o(ha);if(!ia)return;var ja=ia.parentNode,ka=r.getDim(ja).y,la=k.find(ia,'*',w),ma=k.find(ia,'*',x),na=r.getDim(la).y,oa=r.getDim(ma).y;if(oa>na)ka+=oa-na;ja.style.height=ka+'px';}function aa(ha){ha.like=!!ha.like;var ia=k.scry(n('root'),'*',v);ia.forEach(function(ja){var ka=j.get(ja);if(ka.pageID===ha.pageID){da(ja,false);var la=ja.nextSibling,ma=k.find(ja,'*',w),na=k.find(ja,'*',x);ba(na,ha.like);ba(ma,!ha.like);if(la){var oa=k.find(la,'*',w),pa=k.find(la,'*',x);da(la,false);ba(oa,!ha.like);ba(pa,ha.like);}}});}function ba(ha,ia){i.conditionClass(ha,'async_fan_saving_show',!ia);i.conditionClass(ha,'async_fan_saving_hide',ia);}function ca(ha,ia){return (' '+ha.className+' ').indexOf(' '+ia+' ')>-1;}function da(ha,ia){var ja=ia?'async_fan_saving':'async_fan',ka=ia?'async_fan':'async_fan_saving';while(ha&&!ca(ha,ka))ha=ha.parentNode;if(ha){ha.className=ha.className.replace(ka,ja);return true;}return false;}var ea,fa,ga=function(ha,ia){if(ha)if(ha.action==='adjust'){z(ha.id);}else if(ha.action==='update')aa(ha.data);if(ea)return;ea=true;fa=ia;y();};g.main=ga;},null);
__d('XdStore',['setTimeoutAcrossTransitions','XD'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_batch:[],setItem:function(k){var l=j;l._batch.push(k);h(l._runBatch,0);},getItem:function(k,l){j._getXdStoreWindow(function(m){var n=i.guid();i.register(n,function(o){l(o.data);});m.postMessage(JSON.stringify({method:'getItem',params:[k],returnCb:n}),'*');});},_runBatch:function(){var k=j;k._getXdStoreWindow(function(l){if(k._batch.length===0)return;l.postMessage(JSON.stringify({method:'setItems',params:[k._batch]}),'*');k._batch=[];});},_getXdStoreWindow:function(k){var l=document.getElementById('xd_local_storage_server');if(!l)return;if(l.__loaded){k(frames.xd_local_storage_server);}else if(l.addEventListener)l.addEventListener('load',function(){k(frames.xd_local_storage_server);},false,true);}};f.exports=j;},null);
__d('MCanvasLogger',['setIntervalAcrossTransitions','AsyncSignal','MCache','MLogger','XdStore'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=function(n){var o=false;function p(q){return Date.now()-q>n.event_timeout*1000;}h(function(){if(o)return;l.getItem('_log',function(q){q=q||[];var r=j.getItem('appEventList')||[],s=r.concat(q);j.setItem('appEventList',s);if(!s.length||s.length<n.min_batch_num_events&&!p(s[0].time))return;var t=Math.min(n.max_batch_num_events,s.length),u=s.slice(0,t),v=new i(n.uri,{app_log:JSON.stringify(u),time:Date.now()});v.listen('load',function(w){var x=w.all_events;j.setItem('appEventList',x.slice(w.batch.length,x.length));o=false;}.bind(this,{all_events:s,batch:u}));v.listen('fail',function(){o=false;});o=true;v.send();if(s.length>n.overload_limit_num_events){j.removeItem('appEventList');k.warn('appEventList dropped because it became too large.');}});},n.log_scan_interval);};g.main=m;},null);
__d('TimezoneAutoset',['MRequest','Time'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k=function(l){if(j)return;j=true;if(!l.time||l.offset===undefined)return;var m=-i.getGMTOffset(l.time);if(l.forceUpdate||m!=l.offset)new h(l.uri).setMethod('GET').setData({offset:m,is_forced:l.forceUpdate}).send();};g.main=k;},null);
__d('MLayerHideOnScroll',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=5;function j(k){'use strict';this.$MLayerHideOnScroll1=null;this.$MLayerHideOnScroll2=null;this.$MLayerHideOnScroll3=k;this.$MLayerHideOnScroll4=null;}j.prototype.enable=function(){'use strict';this.$MLayerHideOnScroll1=[this.$MLayerHideOnScroll3.addListener('show',this.$MLayerHideOnScroll5.bind(this)),this.$MLayerHideOnScroll3.addListener('hide',this.$MLayerHideOnScroll6.bind(this))];if(this.$MLayerHideOnScroll3.isShown())this.$MLayerHideOnScroll5();};j.prototype.disable=function(){'use strict';this.$MLayerHideOnScroll6();while(this.$MLayerHideOnScroll1.length)this.$MLayerHideOnScroll1.pop().remove();this.$MLayerHideOnScroll1=null;};j.prototype.$MLayerHideOnScroll6=function(){'use strict';this.$MLayerHideOnScroll2&&this.$MLayerHideOnScroll2.remove();};j.prototype.$MLayerHideOnScroll5=function(){'use strict';var k=window;this.$MLayerHideOnScroll4=k.scrollY;this.$MLayerHideOnScroll2=h.listen('scroll',null,function(){var l=k.scrollY;if(Math.abs(this.$MLayerHideOnScroll4-l)>=i)this.$MLayerHideOnScroll3.hide();}.bind(this));};f.exports=j;},null);
__d('InitMTextMetrics',['setTimeoutAcrossTransitions','setIntervalAcrossTransitions','DOM','MLegacyDataStore','MTextMetrics','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p='expandable-textarea',q=function(r){if(!o)t();if(n)return;n=true;function s(w){var x=new l(w),y={metrics:x,resizedInput:null,originalHeight:w.offsetHeight};k.set(w,y);}function t(){o=i(function(){var w=j.scry(document,'textarea',p);w.forEach(function(x){u(x);});},300);}function u(w,x){var y=k.get(w);if(!y.metrics)s(w);if(w.value==y.resizedInput)return;y.resizedInput=w.value;var z=w.style.height;w.style.height=Math.max(0+y.metrics.measure().height,y.originalHeight)+'px';if(x&&z!=w.style.height){var aa=w.value.substr(0,w.selectionStart).split("\n").length,ba=w.value.split("\n").length;if(aa===ba)h(function(){w.scrollIntoView(true);},100);}}function v(event){var w=event.getNode(p);u(w,true);}m.listen(['focus','blur','keypress','keydown','keyup','input'],p,v);m.listen('m:page:unload',null,function(){var w=j.scry(document,'textarea',p);w.forEach(function(x){var y=k.get(x);if(y.metrics){y.metrics.destroy();y.metrics=null;y.styleHeight=null;y.resizedInput=null;}});clearInterval(o);o=null;});};g.main=q;},null);