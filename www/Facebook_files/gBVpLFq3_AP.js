/*!CK:3263187020!*//*1460387522,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["XUoP4"]); }

__d("FacebookAppIDs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FACEBOOK_FOR_EMERGING_MARKET_ANDROID:275254692598279,MOST_RECENT_FEED:608920319153834,SAVED_FOR_LATER:586254444758776,TRANSLATIONS:4329892722};},null);
__d("IrisProtocolMessageLifetime",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:30000,TTL_1MINUTE:60000,TTL_3MINUTES:180000,TTL_5MINUTES:300000,TTL_10MINUTES:600000,TTL_15MINUTES:900000,TTL_30MINUTES:1800000,TTL_1HOUR:3600000,TTL_2HOURS:7200000,TTL_4HOURS:14400000,TTL_8HOURS:28800000,TTL_12HOURS:43200000,TTL_24HOURS:86400000};},null);
__d("MercuryActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOG_MESSAGE:"ma-type:log-message",USER_GENERATED_MESSAGE:"ma-type:user-generated-message",ADD_GROUP_ADMINS:"ma-type:add_group_admins",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",CHANGE_READ_STATUS:"ma-type:change_read_status",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",SEND_MESSAGE:"ma-type:send-message",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_THREAD:"ma-type:delete-thread",UPDATE_SNIPPET:"ma-type:update-snippet",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FOLDER:"ma-type:change-folder",ADD_PARTICIPANTS:"ma-type:add-participants",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",UNPIN_THREAD:"ma-type:unpin-thread",CHANGE_FLAG:"ma-type:change_flag",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",UPDATE_BLOCKER_STATUS:"ma-type:update-blocker-status",UPDATE_BLOCKEE_STATUS:"ma-type:update-blockee-status",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",REPLACE_MESSAGE:"ma-type:replace-message",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UNWRAP_MESSAGE:"ma-type:unwrap-message"};},null);
__d("MercuryAttachmentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift",THIRDPARTYSTICKER:"third_party_sticker"};},null);
__d("MercuryAudioType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"};},null);
__d("MercuryGlobalActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MARK_ALL_READ:"mga-type:mark-all-read"};},null);
__d("MercuryTimePassed",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4};},null);
__d("MessagingEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",UPDATE_BLOCKER_STATUS:"update_blocker_status",UPDATE_BLOCKEE_STATUS:"update_blockee_status",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"};},null);
__d("MessagingTag",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace"};},null);
__d("MItemConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SHORT_HEIGHT:43,TALL_HEIGHT:58};},null);
__d("MPageletTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHROME:"chrome",CONTENT:"content"};},null);
__d("P2PPaymentRequestStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7};},null);
__d("P2PTransferStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18};},null);
__d("StoryAttachmentStyle",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",TRAVEL_SLIDESHOW_LIFE_EVENT:"travel_slideshow_life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",DONATIONS_CAMPAIGN:"donations_campaign",DONATE_PROMPT:"donate_prompt",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",JOB_OFFER:"job_offer",GROUP_ADD_MEMBERS:"group_add_memebers",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",SAHELI_IMAGE:"saheli_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",GOODWILL_THROWBACK_ANNIVERSARY_COLLAGE_CARD:"goodwill_throwback_anniversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",VOTER_REGISTRATION_SHARE:"voter_registration_share",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",TRANSACTION_INVOICE:"transaction_invoice",GROUP:"group",COMMENT_PLACE_INFO:"comment_place_info",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD_IPB:"goodwill_throwback_friendversary_polaroids_card_ipb",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD_IPB:"goodwill_throwback_friendversary_collage_card_ipb",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",MESSAGE_LIVE_LOCATION:"message_live_location"};},null);
__d('MercuryAttachmentSnippetType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null});f.exports=i;},null);
__d('MercuryGiftSnippetRenderer',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={renderText:function(j,k){return j?h._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0432\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0443."):h._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0432\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0443.",[h.param('name',k)]);}};f.exports=i;},null);
__d('P2PSnippetStringUtils',['P2PPaymentRequestStatus','P2PTransferStatus','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getRequestCanceledSnippet:function(l,m,n,o,p){if(l){return j._("\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 {payment request amount} \u043e\u0442 {receiver's name} \u043e\u0442\u043c\u0435\u043d\u0435\u043d.",[j.param('payment request amount',p),j.param('receiver\'s name',o)]);}else if(m){return j._("\u0417\u0430\u043f\u0440\u043e\u0441 {requester's name} \u043d\u0430 {payment request amount} \u043e\u0442\u043c\u0435\u043d\u0435\u043d.",[j.param('requester\'s name',n),j.param('payment request amount',p)]);}else return j._("\u0417\u0430\u043f\u0440\u043e\u0441 {requester's name} \u043d\u0430 {payment request amount} \u043e\u0442 {receiver's name} \u043e\u0442\u043c\u0435\u043d\u0435\u043d.",[j.param('requester\'s name',n),j.param('payment request amount',p),j.param('receiver\'s name',o)]);},getRequestDeclinedSnippet:function(l,m,n,o,p){if(l){return j._("{receiver's name} \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u043b(-\u0430) \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 {payment request amount}.",[j.param('receiver\'s name',o),j.param('payment request amount',p)]);}else if(m){return j._("\u0412\u044b \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 {requester's name} \u043d\u0430 {payment request amount}.",[j.param('requester\'s name',n),j.param('payment request amount',p)]);}else return j._("{receiver's name} \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u043b(-\u0430) \u0437\u0430\u043f\u0440\u043e\u0441 {sender's name} \u043d\u0430 {payment request amount}.",[j.param('receiver\'s name',o),j.param('sender\'s name',n),j.param('payment request amount',p)]);},getRequestSentSnippet:function(l,m,n,o,p){if(l){return j._("\u0412\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u043b\u0438 {amount} \u043e\u0442 {requestee name}.",[j.param('amount',p),j.param('requestee name',o)]);}else if(m){return j._("{requester name} \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u043b(-\u0430) {amount} \u043e\u0442 \u0432\u0430\u0441.",[j.param('requester name',n),j.param('amount',p)]);}else return j._("{name} \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u043b(-\u0430) {amount} \u043e\u0442 {requestee name}.",[j.param('name',n),j.param('amount',p),j.param('requestee name',o)]);},getRequestSnippetByStatus:function(l,m,n,o,p,q){var r=l||h.INITED,s=[m,n,o,p,q];switch(r){case h.DECLINED:return this.getRequestDeclinedSnippet.apply(this,s);case h.TRANSFER_FAILED:case h.CANCELED:return this.getRequestCanceledSnippet.apply(this,s);}return this.getRequestSentSnippet.apply(this,s);},getTransferCanceledSnippet:function(l,m,n,o,p){if(l){return j._("\u0412\u0430\u0448 \u043f\u043b\u0430\u0442\u0435\u0436 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 {amount} \u0434\u043b\u044f {receiver_name} \u0431\u044b\u043b \u043e\u0442\u043c\u0435\u043d\u0435\u043d.",[j.param('amount',p),j.param('receiver_name',o)]);}else if(m){return j._("\u041f\u043b\u0430\u0442\u0435\u0436 {sender name} \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 {amount} \u0431\u044b\u043b \u043e\u0442\u043c\u0435\u043d\u0435\u043d.",[j.param('sender name',n),j.param('amount',p)]);}else return j._("\u041f\u043b\u0430\u0442\u0435\u0436 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 {amount} \u043e\u0442 {sender_name} \u0434\u043b\u044f {receiver_name} \u0431\u044b\u043b \u043e\u0442\u043c\u0435\u043d\u0435\u043d.",[j.param('sender_name',n),j.param('amount',p),j.param('receiver_name',o)]);},getTransferDeclinedSnippet:function(l,m,n,o,p){if(l){return j._("{receiver_name} \u043d\u0435 \u043f\u0440\u0438\u043d\u044f\u043b(-\u0430) \u0432\u0430\u0448 \u043f\u043b\u0430\u0442\u0435\u0436 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 {amount}.",[j.param('receiver_name',o),j.param('amount',p)]);}else if(m){return j._("\u0412\u044b \u043d\u0435 \u043f\u0440\u0438\u043d\u044f\u043b\u0438 \u043f\u043b\u0430\u0442\u0435\u0436 {sender name} \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 {amount}.",[j.param('sender name',n),j.param('amount',p)]);}else return j._("{receiver_name} \u043d\u0435 \u043f\u0440\u0438\u043d\u044f\u043b(-\u0430) \u043f\u043b\u0430\u0442\u0435\u0436 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 {amount} \u043e\u0442 {sender_name}.",[j.param('receiver_name',o),j.param('sender_name',n),j.param('amount',p)]);},getTransferSentSnippet:function(l,m,n,o,p){if(l){return j._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 {receiver name} {amount}.",[j.param('receiver name',o),j.param('amount',p)]);}else if(m){return j._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0432\u0430\u043c {amount}.",[j.param('name',n),j.param('amount',p)]);}else return j._("{sender name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) {receiver name} {amount}.",[j.param('sender name',n),j.param('receiver name',o),j.param('amount',p)]);},getTransferSnippetByStatus:function(l,m,n,o,p,q){var r=[m,n,o,p,q],s=l||i.PENDING_SENDER_INITED;switch(s){case i.CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,r);case i.CANCELED_SENDER_RISK:case i.CANCELED_RECIPIENT_RISK:case i.CANCELED_SYSTEM_FAIL:case i.CANCELED_EXPIRED:case i.CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,r);}return this.getTransferSentSnippet.apply(this,r);}};f.exports=k;},null);
__d('MercuryAttachmentSnippetRenderer',['CurrentUser','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryAudioType','MercuryGiftSnippetRenderer','P2PSnippetStringUtils','StoryAttachmentStyle','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={getAttachmentSnippetType:function(q){if(this._hasOnlyPhotos(q))return i.PHOTO;if(this._hasOnlyAnimatedImages(q))return i.GIF;if(this._hasOnlyVideo(q))return i.VIDEO;if(this._hasAudioClip(q))return i.AUDIO_CLIP;if(this._hasSticker(q))return i.STICKER;if(this._hasThirdPartySticker(q))return i.THIRDPARTYSTICKER;if(this._hasShare(q))return i.SHARE;if(this._hasGift(q))return i.GIFT;if(this._hasError(q))return i.ERROR;if(this._hasFile(q))return i.FILE;return i.MIXED;},renderAttachmentSnippetText:function(q,r,s,t){switch(q){case i.PHOTO:return this._renderPhotoAttachmentSnippetText(r,s,this._getPhotoAttachments(t));case i.GIF:return this._renderAnimatedImagesAttachmentSnippetText(r,s,this._getAnimatedImageAttachments(t));case i.VIDEO:return r?o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0432\u0438\u0434\u0435\u043e."):o._("{sender name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0432\u0438\u0434\u0435\u043e.",[o.param('sender name',s)]);case i.AUDIO_CLIP:return r?o._("\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e."):o._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435.",[o.param('name',s)]);case i.STICKER:case i.THIRDPARTYSTICKER:return r?o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043d\u0430\u043a\u043b\u0435\u0439\u043a\u0443."):o._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u043d\u0430\u043a\u043b\u0435\u0439\u043a\u0443.",[o.param('name',s)]);case i.SHARE:if(t&&this._hasP2PPayment(t))return this._renderP2PPaymentSnippetText(t[0]);if(t&&this._hasP2PPaymentRequest(t))return this._renderP2PPaymentRequestSnippetText(t[0]);if(t&&this._hasLocation(t))return r?o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0433\u0435\u043e\u0434\u0430\u043d\u043d\u044b\u0435."):o._("{sender name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0433\u0435\u043e\u0434\u0430\u043d\u043d\u044b\u0435.",[o.param('sender name',s)]);return r?o._("\u0412\u044b \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0438\u0441\u044c \u0441\u0441\u044b\u043b\u043a\u043e\u0439."):o._("{sender name} \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f(-\u0430\u0441\u044c) \u0441\u0441\u044b\u043b\u043a\u043e\u0439.",[o.param('sender name',s)]);case i.GIFT:return l.renderText(r,s);case i.FILE:return r?o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435."):o._("{sender name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435.",[o.param('sender name',s)]);case i.ERROR:return r?o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435."):o._("{sender name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435.",[o.param('sender name',s)]);default:return '';}},_hasOnlyPhotos:function(q){return this._getPhotoAttachments(q).length===q.length;},_hasThirdPartySticker:function(q){return (q.length===1&&q[0].attach_type===j.THIRDPARTYSTICKER);},_hasOnlyAnimatedImages:function(q){return this._getAnimatedImageAttachments(q).length===q.length;},_hasOnlyVideo:function(q){return (q.length===1&&q[0].attach_type===j.VIDEO);},_hasAudioClip:function(q){var r=q[0].metadata&&q[0].metadata.type;return (q.length===1&&(r===k.AudioClip||r===k.VoiceMessageWithTranscript));},_hasSticker:function(q){return (q.length===1&&q[0].attach_type===j.STICKER);},_hasLocation:function(q){return this._hasSingleShareAttachmentOfStyle(q,n.MESSAGE_LOCATION);},_hasP2PPayment:function(q){return this._hasSingleShareAttachmentOfStyle(q,n.ORION);},_hasP2PPaymentRequest:function(q){return this._hasSingleShareAttachmentOfStyle(q,n.ORION_REQUEST);},_hasSingleShareAttachmentOfStyle:function(q,r){return (q.length===1&&q[0].attach_type===j.SHARE&&q[0].share.style_list.indexOf(r)>=0);},_hasShare:function(q){return (q.length===1&&q[0].attach_type===j.SHARE);},_hasError:function(q){return (q.length===1&&q[0].attach_type===j.ERROR);},_hasGift:function(q){return (q.length===1&&q[0].attach_type===j.GIFT);},_hasFile:function(q){return (q.length===1&&q[0].attach_type===j.FILE);},_getPhotoAttachments:function(q){if(!q)return [];return q.filter(function(r){return r.attach_type===j.PHOTO;});},_getAnimatedImageAttachments:function(q){if(!q)return [];return q.filter(function(r){return r.attach_type===j.ANIMATED_IMAGE;});},_renderPhotoAttachmentSnippetText:function(q,r,s){if(s.length===1){if(q){return o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0444\u043e\u0442\u043e.");}else return o._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0444\u043e\u0442\u043e.",[o.param('name',r)]);}else if(q){return o._({"*":"\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 {num_photos} \u0444\u043e\u0442\u043e."},[o.param('num_photos',s.length,[0])]);}else return o._({"*":"{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) {num_photos} \u0444\u043e\u0442\u043e."},[o.param('name',r),o.param('num_photos',s.length,[0])]);},_renderAnimatedImagesAttachmentSnippetText:function(q,r,s){if(s.length===1){if(q){return o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0444\u0430\u0439\u043b GIF.");}else return o._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0444\u0430\u0439\u043b GIF.",[o.param('name',r)]);}else if(q){return o._("\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 {num_animated_images} \u0444\u0430\u0439\u043b\u043e\u0432 GIF.",[o.param('num_animated_images',s.length)]);}else return o._("{name} \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) {num_animated_images} \u0444\u0430\u0439\u043b\u043e\u0432 GIF.",[o.param('name',r),o.param('num_animated_images',s.length)]);},_renderP2PPaymentSnippetText:function(q){var r=q.share.target;return this.renderP2PPaymentSnippetText(h.getID()===r.sender.id,r.sender.name,r.amountWithSymbol,r.status,h.getID()===r.receiver.id,r.receiver.name);},_renderP2PPaymentRequestSnippetText:function(q){var r=q.share.target;return this.renderP2PPaymentRequestSnippetText(h.getID()===r.requester.id,r.requester.name,r.amountWithSymbol,r.currentStatus,h.getID()===r.requestee.id,r.requestee.name);},renderP2PPaymentSnippetText:function(q,r,s,t,u,v){return m.getTransferSnippetByStatus(t,q,u||false,r||'',v||'',s);},renderP2PPaymentRequestSnippetText:function(q,r,s,t,u,v){return m.getRequestSnippetByStatus(t,q,u||false,r||'',v||'',s);}};f.exports=p;},null);
__d('DateStrings',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j,k,l,m,n,o,p,q={getWeekdayName:function(r){if(!n)n=[h._("\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"),h._("\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"),h._("\u0412\u0442\u043e\u0440\u043d\u0438\u043a"),h._("\u0421\u0440\u0435\u0434\u0430"),h._("\u0427\u0435\u0442\u0432\u0435\u0440\u0433"),h._("\u041f\u044f\u0442\u043d\u0438\u0446\u0430"),h._("\u0421\u0443\u0431\u0431\u043e\u0442\u0430")];return n[r];},getUppercaseWeekdayName:function(r){if(!p)p=[h._("\u0412\u041e\u0421\u041a\u0420\u0415\u0421\u0415\u041d\u042c\u0415"),h._("\u041f\u041e\u041d\u0415\u0414\u0415\u041b\u042c\u041d\u0418\u041a"),h._("\u0412\u0422\u041e\u0420\u041d\u0418\u041a"),h._("\u0421\u0420\u0415\u0414\u0410"),h._("\u0427\u0415\u0422\u0412\u0415\u0420\u0413"),h._("\u041f\u042f\u0422\u041d\u0418\u0426\u0410"),h._("\u0421\u0423\u0411\u0411\u041e\u0422\u0410")];return p[r];},getWeekdayNameShort:function(r){if(!o)o=[h._("\u0412\u0441"),h._("\u041f\u043d"),h._("\u0412\u0442"),h._("\u0421\u0440"),h._("\u0427\u0442"),h._("\u041f\u0442"),h._("\u0421\u0431")];return o[r];},getMonthName:function(r){if(!i)i=[h._("\u044f\u043d\u0432\u0430\u0440\u044f"),h._("\u0444\u0435\u0432\u0440\u0430\u043b\u044f"),h._("\u043c\u0430\u0440\u0442\u0430"),h._("\u0430\u043f\u0440\u0435\u043b\u044f"),h._("\u043c\u0430\u044f"),h._("\u0438\u044e\u043d\u044f"),h._("\u0438\u044e\u043b\u044f"),h._("\u0430\u0432\u0433\u0443\u0441\u0442\u0430"),h._("\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f"),h._("\u043e\u043a\u0442\u044f\u0431\u0440\u044f"),h._("\u043d\u043e\u044f\u0431\u0440\u044f"),h._("\u0434\u0435\u043a\u0430\u0431\u0440\u044f")];return i[r-1];},getUppercaseMonthName:function(r){if(!l)l=[h._("\u042f\u041d\u0412\u0410\u0420\u042c"),h._("\u0424\u0415\u0412\u0420\u0410\u041b\u042c"),h._("\u041c\u0410\u0420\u0422"),h._("\u0410\u041f\u0420\u0415\u041b\u042c"),h._("\u041c\u0410\u0419"),h._("\u0418\u042e\u041d\u042c"),h._("\u0418\u042e\u041b\u042c"),h._("\u0410\u0412\u0413\u0423\u0421\u0422"),h._("\u0421\u0415\u041d\u0422\u042f\u0411\u0420\u042c"),h._("\u041e\u041a\u0422\u042f\u0411\u0420\u042c"),h._("\u041d\u041e\u042f\u0411\u0420\u042c"),h._("\u0414\u0415\u041a\u0410\u0411\u0420\u042c")];return l[r-1];},getMonthNameShort:function(r){if(!j)j=[h._("\u042f\u043d\u0432"),h._("\u0424\u0435\u0432"),h._("\u041c\u0430\u0440\u0442"),h._("\u0410\u043f\u0440"),h._("\u041c\u0430\u0439"),h._("\u0418\u044e\u043d\u044c"),h._("\u0418\u044e\u043b\u044c"),h._("\u0410\u0432\u0433"),h._("\u0421\u0435\u043d"),h._("\u041e\u043a\u0442"),h._("\u041d\u043e\u044f"),h._("\u0414\u0435\u043a")];return j[r-1];},getUppercaseMonthNameShort:function(r){if(!k)k=[h._("\u042f\u041d\u0412"),h._("\u0424\u0415\u0412"),h._("\u041c\u0410\u0420"),h._("\u0410\u041f\u0420"),h._("\u041c\u0410\u0419"),h._("\u0418\u042e\u041d"),h._("\u0418\u042e\u041b"),h._("\u0410\u0412\u0413"),h._("\u0421\u0415\u041d"),h._("\u041e\u041a\u0422"),h._("\u041d\u041e\u042f"),h._("\u0414\u0415\u041a")];return k[r-1];},getOrdinalSuffix:function(r){if(!m)m=['',h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[r];},getDayLabel:function(){return h._("\u0414\u0435\u043d\u044c:");},getMonthLabel:function(){return h._("\u041c\u0435\u0441\u044f\u0446:");},getYearLabel:function(){return h._("\u0413\u043e\u0434:");},getDayPlaceholder:function(){return h._("\u0434\u0434");},getMonthPlaceholder:function(){return h._("\u043c\u043c");},getYearPlaceholder:function(){return h._("\u0433\u0433\u0433\u0433");},get12HourClockSuffix:function(r){if(r<12)return h._("\u0443\u0442\u0440\u0430");return h._("\u0432\u0435\u0447\u0435\u0440\u0430");},getUppercase12HourClockSuffix:function(r){if(r<12)return h._("AM");return h._("PM");}};f.exports=q;},null);
__d('padNumber',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.toString();if(k.length>=j)return k;return Array(j-k.length+1).join('0')+k;}f.exports=h;},null);
__d('formatDate',['DateStrings','DateFormatConfig','invariant','padNumber'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(o,p,q){q=q||{};if(!p||!o)return '';if(typeof o==='string')o=parseInt(o,10);if(typeof o==='number')o=new Date(o*1000);!(o instanceof Date)?j(0):void 0;!!isNaN(o.getTime())?j(0):void 0;if(typeof p!=='string'){var r=m();for(var s in r){var t=r[s];if(t.start<=o.getTime()&&p[t.name]){p=p[t.name];break;}}}var u;if(q.skipPatternLocalization||!q.formatInternal&&n()||p.length===1){u=p;}else{!i.formats[p]?j(0):void 0;u=i.formats[p];}var v=q.utc?'getUTC':'get',w=o[v+'Date'](),x=o[v+'Day'](),y=o[v+'Month'](),z=o[v+'FullYear'](),aa=o[v+'Hours'](),ba=o[v+'Minutes'](),ca=o[v+'Seconds'](),da=o[v+'Milliseconds'](),ea='';for(var fa=0;fa<u.length;fa++){var ga=u.charAt(fa);switch(ga){case '\\':fa++;ea+=u.charAt(fa);break;case 'd':ea+=k(w,2);break;case 'j':ea+=w;break;case 'S':ea+=h.getOrdinalSuffix(w);break;case 'D':ea+=h.getWeekdayNameShort(x);break;case 'l':ea+=h.getWeekdayName(x);break;case 'F':case 'f':ea+=h.getMonthName(y+1);break;case 'M':ea+=h.getMonthNameShort(y+1);break;case 'm':ea+=k(y+1,2);break;case 'n':ea+=y+1;break;case 'Y':ea+=z;break;case 'y':ea+=(''+z).slice(2);break;case 'a':ea+=h.get12HourClockSuffix(aa);break;case 'A':ea+=h.getUppercase12HourClockSuffix(aa);break;case 'g':ea+=aa===0||aa===12?12:aa%12;break;case 'G':ea+=aa;break;case 'h':if(aa===0||aa===12){ea+=12;}else ea+=k(aa%12,2);break;case 'H':ea+=k(aa,2);break;case 'i':ea+=k(ba,2);break;case 's':ea+=k(ca,2);break;case 'X':ea+=k(da,3);break;default:ea+=ga;}}return ea;}function m(){var o=new Date(),p=o.getTime(),q=o.getFullYear(),r=o.getDate()-(o.getDay()-i.weekStart+6)%7,s=new Date(q,o.getMonth()+1,0).getDate(),t=new Date(q,1,29).getMonth()===1?366:365,u=1000*60*60*24;return [{name:'today',start:o.setHours(0,0,0,0)},{name:'withinDay',start:p-u},{name:'thisWeek',start:new Date(o.getTime()).setDate(r)},{name:'withinWeek',start:p-u*7},{name:'thisMonth',start:o.setDate(1)},{name:'withinMonth',start:p-u*s},{name:'thisYear',start:o.setMonth(0)},{name:'withinYear',start:p-u*t},{name:'older',start:-Infinity}];}l.periodNames=['today','thisWeek','thisMonth','thisYear','withinDay','withinWeek','withinMonth','withinYear','older'];function n(){if(typeof window==='undefined'||!window||!window.location||!window.location.pathname)return false;var o=window.location.pathname,p='/intern';return o.substr(0,p.length)===p;}f.exports=l;},null);
__d('MMessagePayload',['ChannelEventType','CurrentUser','MercuryAttachmentSnippetRenderer','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=25,n=1000,o='g:ia';function p(q){this.$MMessagePayload1=q;}p.prototype.isPageMessage=function(){return this.$MMessagePayload1.type===h.PAGES_MESSAGE;};p.prototype.getThreadFBID=function(){return (this.$MMessagePayload1.thread_fbid&&this.$MMessagePayload1.thread_fbid.toString());};p.prototype.getHref=function(){return this.$MMessagePayload1.href;};p.prototype.getAuthorFBID=function(){return this.$MMessagePayload1.sender_fbid.toString();};p.prototype.getAuthorName=function(){return this.$MMessagePayload1.sender_name;};p.prototype.getThreadName=function(){return this.$MMessagePayload1.thread_name;};p.prototype.getThreadUnreadCount=function(){return this.$MMessagePayload1.thread_unread_count;};p.prototype.getSnippet=function(){var q=this.$MMessagePayload1.body;if(q)if(q.length>m){return k._("{shortened body}{dot dot dot (for truncation)}",[k.param('shortened body',q.substring(0,m)),k.param('dot dot dot (for truncation)','...')]);}else return q;var r=j.getAttachmentSnippetType(this.$MMessagePayload1.attachments);return j.renderAttachmentSnippetText(r,this.getAuthorFBID()===i.getID(),this.getAuthorName(),this.$MMessagePayload1.attachments);};p.prototype.getMessage=function(){return this.$MMessagePayload1.body;};p.prototype.getTime=function(){return l(this.$MMessagePayload1.timestamp/n,o);};p.prototype.getTimestamp=function(){return this.$MMessagePayload1.timestamp.toString();};p.prototype.getUUID=function(){return this.$MMessagePayload1.message_id;};p.prototype.getFolder=function(){return this.$MMessagePayload1.folder;};p.prototype.getMessageSource=function(){return this.$MMessagePayload1.source;};p.prototype.getParticipantIDs=function(){var q=this.$MMessagePayload1.participant_ids||[];return q.map(function(r){return r.toString();});};p.prototype.hasThreadImage=function(){return this.$MMessagePayload1.has_thread_image;};p.prototype.getAttachmentCount=function(){return this.$MMessagePayload1.attachments.length;};p.prototype.getAttachments=function(){return this.$MMessagePayload1.attachments;};p.prototype.isCanonicalThread=function(){return !!this.$MMessagePayload1.is_canonical;};p.prototype.isUnread=function(){return this.$MMessagePayload1.is_unread;};p.prototype.getOtherUserFBID=function(){var q=this.$MMessagePayload1.participant_ids;if(!this.isCanonicalThread()){return null;}else if(q.length===1){return q[0].toString();}else{if(q[0].toString()===i.getID()){if(this.isPageMessage())return q[0].toString();return q[1].toString();}return q[0].toString();}};p.prototype.getThreadNameWithUnreadCount=function(){if(!this.getThreadUnreadCount())return this.getThreadName();return k._("{thread name} ({unread count})",[k.param('thread name',this.getThreadName()),k.param('unread count',this.getThreadUnreadCount())]);};f.exports=p;},null);
__d('CallbackManagerController',['ErrorUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$CallbackManagerController1=[];this.$CallbackManagerController2=[undefined];this.$CallbackManagerController3=j;}i.prototype.executeOrEnqueue=function(j,k,l){'use strict';l=l||{};var m=this.$CallbackManagerController4(k,j,l);if(m)return 0;this.$CallbackManagerController2.push({fn:k,request:j,options:l});var n=this.$CallbackManagerController2.length-1;this.$CallbackManagerController1.push(n);return n;};i.prototype.unsubscribe=function(j){'use strict';delete this.$CallbackManagerController2[j];};i.prototype.reset=function(){'use strict';this.$CallbackManagerController2=[];};i.prototype.getRequest=function(j){'use strict';return this.$CallbackManagerController2[j];};i.prototype.runPossibleCallbacks=function(){'use strict';var j=this.$CallbackManagerController1;this.$CallbackManagerController1=[];var k=[];j.forEach(function(l){var m=this.$CallbackManagerController2[l];if(!m)return;if(this.$CallbackManagerController3(m.request,m.options)){k.push(l);}else this.$CallbackManagerController1.push(l);}.bind(this));k.forEach(function(l){var m=this.$CallbackManagerController2[l];delete this.$CallbackManagerController2[l];this.$CallbackManagerController4(m.fn,m.request,m.options);}.bind(this));};i.prototype.$CallbackManagerController4=function(j,k,l){'use strict';var m=this.$CallbackManagerController3(k,l);if(m){var n={ids:k};h.applyWithGuard(j,n,m);}return !!m;};f.exports=i;},null);
__d('KeyedCallbackManager',['CallbackManagerController','ErrorUtils'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){'use strict';this.$KeyedCallbackManager1={};this.$KeyedCallbackManager2=new h(this.$KeyedCallbackManager3.bind(this));}j.prototype.executeOrEnqueue=function(k,l){'use strict';if(!(k instanceof Array)){var m=k,n=l;k=[k];l=function(o){n(o[m]);};}k=k.filter(function(o){var p=o!==null&&o!==undefined;if(!p)i.applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(o)+' is invalid');});return p;});return this.$KeyedCallbackManager2.executeOrEnqueue(k,l);};j.prototype.unsubscribe=function(k){'use strict';this.$KeyedCallbackManager2.unsubscribe(k);};j.prototype.reset=function(){'use strict';this.$KeyedCallbackManager2.reset();this.$KeyedCallbackManager1={};};j.prototype.getUnavailableResources=function(k){'use strict';var l=this.$KeyedCallbackManager2.getRequest(k),m=[];if(l)m=l.request.filter(function(n){return !this.$KeyedCallbackManager1[n];}.bind(this));return m;};j.prototype.getUnavailableResourcesFromRequest=function(k){'use strict';var l=Array.isArray(k)?k:[k];return l.filter(function(m){if(m!==null&&m!==undefined)return !this.$KeyedCallbackManager1[m];},this);};j.prototype.addResourcesAndExecute=function(k){'use strict';Object.assign(this.$KeyedCallbackManager1,k);this.$KeyedCallbackManager2.runPossibleCallbacks();};j.prototype.setResource=function(k,l){'use strict';this.$KeyedCallbackManager1[k]=l;this.$KeyedCallbackManager2.runPossibleCallbacks();};j.prototype.getResource=function(k){'use strict';return this.$KeyedCallbackManager1[k];};j.prototype.getAllResources=function(){'use strict';return this.$KeyedCallbackManager1;};j.prototype.dumpResources=function(){'use strict';var k={};for(var l in this.$KeyedCallbackManager1){var m=this.$KeyedCallbackManager1[l];if(typeof m==='object')m=babelHelpers['extends']({},m);k[l]=m;}return k;};j.prototype.$KeyedCallbackManager3=function(k){'use strict';var l={};for(var m=0;m<k.length;m++){var n=k[m],o=this.$KeyedCallbackManager1[n];if(typeof o=='undefined')return false;l[n]=o;}return [l];};f.exports=j;},null);
__d('MMessageServerResourceFetcher',['KeyedCallbackManager','MRequest'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){this.$MMessageServerResourceFetcher3=k;this.$MMessageServerResourceFetcher4=l;this.$MMessageServerResourceFetcher1=new h();this.$MMessageServerResourceFetcher2={};}j.prototype.get=function(k,l){this.getMulti([k],function(m){l(m[k]);});};j.prototype.getMulti=function(k,l){var m=!this.$MMessageServerResourceFetcher1.executeOrEnqueue(k,l);if(m)return;var n=k.filter(function(p){var q=!this.$MMessageServerResourceFetcher1.getResource(p)&&!this.$MMessageServerResourceFetcher2[p];if(q)this.$MMessageServerResourceFetcher2[p]=true;return q;}.bind(this));if(n.length===0)return;var o=new i(this.$MMessageServerResourceFetcher3(n)).setMethod('GET');o.listen('done',function(p){if(!p||!p.payload)return;var q=this.$MMessageServerResourceFetcher4(p.payload);if(q)this.$MMessageServerResourceFetcher1.addResourcesAndExecute(q);}.bind(this));o.listen('finally',function(p){n.forEach(function(){delete this.$MMessageServerResourceFetcher2[p];}.bind(this));}.bind(this));o.send();};j.prototype.set=function(k,l){var m={};m[k]=l;this.$MMessageServerResourceFetcher1.addResourcesAndExecute(m);};f.exports=j;},null);
__d('MMessagingSingletonMixin',['CurrentUser'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_getInstances:function(){if(!this._instances)this._instances={};return this._instances;},get:function(){return this.getForFBID(h.getID());},getForFBID:function(j){var k=this._getInstances();if(!k[j])k[j]=new this(j);return k[j];}};f.exports=i;},null);
__d("XChatThreadInfoAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/thread_info\/",{thread_fbids:{type:"StringVector",defaultValue:[]},other_user_fbids:{type:"StringVector",defaultValue:[]}});},null);
__d('MMessagesThreadDataStore',['ActorURI','MMessageServerResourceFetcher','CurrentUser','MMessagingSingletonMixin','XChatThreadInfoAsyncController'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(n){this.$MMessagesThreadDataStore1=new i(function(o){var p=l.getURIBuilder().setStringVector('other_user_fbids',o).getURI();if(j.getID()!==n)p=h.create(p,n);return p.toString();},function(o){return o.profiles;});this.$MMessagesThreadDataStore2=new i(function(o){var p=l.getURIBuilder().setStringVector('thread_fbids',o).getURI();if(j.getID()!==n)p=h.create(p,n);return p.toString();},function(o){return o.profiles;});this.$MMessagesThreadDataStore3={};this.$MMessagesThreadDataStore5={};this.$MMessagesThreadDataStore4={};}m.prototype.$MMessagesThreadDataStore6=function(n,o){if(n!==null){return this.$MMessagesThreadDataStore1;}else return this.$MMessagesThreadDataStore2;};m.prototype.getForNewMessage=function(n,o,p,q,r){var s=this.$MMessagesThreadDataStore6(n,o),t=n||o;s.get(t,function(u){if(this.$MMessagesThreadDataStore3[t]===undefined){this.$MMessagesThreadDataStore3[t]=u.unread_count;delete u.unread_count;this.$MMessagesThreadDataStore5[p]=true;}else if(!this.$MMessagesThreadDataStore5[p]){delete u.unread_count;this.$MMessagesThreadDataStore5[p]=true;if(q){this.$MMessagesThreadDataStore3[t]=this.$MMessagesThreadDataStore3[t]+1;}else this.$MMessagesThreadDataStore3[t]=0;}if(this.$MMessagesThreadDataStore4[t]===undefined)this.$MMessagesThreadDataStore4[t]=u.pages_is_flagged;u.thread_unread_count=this.$MMessagesThreadDataStore3[t];r(u);}.bind(this));};m.prototype.updateFlagStatus=function(n,o,p,q){var r=this.$MMessagesThreadDataStore6(n,o),s=n||o;r.get(s,function(t){this.$MMessagesThreadDataStore4[s]=p;q();}.bind(this));};m.prototype.getIsThreadFlagged=function(n,o){var p=n||o;return this.$MMessagesThreadDataStore4[p];};m.prototype.clearUnreadCount=function(n,o,p){var q=this.$MMessagesThreadDataStore6(n,o),r=n||o;q.get(r,function(s){this.$MMessagesThreadDataStore3[r]=0;p();}.bind(this));};Object.assign(m,k);f.exports=m;},null);
__d("XChatUserInfoAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/user_info\/",{ids:{type:"IntVector",defaultValue:[]}});},null);
__d('MShortProfiles',['MMessageServerResourceFetcher','XChatUserInfoAsyncController'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new h(function(l){return i.getURIBuilder().setIntVector('ids',l).getURI().toString();},function(l){return l.profiles;}),k={get:function(l,m){j.get(l,m);},getMulti:function(l,m){j.getMulti(l,m);},set:function(l,m){j.set(l,m);}};f.exports=k;},null);
__d('MercuryChannelMessageTransformer',['MercuryActionType'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l={author:j.mercury_author_id,author_email:j.mercury_author_email,body:j.body,subject:j.subject,has_attachment:j.has_attachment,attachments:j.attachments,ephemeral_ttl_mode:j.ephemeral_ttl_mode,html_body:j.html_body,thread_id:j.tid,thread_fbid:j.thread_fbid&&j.thread_fbid.toString(),other_user_fbid:j.other_user_fbid&&j.other_user_fbid.toString(),offline_threading_id:j.offline_threading_id,message_id:j.mid,is_spoof_warning:j.is_spoof_warning,ranges:j.ranges,source:j.mercury_source,source_tags:j.mercury_source_tags,tags:j.tags&&j.tags.split(','),threading_id:j.threading_id,timestamp:j.timestamp,timestamp_absolute:j.timestamp_absolute,timestamp_relative:j.timestamp_relative,timestamp_datetime:j.timestamp_datetime,timestamp_time_passed:j.timestamp_time_passed,action_type:h.USER_GENERATED_MESSAGE,is_unread:j.is_unread,is_forward:false,forward_count:j.forward_count||j.forward,forward_message_ids:j.forward_msg_ids,folder:k,sync_id:j.sync_id};return l;}f.exports={transform:i};},null);
__d('MercuryIDs',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isValid:function(i){if(!i||typeof i!=='string')return false;return (/^\w{3,12}:.+/.test(i));},isValidThreadID:function(i){if(!h.isValid(i))return false;var j=h.tokenize(i);switch(j.type){case 'user':case 'group':case 'thread':case 'root':case 'pending':return true;default:return false;}},tokenize:function(i){if(!i||!h.isValid(i))throw new Error('bad_id_format '+i);var j=i.indexOf(':');return {type:i.substr(0,j),value:i.substr(j+1)};},getUserIDFromParticipantID:function(i){if(!h.isValid(i))throw new Error('bad_id_format '+i);var j=h.tokenize(i),k=j.type,l=j.value;return k==='fbid'?l:null;},getParticipantIDFromUserID:function(i){if(isNaN(i))throw new Error('Not a user ID: '+i);return 'fbid:'+i;},getUserIDFromThreadID:function(i){if(!this.isCanonical(i))return null;return this.tokenize(i).value;},getThreadIDFromUserID:function(i){return 'user:'+i;},getThreadIDFromThreadFBID:function(i){return 'thread:'+i;},getThreadIDFromParticipantID:function(i){var j=this.getUserIDFromParticipantID(i);return j?this.getThreadIDFromUserID(j):null;},getParticipantIDFromFromThreadID:function(i){var j=this.getUserIDFromThreadID(i);return j?this.getParticipantIDFromUserID(j):null;},isCanonical:function(i){return this.isValid(i)&&this.tokenize(i).type==='user';},isGroupChat:function(i){return this.isValid(i)&&this.tokenize(i).type!=='user';},isLocalThread:function(i){return this.isValid(i)&&this.tokenize(i).type==='root';}};f.exports=h;},null);
__d('MMessagesChannelPayloadPreparer',['Promise','CurrentUser','MercuryChannelMessageTransformer','MercuryIDs','MessagingTag','MMessagePayload','MMessagesConfig','MMessagesThreadDataStore','MShortProfiles','StoryAttachmentStyle','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s={fetchDataThenDispatch:function(t){var u=t.message.message_id!==undefined&&t.message.mid===undefined;if(!u)t.message=j.transform(t.message,l.INBOX);t.message.folder=t.folder;t.message.sender_fbid=k.getUserIDFromParticipantID(t.message.author);if(!t.realtime_viewer_fbid){t.realtime_viewer_fbid=i.getAccountID();t.message.other_user_fbid=t.message.other_user_fbid!==undefined?t.message.other_user_fbid.toString():undefined;}if(n.msite_genie_xma_rendering)this._processGenieMessage(t.message);var v=[new h(function(w,x){var y=o.getForFBID(t.realtime_viewer_fbid.toString());y.getForNewMessage(t.message.other_user_fbid,t.message.thread_fbid,t.message.message_id,t.message.is_unread,function(z){w(z);});}),new h(function(w,x){p.get(t.message.sender_fbid.toString(),function(y){w(y);});})];h.all(v).done(function(w){var x=w[0],y=w[1];Object.assign(t.message,{thread_name:x.thread_name,participant_ids:x.participant_ids,has_thread_image:x.has_thread_image,is_canonical:x.is_canonical,href:x.href,thread_unread_count:x.thread_unread_count,pages_is_flagged:x.pages_is_flagged,sender_name:y.name,type:t.type});t.parsedPayload=new m(t.message);r.invoke(t.type,null,t);});},_processGenieMessage:function(t){if(!t.has_attachment||!t.attachments)return;for(var u=t.attachments.length-1;u>=0;u-=1){var v=t.attachments[u];if(!v.share||!v.share.style_list||v.share.style_list[0]!=q.GENIE_MESSAGE)continue;if(v.share.target.genie_id){t.sender_fbid=v.share.target.genie_id;t.sender='fbid:'+v.share.target.genie_id;}if(v.share.target.genie_name)t.sender_name=v.share.target.genie_name;if(v.share.target&&!v.share.target.attachment){t.attachments.splice(u,1);t.has_attachment=t.attachments.length>0;}}}};f.exports=s;},null);
__d('MMessagesReadReceipts',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=undefined,i={};function j(m,n){h=m;i=n;}function k(m,n){if(m!==h)return;for(var o in n){if(!n.hasOwnProperty(o))continue;var p=n[o],q=i[o];if(q===undefined){i[o]=p;}else i[o]=Math.max(q,p);}}function l(m,n,o){if(m!==h)return {};var p={};for(var q in i){if(!i.hasOwnProperty(q)){continue;}else if(o.indexOf(q)!==-1){continue;}else if(i[q]<n)continue;p[q]=i[q];}return p;}f.exports={init:j,update:k,getSeenBy:l};},null);
__d('MercurySingletonProvider',['CurrentUser','Map'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$MercurySingletonProvider1=new i();this.$MercurySingletonProvider2=k;}j.prototype.getForFBID=function(k){if(!this.$MercurySingletonProvider1.has(k))this.$MercurySingletonProvider1.set(k,new this.$MercurySingletonProvider2(k));return this.$MercurySingletonProvider1.get(k);};j.prototype.get=function(){return this.getForFBID(h.getID());};j.mock=function(k){throw new Error('MercurySingletonProvider.mock() must only be used in tests.');};f.exports=j;},null);
__d('MercurySyncDeltaTypes',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={AdminAddedToGroupThread:'AdminAddedToGroupThread',AdminRemovedFromGroupThread:'AdminRemovedFromGroupThread',AdminTextMessage:'AdminTextMessage',DeliveryReceipt:'DeliveryReceipt',ForcedFetch:'ForcedFetch',MarkRead:'MarkRead',MessageDelete:'MessageDelete',NewMessage:'NewMessage',PagesManagerEvent:'PagesManagerEvent',ParticipantLeftGroupThread:'ParticipantLeftGroupThread',ParticipantsAddedToGroupThread:'ParticipantsAddedToGroupThread',ReadReceipt:'ReadReceipt',ReplaceMessage:'ReplaceMessage',RTCEventLog:'RTCEventLog',ThreadAction:'ThreadAction',ThreadDelete:'ThreadDelete',ThreadMuteSettings:'ThreadMuteSettings',ThreadName:'ThreadName'};f.exports=h;},null);
__d('MercurySyncMarkReadTransformer',['MercuryActionType','MercuryGlobalActionType','MessagingTag'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){if(l.folders&&l.folders.length>0)return l.folders.map(function(m){return {action_type:i.MARK_ALL_READ,action_id:null,folder:m,timestamp:parseInt(l.watermarkTimestamp,10)};});return l.threadKeys.map(function(m){return {action_type:h.CHANGE_READ_STATUS,other_user_fbid:m.otherUserFbId,thread_fbid:m.threadFbId,mark_as_read:true,timestamp:parseInt(l.watermarkTimestamp,10),folder:j.INBOX};});}f.exports={transform:k};},null);
__d('MercuryTimestamp',['fbt','formatDate','MercuryTimePassed'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=86400000,l=6*k,m={getFormatedTimestamp:function(n){var o=n/1000;return m.getFormattedTimestampByBucket(o,this.getTimeBucket(n));},getFormattedTimestampByBucket:function(n,o){switch(o){case j.TODAY:return {absolute:h._("\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),relative:i(n,'g:ia')};case j.WEEK_AGO:return {absolute:i(n,'l'),relative:i(n,'D')};case j.CURRENT_YEAR:return {absolute:i(n,'F j'),relative:i(n,'M j')};default:return {absolute:i(n,'F j, Y'),relative:i(n,'n/j/y')};}},getTimeBucket:function(n){var o=new Date(n),p=new Date(),q=new Date(p.getFullYear(),p.getMonth(),p.getDate());if(q<o){return j.TODAY;}else if(q-l<o){return j.WEEK_AGO;}else if(q.getFullYear()===o.getFullYear()){return j.CURRENT_YEAR;}else return j.OTHER_YEAR;},getPreciseTimestamp:function(n){return i(new Date(n),m.getPreciseFormat(n));},getPreciseFormat:function(n){var o=m.getTimeBucket(n);switch(o){case j.TODAY:return 'g:ia';case j.WEEK_AGO:return 'l g:ia';case j.CURRENT_YEAR:return 'F jS, g:ia';case j.OTHER_YEAR:default:return 'F j, Y g:i a';}}};f.exports=m;},null);
__d('MercurySyncNewMessageTransformer',['IrisProtocolMessageLifetime','MercuryActionType','MercuryIDs','MercuryTimestamp','MessagingTag'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(n,o){var p=parseInt(o.messageMetadata.timestamp,10),q=k.getFormatedTimestamp(p),r=[];if(o.attachments)r=o.attachments.map(function(t){return t.mercury;});var s=o.messageMetadata.tags?o.messageMetadata.tags[0]:undefined;return {message_id:o.messageMetadata.messageId,threading_id:null,offline_threading_id:o.messageMetadata.offlineThreadingId,author:j.getParticipantIDFromUserID(o.messageMetadata.actorFbId),author_email:o.messageMetadata.actorFbId+'@facebook.com',ephemeral_ttl_mode:o.ttl?h[o.ttl]:0,timestamp:p,timestamp_absolute:q.absolute,timestamp_relative:q.relative,timestamp_datetime:q.relative,timestamp_time_passed:k.getTimeBucket(p),is_unread:n!==o.messageMetadata.actorFbId,is_forward:false,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,forward_count:0,forward_message_ids:[],source:s,tags:o.messageMetadata.tags,is_spoof_warning:false,folder:l.INBOX,thread_fbid:o.messageMetadata.threadKey.threadFbId,other_user_fbid:o.messageMetadata.threadKey.otherUserFbId,body:o.body!==undefined?o.body:'',html_body:null,subject:null,has_attachment:r.length>0,attachments:r,ranges:undefined,thread_id:null,action_type:i.USER_GENERATED_MESSAGE,is_from_iris:true,is_sponsored:!!(o.data&&o.data.is_sponsored&&o.data.is_sponsored==='true')};}f.exports={transform:m};},null);
__d('MercurySyncReadReceiptTransformer',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=parseInt(i.actionTimestampMs,10),k=i.threadKey.otherUserFbId||i.actorFbId,l=i.threadKey.otherUserFbId||i.threadKey.threadFbId,m={roger:{}};m.roger[l]={};m.roger[l][k]=j;return m;}f.exports={transform:h};},null);
__d('MMercurySyncDispatcher',['ChannelEventType','MessagingEvent','MessagingTag','MercuryGlobalActionType','MercurySingletonProvider','MercurySyncDeltaTypes','MercurySyncMarkReadTransformer','MercurySyncNewMessageTransformer','MercurySyncReadReceiptTransformer','MMessagesChannelPayloadPreparer','MMessagesReadReceipts','MMessagesThreadDataStore','Stratcom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();v.getForFBID=function(x){return w.getForFBID(x);};v.get=function(){return w.get();};function v(x){this.$MMercurySyncDispatcher1=x;}v.prototype.process=function(x){var y,z;switch(x['class']){case m.NewMessage:y=o.transform(this.$MMercurySyncDispatcher1,x);z={message:y,type:h.MESSAGE,folder:j.INBOX};q.fetchDataThenDispatch(z);break;case m.MarkRead:var aa=n.transform(x),ba=false;for(var ca=0;ca<aa.length;ca++){var da=aa[ca];if(da.action_type===k.MARK_ALL_READ)ba=true;}if(ba)return;aa.map(function(ga){s.getForFBID(this.$MMercurySyncDispatcher1).clearUnreadCount(ga.other_user_fbid,ga.thread_fbid,u);z={message:ga,type:h.MESSAGE,event:i.READ,is_sync:true};t.invoke(z.type,null,z);}.bind(this));break;case m.ReadReceipt:y=p.transform(x);var ea=Object.keys(y.roger)[0],fa=y.roger[ea];r.update(ea,fa);z={message:y,type:h.MESSAGE,event:i.READ_RECEIPT,is_sync:true};t.invoke(z.type,null,z);break;default:break;}};var w=new l(v);f.exports=v;},null);
__d('MTouchChannelPayloadRouter',['ChannelEventType','CurrentUser','MercuryChannelMessageTransformer','MessagingEvent','MessagingTag','MMercurySyncDispatcher','MMessagesChannelPayloadPreparer','MMessagesConfig','MMessagesThreadDataStore','Stratcom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();function s(x){if(t(x)){x.message=j.transform(x.message,l.INBOX);if(o.mtouch_sync_msg&&x.type!==h.PAGES_MESSAGE)return;n.fetchDataThenDispatch(x);}else if(v(x)){if(o.mtouch_sync_msg&&x.type!==h.PAGES_MESSAGE)return;var y=x.realtime_viewer_fbid.toString();x.other_user_fbids.forEach(function(z){return (p.getForFBID(y).clearUnreadCount(z.toString(),null,r));});x.thread_fbids.forEach(function(z){return (p.getForFBID(y).clearUnreadCount(null,z.toString(),r));});q.invoke(x.type,null,x);}else if(w(x)){p.getForFBID(x.realtime_viewer_fbid.toString()).updateFlagStatus(x.other_user_fbid.toString(),null,x.flagged,r);q.invoke(x.type,null,x);}else if(u(x)){if(!o.mtouch_sync_msg)return;m.getForFBID(i.getID()).process(x.delta);}else q.invoke(x.type,null,x);}function t(x){return (x.type===h.MESSAGE||x.type===h.PAGES_MESSAGE)&&x.message;}function u(x){return x.type===h.DELTA;}function v(x){return (x.type===h.MESSAGE||x.type===h.PAGES_MESSAGE)&&x.event===k.READ;}function w(x){return x.type===h.PAGES_MESSAGE&&x.event===h.PAGE_THREAD_FLAG_CHANGED;}g.route=s;},null);
__d('MTouchChannelManager',['MChannelManager','MTouchChannelPayloadRouter','Stratcom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=false;function m(){if(l)return;l=true;h.addListener(h.CHANNEL_MESSAGE,i.route);j.listen(['m:onload','m:jewels:init-counts'],null,h.startChannel);h.startChannel();}g.initialize=m;},null);
__d('MPresenceIcon',['setTimeoutAcrossTransitions','DOM','MLegacyDataStore','MRequest','MURI','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=0,o=1,p=2,q;function r(){var s=i.scry(document.body,'i','presence-icon'),t=[];for(var u=0,v=s.length;u<v;++u){var w=j.get(s[u]);if(w.userid&&!t[w.userid])t[w.userid]=1;}var x=new l('/chat/presence_icon.php').toString(),y=new k(x).setData({ids:Object.keys(t)}).setIgnoreErrors(true);y.listen('done',function(z){for(var aa=0,ba=s.length;aa<ba;++aa){var ca=j.get(s[aa]);if(ca&&ca.userid&&m.hasSigil(s[aa],'online-icon')&&z[ca.userid]==o||m.hasSigil(s[aa],'mobile-icon')&&z[ca.userid]==p){i.show(s[aa]);}else i.hide(s[aa]);}});y.listen('finally',function(z){clearTimeout(q);q=h(r,n);});y.send();}n=n?n*100:60000;r();},null);
__d("XFeedNewStoriesBadgeController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/badge\/",{});},null);
__d('MFeedJewel',['CSS','DOM','MHistory','MJewel','MJewels','MPageController','MRequest','MURI','Stratcom','SubscriptionsHandler','XFeedNewStoriesBadgeController','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u,v,w,x,y,z,aa=0,ba=9,ca=15000;function da(oa){h.conditionClass(x,'popoverOpen',true);}function ea(oa){h.conditionClass(x,'popoverOpen',false);}function fa(){if(v)return;v=new q();v.addSubscriptions(i.listen(s(k.JEWEL_NAV_NODE_ID),'click','feed',ia));if(!w)v.addSubscriptions(p.listen('m:history:change',null,ha));}function ga(){v&&v.release();v=null;}function ha(oa){var pa=oa.getData().soft;for(var qa=0,ra=Object.keys(l);qa<ra.length;qa++)if(l[ra[qa]]===pa){ea();return;}da();}function ia(oa){var pa=oa.getNode('icon').getAttribute('href');if(new o(pa).normalize().toString()===new o(j.getPath()).normalize().toString()){oa.kill();m.reload();}}function ja(oa){i.setContent(t,oa>ba?ba+'+':''+oa);h.conditionClass(x,'noCount',!oa);h.conditionClass(x,'hasCount',oa);}function ka(){if(aa>ba)return;clearTimeout(z);z=setTimeout(function(){la();},ca);}function la(){var oa=r.getURIBuilder();y=new n(oa.getURI().toString());y.listen('done',function(pa){aa=pa.payload.count;ja(pa.payload.count);});y.listen('finally',function(){y=null;ka();});y.send();}function ma(){ja();clearTimeout(z);z=null;aa=0;}function na(oa,pa,qa){if(u)return;u=true;x=oa;w=qa;t=i.find(x,'span','count');p.listen('m:homepage:load',null,function(){da();fa();if(t)ma();});p.listen('m:homepage:unload',null,function(){ea();ga();if(t)ka();});if(pa){fa();}else if(t)ka();}f.exports={init:na};},null);
__d('MGenericJewel',['CSS','DOM','MHistory','MJewel','MViewport','MJewels','Stratcom','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={};function q(r,s,t){if(p[r])return;p[r]=true;var u;i.listen(o(k.JEWEL_NAV_NODE_ID),'click',r,function(v){if(v.getNode('icon')){v.prevent();if(!u){j.pushSoftState(r);n.invoke('MGenericJewel::clicked',r,{open:true});}else if(r===m.SEARCH)n.invoke('m:chrome:tab:show',r,{open:true});}});n.listen('m:history:change',null,function(v){var w=v.getData().soft===r;if(!w&&u)n.invoke('m:chrome:tab:hide',r);h.conditionClass(s,'popoverOpen',w);if(t){h.conditionClass(t,'popover_hidden',!w);h.conditionClass(t,'popover_visible',w);if(w)t.style.minHeight=l.getUseableHeight()+'px';}if(w&&!u)n.invoke('m:chrome:tab:show',r);u=w;});}f.exports={init:q};},null);
__d('MInitJewelCounts',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(j){h.invoke('m:jewels:init-counts',null,j);};g.main=i;},null);
__d("XMercuryThreadMetadataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/thread_info\/",{thread_fbids:{type:"StringVector",required:true}});},null);
__d('MMessagesThreadMetadataCache',['KeyedCallbackManager','MRequest','XMercuryThreadMetadataController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new h(),l={},m={get:function(n,o){var p=!k.executeOrEnqueue(n,o);if(p||l[n])return;l[n]=true;var q=new i(j.getURIBuilder().setStringVector('thread_fbids',[n]).getURI()).setMethod('GET');q.listen('done',function(r){if(r&&r.payload&&r.payload.threads){var s={};r.payload.threads.forEach(function(t,u,v){var w=t.thread_fbid;s[w]=t;});k.addResourcesAndExecute(s);}});q.listen('finally',function(){delete l[n];});q.send();}};f.exports=m;},null);
__d('MMessagesThreadImageRenderer',['CSS','JSXDOM','MItemConstants','MMessagesThreadImageRendererConfig','MMessagesThreadMetadataCache','MShortProfiles','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={participantImage:function(s,t){var u=i.img({src:k.profile_pic_src,alt:o._("\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),className:"_33zg"}),v=t===j.TALL_HEIGHT;h.conditionClass(u,"_33zg",v);h.conditionClass(u,"_508n",!v);q(s,u,v);return u;},threadImage:function(s,t){var u=i.img({src:k.profile_pic_src,alt:o._("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438"),className:"_33zg"}),v=t===j.TALL_HEIGHT;h.conditionClass(u,"_33zg",v);h.conditionClass(u,"_508n",!v);r(s,u);return u;}};function q(s,t,u){m.get(s,function(v){var w=u?v.mThumbSrcLarge:v.mThumbSrcSmall;if(w)this.placeholder.setAttribute('src',w);}.bind({placeholder:t}));}function r(s,t){l.get(s,function(u){var v=u.image_src;if(v)this.placeholder.setAttribute('src',v);}.bind({placeholder:t}));}f.exports=p;},null);
__d("XMessagesJewelContentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mobile\/messages\/jewel\/content\/",{spinner_id:{type:"String",required:true}});},null);
__d("XNotificationJewelContentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mobile\/notifications\/jewel\/content\/",{spinner_id:{type:"String",required:true}});},null);
__d("XPymkImpressionLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pymk\/log_impressions\/",{imp_ts:{type:"Int",required:true},query_id:{type:"Int"},candidate_id:{type:"Int",required:true},loc:{type:"String",required:true},ref:{type:"String"},action:{type:"Enum",defaultValue:"impression",enumType:1}});},null);
__d('MJewelSet',['ChannelEventType','DOM','HTML','AppRequestLogger','MessagingEvent','MJewels','MDynaTemplate','MJewel','MLogState','MItemConstants','MMessagesThreadImageRenderer','Popover','MRequest','MViewport','Stratcom','MTouchChannelManager','MURI','XPymkImpressionLoggingController','XNotificationJewelContentController','XMessagesJewelContentController','fbt','isFacebookURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da={_viewerID:null,_requestsJewel:null,_messagesJewel:null,_notificationsJewel:null,_unseenNotificationIds:{},_jewelClickLogListener:null,_haveInitializedJewels:false,_pymkImpressionLogged:false,MSG_ID_PREFIX:'msg_',OTHER_USER_FBID_PREFIX:'other_user_fbid_',THREAD_FBID_PREFIX:'thread_fbid_',NOTIF_ID_PREFIX:'notif_',JEWEL_NAV_NODE_ID:'mJewelNav',JEWEL_NAV_CACHE_KEY:'mJewelNavKey',JEWEL_MSG_LIST:'mJewelMsgThreadContents',_hideLiveNotifications:false,_hideLiveThreads:false,_lazyLoadNotifications:false,_lazyLoadMessages:false,_lazyLoadNotificationsReq:null,_lazyLoadMessagesReq:null,createJewels:function(ea,fa){if(fa.showRequests){da._requestsJewel=new o('requests',{pos:p.CLICK_POSITION_REQUESTS_FLYOUT,mJewelMarauderLogger:ea,softState:m.REQUESTS},'friends_jewel_module');da._requestsJewel.listen('cleared',da._markRequestsRead);da._requestsJewel.listen('jewel_click',da._logRequestsJewelClick);}da._messagesJewel=new o('messages',{contentsSigil:da.JEWEL_MSG_LIST,pos:p.CLICK_POSITION_MESSAGES_FLYOUT,mJewelMarauderLogger:ea,softState:m.MESSAGES},'messages_jewel_module');da._messagesJewel.listen('cleared',da._markMessagesRead);da._notificationsJewel=new o('notifications',{pos:p.CLICK_POSITION_NOTIFICATIONS_FLYOUT,clickCallback:da._notificationClick,mJewelMarauderLogger:ea,softState:m.NOTIFICATIONS},'notifications_jewel_module');da._notificationsJewel.listen('cleared',da._markNotificationsSeen);da._jewelClickLogListener=da._notificationsJewel.listen('jewel_click',da._logNotificationJewelClick);if(da._lazyLoadNotifications||da._lazyLoadMessages)v.listen('m:jewel:flyout:open',null,da._onJewelOpen);},openMessageJewel:function(){da._messagesJewel.openPopover();},markFriendRequestsSeen:function(event){if(da._requestsJewel===null)return;da._requestsJewel.setCount(0);},updateFriendRequests:function(event){if(da._requestsJewel===null)return;if(da._requestsJewel.isOpen())return;var ea=new t('/ajax/mobile/friends/jewel/requests_markup');ea.send();},onAfterUpdateFriendRequests:function(ea){if(da._requestsJewel===null)return;da._setJewelCount(da._requestsJewel,ea,da._markRequestsRead);s.getInstance('reqs_flyout').refreshConstraints();if(da._requestsJewel.isOpen())da._logPymkImpression();},_logPymkImpression:function(){if(da._pymkImpressionLogged)return;da._pymkImpressionLogged=true;var ea=da._requestsJewel._getContentsElement(),fa=i.scry(ea,'div','undoable-action');for(var ga=0;ga<fa.length;ga++){var ha=fa[ga].getAttribute('data-pymk-id');if(!ha)continue;var ia=y.getURIBuilder().setInt('candidate_id',ha).setInt('imp_ts',Date.now()).setEnum('action','impression').setString('loc','mobile_jewel').getURI();new t(ia).setMethod('POST').send();}},refreshNotificationsConstraints:function(){s.getInstance('notifications_flyout').refreshConstraints();},refreshMessagesConstraints:function(){s.getInstance('messages_flyout').refreshConstraints();},updateNotification:function(event){var ea=event.getData();if(ea&&ea.data){if(ea.data.type==='friend_confirmed')return;if(!da._notificationsJewel.isOpen()&&!da._unseenNotificationIds[ea.data.alert_id])da._notificationsJewel.setCount(ea.data.unread+da._notificationsJewel.getCount());da._notificationsJewel.removeMenuContent(da._getNotifNodeID(ea.data.alert_id));if(!da._hideLiveNotifications){var fa=da._createNotificationMarkup(ea.data);da._notificationsJewel.prependMenuContent(fa);da.refreshNotificationsConstraints();}da._unseenNotificationIds[ea.data.alert_id]=true;if(da._notificationsJewel.isOpen())da._markNotificationsSeen();if(da._lazyLoadNotifications)da._loadNotificationJewelContent();}},_createNotificationMarkup:function(ea){ea.id=da._getNotifNodeID(ea.alert_id);if(ea.type&&ea.type=='app_request'){ea.onclick=k?"require('AppRequestLogger').setLastApp("+ea.app_id+')':null;ea.target='_blank';}if(window.devicePixelRatio>1&&ea.profile_pic_2x)ea.profile_pic=ea.profile_pic_2x;var fa=n.renderToHtml('@MJewelRealTimeNotificationTemplate',ea);return new j(fa).getFragment().firstChild;},updateUnseenNotificationIds:function(event){var ea=event.getData();if(!ea)return;var fa=event.getType()=='notifications_read';if(ea.alert_ids){var ga=0;for(var ha=0;ha<ea.alert_ids.length;ha++)if(da._unseenNotificationIds[ea.alert_ids[ha]]){delete da._unseenNotificationIds[ea.alert_ids[ha]];fa&&da._notificationsJewel.updateMenuColor(da._getNotifNodeID(ea.alert_ids[ha]),true,false);ga++;}var ia=da._notificationsJewel.getCount();da._notificationsJewel.setCount(ia-ga);}else{da._notificationsJewel.setCount(0);if(fa)for(var ja in da._unseenNotificationIds)da._notificationsJewel.updateMenuColor(da._getNotifNodeID(ja),true,false);da._unseenNotificationIds={};}},updateUnreadMessageCount:function(event){var ea=event.getData();if(!ea)return;if(ea.unseen!==null&&!da._messagesJewel.isOpen())da._messagesJewel.setCount(ea.unseen);if(ea.unread!==null){var fa=null;if(ea.unread>0){fa=ba._("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f ({unread_message_count})",[ba.param('unread_message_count',ea.unread)]);}else fa=ba._("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f");da._messagesJewel.setHeaderText('messages_jewel_header_text',fa);}},updateMessage:function(event){var ea=event.getData();if(!ea)return;if(ea.parsedPayload){var fa=ea.parsedPayload;if(fa.getFolder()!=='inbox'||!da._viewerIsAParticipant(da._viewerID,fa))return;if(da._messagesJewel.isInitialized()){da._messagesJewel.removeMenuContent(da._getMessageNodeID(fa.getOtherUserFBID(),fa.getThreadFBID()));if(!da._hideLiveThreads){var ga=da._createMessageMarkup(fa);da._messagesJewel.prependMenuContent(ga);if(da._viewerID==fa.getAuthorFBID())da._messagesJewel.updateMenuColor(da._getMessageNodeID(fa.getOtherUserFBID(),fa.getThreadFBID()),true,false);}if(da._messagesJewel.isOpen())da._markMessagesRead();}if(da._lazyLoadMessages)da._loadMessagesJewelContent();}else if(ea.mark_as_read){for(var ha=0;ha<ea.other_user_fbids.length;ha++){var ia=ea.other_user_fbids[ha];if(ea.folder_info[ia]!=='inbox')continue;da._messagesJewel.updateMenuColor(da._getMessageNodeID(ia.toString(),null),ea.event=='read',false);}for(ha=0;ha<ea.thread_fbids.length;ha++){var ja=ea.thread_fbids[ha];if(ea.folder_info[ja]!=='inbox')continue;da._messagesJewel.updateMenuColor(da._getMessageNodeID(null,ja.toString()),ea.event=='read',false);}}else if(ea.event===l.READ&&ea.is_sync)da._messagesJewel.updateMenuColor(da._getMessageNodeID(ea.message.other_user_fbid,ea.message.thread_fbid),true,false);},_createMessageMarkup:function(ea){var fa={id:da._getMessageNodeID(ea.getOtherUserFBID(),ea.getThreadFBID()),href:ea.getHref(),thread_name:ea.getThreadNameWithUnreadCount(),time:ea.getTime(),snippet:ea.getSnippet()},ga=n.renderToHtml('@MJewelNewMessageTemplate',fa),ha=new j(ga).getRootNode(),ia=i.find(ha,'*','profile_image');if(ea.isCanonicalThread()){i.replace(ia,r.participantImage(ea.getOtherUserFBID(),q.SHORT_HEIGHT));}else if(ea.hasThreadImage()){i.replace(ia,r.threadImage(ea.getThreadFBID(),q.SHORT_HEIGHT));}else i.replace(ia,r.participantImage(ea.getAuthorFBID(),q.SHORT_HEIGHT));if(ea.getAttachmentCount()>0){var ja=i.scry(ha,'*','attachment-icon');for(var ka=0;ka<ja.length;ka++)i.show(ja[ka]);}return ha;},_getMessageNodeID:function(ea,fa){ea=ea?ea:'';fa=fa?fa:'';return (da.MSG_ID_PREFIX+da.OTHER_USER_FBID_PREFIX+ea+da.THREAD_FBID_PREFIX+fa);},_getNotifNodeID:function(ea){return da.NOTIF_ID_PREFIX+ea;},_markRequestsRead:function(){v.invoke('m_requests_jewel_mark_read');var ea=new t(new x('/a/jewel_requests_read.php').toString());ea.send();},_markMessagesRead:function(){var ea=new t(new x('/a/jewel_messages_read.php').toString());ea.send();},_markNotificationsSeen:function(){if(da._jewelClickLogListener){da._jewelClickLogListener.remove();da._jewelClickLogListener=null;}var ea=da._unseenNotificationIds;da._unseenNotificationIds={};var fa=[];for(var ga in ea)fa.push(ga);var ha=new t(new x('/a/jewel_notifications_read.php').toString());ha.addData({ids:fa,count:fa.length,seen:true});ha.send();},_onJewelOpen:function(event){var ea=event.getData();if(ea&&ea.jewel)if(ea.jewel==='notifications'){da._loadNotificationJewelContent();}else if(ea.jewel==='messages')da._loadMessagesJewelContent();},_loadNotificationJewelContent:function(){var ea=da._notificationsJewel._getContentsElement(),fa='notifications-flyout-loading';if(v.hasSigil(ea,fa)){var ga=z.getURIBuilder().setString('spinner_id',ea.getAttribute('id')).getURI();if(!da._lazyLoadNotificationsReq){da._lazyLoadNotificationsReq=new t(ga);da._lazyLoadNotificationsReq.listen('finally',function(){da._lazyLoadNotificationsReq=null;});da._lazyLoadNotificationsReq.send();}}},_loadMessagesJewelContent:function(){var ea=da._messagesJewel._getJewelElement(),fa='messages-flyout-loading',ga=i.scry(ea,'*',fa);if(ga.length>0){var ha=aa.getURIBuilder().setString('spinner_id',ga[0].getAttribute('id')).getURI();if(!da._lazyLoadMessagesReq){da._lazyLoadMessagesReq=new t(ha);da._lazyLoadMessagesReq.listen('finally',function(){da._lazyLoadMessagesReq=null;});da._lazyLoadMessagesReq.send();}}},_logNotificationJewelClick:function(){if(da._jewelClickLogListener){da._jewelClickLogListener.remove();da._jewelClickLogListener=null;}new t('/a/jewel_notifications_log.php').addData({click_type:'jewel_click',count:da._notificationsJewel.getCount()}).send();},_logRequestsJewelClick:function(){var ea=da._requestsJewel._getContentsElement(),fa=i.scry(ea,'div','attachment'),ga=[];for(var ha=0;ha<fa.length;ha++){var ia=fa[ha].getAttribute('id');if(ia&&ia.startsWith('m_jewel_req_'))ga=ga.concat(ia.replace('m_jewel_req_',''));}if(ga.length){var ja=new t('/friends/requests/log_impressions');ja.setMethod('POST');ja.addData({ids:ga.join(','),ref:'m_jewel'});ja.send();}if(da._requestsJewel.isOpen())if(v.hasSigil(ea,'requests-flyout-loading')){new t('/ajax/mobile/friends/jewel/requests_markup').send();}else da._logPymkImpression();},_notificationClick:function(event){var ea=event.getNode('marea');if(!ea)return;var fa=ea.getAttribute('id');if(!fa)return;da._notificationsJewel.updateMenuColor(fa,true,false);if(!da._hideLiveNotifications)new t('/a/jewel_notifications_log.php').addData({click_type:'jewel_notif_click',id:fa.replace(da.NOTIF_ID_PREFIX,'')}).send();},_viewerIsAParticipant:function(ea,fa){if(!fa.getParticipantIDs())return false;if(fa.getParticipantIDs().indexOf(ea)>-1)return true;return fa.getParticipantIDs().indexOf(ea.toString())>-1;},_initJewelCount:function(ea,fa,ga){ea.setDuringInit(true);ea.reregisterListeners();da._setJewelCount(ea,fa,ga);ea.setDuringInit(false);},_setJewelCount:function(ea,fa,ga){if(!ea.isOpen()){ea.setCount(fa);}else if(fa)ga();},_initJewelCounts:function(event){var ea=event.getData();da.initJewels(null,null);if(ea.viewer_id)da._viewerID=ea.viewer_id;if(ea.unread_notification_ids)da._unseenNotificationIds=ea.unread_notification_ids||{};if(ea.request_count&&da._requestsJewel)da._initJewelCount(da._requestsJewel,ea.request_count,da._markRequestsRead);if(ea.message_count)da._initJewelCount(da._messagesJewel,ea.message_count,da._markMessagesRead);if(ea.notification_count)da._initJewelCount(da._notificationsJewel,ea.notification_count,da._markNotificationsSeen);},initJewels:function(ea,fa){if(da._haveInitializedJewels)return;da._haveInitializedJewels=true;da._hideLiveNotifications=fa.hideLiveNotifications;da._hideLiveThreads=fa.hideLiveThreads;da._lazyLoadNotifications=fa.lazyLoadNotifications;da._lazyLoadMessages=fa.lazyLoadMessages;w.initialize();da.createJewels(ea,fa||{});if(da._requestsJewel){if(!da._friendRequestAddListener)da._friendRequestAddListener=v.listen('jewel_requests_add',null,da.updateFriendRequests);if(!da._friendRequestRemoveListener)da._friendRequestRemoveListener=v.listen('jewel_requests_remove_old',null,da.updateFriendRequests);if(!da._friendAcceptedListener)da._friendAcceptedListener=v.listen('jewel_friending_notifs',null,da.updateFriendRequests);if(!da._friendRequestSeenListener)da._friendRequestSeenListener=v.listen('friend_requests_seen',null,da.markFriendRequestsSeen);}if(!da._notificationListener)da._notificationListener=v.listen('m_notification',null,da.updateNotification);if(!da._notificationRefreshListener)da._notificationRefreshListener=v.listen('m:jewel-set:notifications-jewel:refresh-flyout',null,da.refreshNotificationsConstraints);if(!da._messageListener)da._messageListener=v.listen(h.MESSAGE,null,da.updateMessage);if(!da._messageCountListener)da._messageCountListener=v.listen('inbox',null,da.updateUnreadMessageCount);if(!da._notifReadListener)da._notifReadListener=v.listen('notifications_read',null,da.updateUnseenNotificationIds);if(!da._notifSeenListener)da._notifSeenListener=v.listen('notifications_seen',null,da.updateUnseenNotificationIds);if(!da._friendRequestResponseListener)da._friendRequestResponseListener=v.listen('m:requests:refresh',null,function(){s.getInstance('reqs_flyout').refreshConstraints();});if(!da._orientationChangeListener)da._orientationChangeListener=v.listen('m:viewport:orientation-change',null,da._onOrientationChange);},_onOrientationChange:function(){setTimeout(function(){var ea=s._activePopover;if(!ea)return;if(u.getHeight()+'px'!==ea.flyout.style.minHeight)ea.refreshConstraints();},800);}};(function(){v.listen('m:jewels:init-counts',null,da._initJewelCounts);})();f.exports=da;},null);
__d('MReactBookmarkTitles',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={app:'Apps',developer:'Developer',friend_list:'Friends',group:'Groups',suggested_game:'Suggested Games',interest_list:'Interests',page:'Pages',pinned:'Favorites',subscribed_searches:'News You\'re Following',gametime_live_events:'Live Events'};f.exports=h;},null);
__d('MPinnedPageSettingFlyout.react',['MFlyout','React','ReactDOM','ReactLayer','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=k.createClass({propTypes:{onHide:m.func},getDefaultProps:function(){return {onHide:l};},createLayer:function(o){var p=this.props,q=p.shown,r=p.className,s=p.contextRef,t=babelHelpers.objectWithoutProperties(p,['shown','className','contextRef']),u=r?r.split(' '):[];u.push('accelerate');var v=new h(babelHelpers['extends']({},t,{classNames:u,context:j.findDOMNode(s()),margin:'none',nubalign:'center',offsetY:0,position:'below',width:'100%'}),o);v.conditionShow(q);return v;},componentDidMount:function(){this.layerSubscribe('hide',this.props.onHide);},receiveProps:function(o,p){this.updateBehaviors(p.behaviors,o.behaviors);if(this.layer)this.layer.conditionShow(o.shown);}});f.exports=n;},null);
__d("XPagesPinnedBookmarkController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/set_pin\/",{page_id:{type:"Int"},is_add:{type:"Bool",defaultValue:false},force_reload:{type:"Bool",defaultValue:false}});},null);
__d("XPagesPinnedBookmarkSettingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/pin\/setting\/",{ref:{type:"String"}});},null);
__d('MReactBackBookmarkWithPinnedPageSetting.react',['ix','Image.react','Layout.react','MPinnedPageSettingFlyout.react','MRequest','MXUIDiv.react','React','ReactLayeredComponentMixin','XPagesPinnedBookmarkController','XPagesPinnedBookmarkSettingController','cx','fbglyph','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=j.Column,v=j.FillColumn,w=n.PropTypes,x=n.createClass({displayName:'MReactBackBookmarkWithPinnedPageSetting',mixins:[o],getInitialState:function(){return {showFlyout:false,hasPinnedPage:this.props.hasPinnedPage};},propTypes:{backButtonImg:w.object,hasPinnedPage:w.bool.isRequired,onClickBackButton:w.func.isRequired,title:w.string},render:function(){return (n.createElement(j,{className:"_38rd",'data-sigil':'marea'},n.createElement(u,{className:"_38re",onClick:this._onClickBack},n.createElement(i,{height:'20',src:this.props.backButtonImg,width:'24'})),n.createElement(v,{onClick:this._onClickBack},this.props.title),n.createElement(u,{className:"_38rg"},n.createElement(i,{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/gear_20_bluegray-40.png"),ref:'settingButton'}))));},renderLayers:function(){var y=q.getURIBuilder().getURI();return (n.createElement(k,{contextRef:function(){return this.refs.settingButton;}.bind(this),onHide:function(){return this.setState({showFlyout:false});}.bind(this),shown:this.state.showFlyout},n.createElement(m,null,n.createElement('ul',null,n.createElement('li',{className:"_38rh",key:'add_or_change'},n.createElement('a',{href:y,rel:'dialog','data-sigil':'no_mpc'},n.createElement('div',{className:"_38ri"},t._("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438")))),n.createElement('li',{className:"_38rh",onClick:this._onClickRemoveBookmark,key:'remove'},n.createElement('div',{className:!this.state.hasPinnedPage?"_38rj":''},t._("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u0437 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a")))))));},_onClickBack:function(y){this.props.onClickBackButton();},_onClickRemoveBookmark:function(y){if(!this.state.hasPinnedPage){this.setState({showFlyout:false});return;}var z=new l(p.getURIBuilder().getURI()).setData({is_add:false});z.setMethod('POST');z.listen('done',function(aa){var ba=!!aa.payload.success;this.setState({showFlyout:false,hasPinnedPage:!ba});this._onClickBack(y);}.bind(this));z.send();}});f.exports=x;},null);
__d('MReactBookmarkHeader',['React','ReactDOM','Stratcom','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'MReactBookmarkHeader',propTypes:{header:l.string.isRequired,groupid:l.string,nux:l.object},render:function(){var n=this.props.groupid==='subscribed_searches'?'m-subscribed-searches-bookmark':'';return (h.createElement('h3',{className:"_52x1",'data-sigil':n,ref:'header'},h.createElement('span',{className:"_52x2"},this.props.header)));},componentDidMount:function(){if(this.props.nux){this.props.nux.setContext(i.findDOMNode(this.refs.header));j.listen('m:side-area:show',null,function(){if(!this.props.nux.destroyed){this.props.nux.show();this.props.nux.updateNubPosition(110);}j.listen('scroll',null,function(){if(!this.props.nux.destroyed)this.props.nux.show();}.bind(this));}.bind(this));}}});f.exports=m;},null);
__d('MReactBookmarkRow',['Banzai','FacebookAppIDs','MSession','React','URI','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=20,r=k.createClass({displayName:'MReactBookmarkRow',propTypes:{bookmark:p.object.isRequired,isUser:p.bool,onClickItem:p.func.isRequired},shouldComponentUpdate:function(s,t){var u=this.props.bookmark,v=s.bookmark;return u!==v||u.pic!==v.pic||u.name!==v.name||this.state.count!==t.count||u.url!==v.url||this.state.isSelected!==t.isSelected;},getInitialState:function(){return {count:this.props.bookmark.count.value,isSelected:this._isSelected(this.props.bookmark)};},componentWillReceiveProps:function(s){this.setState({count:s.bookmark.count.value,isSelected:this._isSelected(s.bookmark)});},_isSelected:function(s){var t=new l(window.location),u=new l(s.uri);if(t.getPath()!=u.getPath())return false;var v=t.getQueryData(),w=u.getQueryData();return v.sk===w.sk&&v.v===w.v&&v.app_id===w.app_id;},_onClick:function(s){if(s)h.post('bookmark_click',{datagt:s});this.props.onClickItem();},_onTouchEnd:function(event){if(event&&event.cancelable)event.preventDefault();},render:function(){var s=this.props.bookmark,t=!s.pic?null:k.createElement('i',{className:"_5i9c img",style:{backgroundImage:"url('"+s.pic+"')"}}),u=!s.pic&&s.hasOwnProperty('noBookmarkIconSpacing')&&s.noBookmarkIconSpacing,v=s.name.length>42,w=s.name.length<=42&&s.name.length>30,x=this.state.count>q?n._("20 +"):this.state.count,y=s.name;if(s.id==i.MOST_RECENT_FEED)y=k.createElement('span',{'data-sigil':'most_recent_bookmark','data-testid':'most_recent_tab'},y);var z=[k.createElement('div',{key:'icon',className:(!u?"_52x3":'')+(u?' '+"_5p-5":'')+(j.useAngora?' '+"_52x4":'')},t),k.createElement('div',{key:'name',className:"_52x7"+(v?' '+"_5401":'')+(w?' '+"_5400":'')+(s.dir==='rtl'?' '+"_5w9v":'')+(s.dir==='ltr'?' '+"_5w9w":'')},y),k.createElement('div',{key:'count',className:"_55fj"+(!this.state.count?' '+"hiddenElem":'')},x,k.createElement('span',{className:"_55fk"},n._("\u0441\u043e\u0437\u0434\u0430\u0442\u044c")))],aa;if(s.id==i.TRANSLATIONS||s.id==i.FACEBOOK_FOR_EMERGING_MARKET_ANDROID){aa=k.createElement('a',{href:s.url,className:"_5lut"+(' '+"_5luu"),onClick:this._onClick.bind(this,s.datagt),target:'_self'},z);}else aa=k.createElement('a',{href:s.url,className:"_5lut"+(' '+"_5luu"),onClick:this._onClick.bind(this,s.datagt)},z);return (k.createElement('li',{className:o(this.props.className,"_53_-"+(this.state.isSelected?' '+"selected":'')+(this.props.isUser?' '+"_4ut2":'')),onTouchEnd:this._onTouchEnd},k.createElement('div',{'data-sigil':'touchable',className:"_52x6 touchable"},aa,this._renderSideButton())));},_renderSideButton:function(){var s=this.props.bookmark;if(!s.side_button_icon||!s.side_button_uri)return null;return (k.createElement('a',{className:"_5lut _5rl-",href:s.side_button_uri,onClick:this.props.onClickItem},k.createElement('i',{className:"_5rl_ img",style:{backgroundImage:"url('"+s.side_button_icon+"')"}})));}});f.exports=r;},null);
__d('MReactCreateAd.react',['Image.react','MSession','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MReactCreateAd',propTypes:{uri:n.string.isRequired},render:function(){return (j.createElement('li',{className:"_53_-"},j.createElement('div',{className:"_52x6 touchable",'data-sigil':'touchable'},j.createElement('a',{'data-sigil':'no_mpc',rel:'dialog',href:this.props.uri,className:"_5lut _5luu"},j.createElement('div',{className:"_52x3"+(i.useAngora?' '+"_52x4":'')},j.createElement(h,{className:"_5i9c img",src:m('/images/litestand/bookmarks/sidebar/icons/mobile/icon-createad.png')})),j.createElement('div',{className:"_52x7"},l._("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435"))))));}});o.make=function(p,q){return !p||q.id!=='page'?null:j.createElement(o,{uri:p,key:'bookmark_createAd'});};f.exports=o;},null);
__d('MReactCreateGroup',['Image.react','MSession','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MReactCreateGroup',propTypes:{uri:n.string.isRequired},render:function(){var p=JSON.stringify({dialogURI:this.props.uri});return (j.createElement('li',{className:"_53_-"},j.createElement('div',{className:"_52x6 touchable",'data-sigil':'touchable'},j.createElement('a',{rel:'dialog',href:'#','data-sigil':'touchable dialog-link','data-store':p,className:"_5lut _5luu"},j.createElement('div',{className:"_52x3"+(i.useAngora?' '+"_52x4":'')},j.createElement(h,{className:"_5i9c img",src:m('/images/litestand/bookmarks/sidebar/icons/mobile/icon-addgroup.png')})),j.createElement('div',{className:"_52x7"},l._("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0443"))))));}});o.make=function(p,q){return q.id!=='group'?null:j.createElement(o,{uri:p,key:'bookmark_createGroup'});};f.exports=o;},null);
__d('MReactCreatePage.react',['Image.react','MSession','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MReactCreatePage',propTypes:{uri:n.string.isRequired},render:function(){return (j.createElement('li',{className:"_53_-"},j.createElement('div',{className:"_52x6 touchable",'data-sigil':'touchable'},j.createElement('a',{'data-sigil':'no_mpc',rel:'dialog',href:this.props.uri,className:"_5lut _5luu"},j.createElement('div',{className:"_52x3"+(i.useAngora?' '+"_52x4":'')},j.createElement(h,{className:"_5i9c img",src:m('/images/litestand/bookmarks/sidebar/icons/mobile/icon-addpage.png')})),j.createElement('div',{className:"_52x7"},l._("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0443"))))));}});o.make=function(p,q){return !p||q.id!=='page'?null:j.createElement(o,{uri:p,key:'bookmark_createPage'});};f.exports=o;},null);
__d('MReactSeeAllBookmarks',['React','MReactBookmarkTitles','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'MReactSeeAllBookmarks',propTypes:{createGroupURI:m.string.isRequired,group:m.object.isRequired,onClickSeeAll:m.func.isRequired},render:function(){var o=this.props.group;!i[o.id]?l(0):void 0;return (h.createElement('a',{name:o.name,href:'#','data-sigil':'touchable',onClick:this._onClick,className:"touchable _52x6 _53__"},k._({"Apps":"\u0421\u043c. \u0432\u0441\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f","Developer":"\u0421\u043c. \u0432\u0441\u0435 \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432","Friends":"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435\u0445 \u0434\u0440\u0443\u0437\u0435\u0439","Groups":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0433\u0440\u0443\u043f\u043f\u044b","News You're Following":"See All News You're Following","Suggested Games":"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u0438\u0433\u0440\u044b","Interests":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b","Pages":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b","Favorites":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435","Live Events":"See All Live Events"},[k['enum'](i[o.id],{Apps:'Apps',Developer:'Developer',Friends:'Friends',Groups:'Groups','News You\'re Following':'News You\'re Following','Suggested Games':'Suggested Games',Interests:'Interests',Pages:'Pages',Favorites:'Favorites','Live Events':'Live Events'})])));},_onClick:function(o){this.props.onClickSeeAll({createGroupURI:this.props.createGroupURI,group:this.props.group});}});f.exports=n;},null);
__d('StaticContainer.react',['React'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h.Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){'use strict';return !!l.shouldUpdate;};k.prototype.render=function(){'use strict';var l=this.props.children;if(l===null||l===false)return null;return h.Children.only(l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('MReactBookmarks',['CurrentUser','MLoadingIndicator','MLogger','React','StaticContainer.react','MReactBookmarkHeader','MReactBookmarkRow','MReactCreateGroup','MReactCreatePage.react','MReactCreateAd.react','MReactSeeAllBookmarks','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=k.PropTypes;function u(w,x){return 'bookmark_'+w.id+'_'+x.id;}var v=k.createClass({displayName:'MReactBookmarks',propTypes:{bookmarkGroups:t.array.isRequired,createGroupURI:t.string.isRequired,createPageURI:t.string,createAdURI:t.string,loaderId:t.string,loaderMarkup:t.object,onClickItem:t.func.isRequired,onClickSeeAll:t.func.isRequired,secondaryData:t.object,selectPinnedPageTestGK:t.bool,searchSubscriptionBookmarkNUX:t.object,showSearchSubscriptionBookmarkAtTop:t.bool},_removePinnedPageBookmark:function(w){for(var x=0;x<w.length;++x)if(String(w[x].id)===this.props.pinnedPageID)return w.splice(x,1)[0];return null;},_addBookmarkGroup:function(w,x){var y=this.props.createGroupURI,z=p.make(this.props.createPageURI,x),aa=q.make(this.props.createAdURI,x),ba=o.make(y,x);if(this.props.createAdURI)aa=q.make(this.props.createAdURI,x);if(x.visible&&x.visible.length||z||ba||aa){var ca=x.visible||[],da=x.all||ca;if(x.header){var ea=x.id==='subscribed_searches'?this.props.searchSubscriptionBookmarkNUX:null;w.push(k.createElement(m,{header:x.header,key:'group_'+x.id,groupid:x.id,nux:ea}));}ca.forEach(function(fa){w.push(k.createElement(n,{bookmark:fa,key:u(x,fa),isUser:x.id=='user',onClickItem:this.props.onClickItem}));}.bind(this));if(ba)w.push(ba);if(z)w.push(z);if(aa)w.push(aa);if(ca.length<da.length||x.id==='page'&&this.props.selectPinnedPageTestGK)w.push(k.createElement('li',{className:"_53_-",key:'seeAll_'+x.id},k.createElement(r,{createGroupURI:y,group:x,onClickSeeAll:this.props.onClickSeeAll})));}},_getBookmarkGroups:function(w){var x=[];for(var y=0,z=w.length;y<z;++y){var aa=w[y];this._addBookmarkGroup(x,aa);}return x;},_getSecondary:function(w){var x=w.group,y=o.make(this.props.createGroupURI,x),z=[y];Array.prototype.push.call(z,x.all.map(function(aa){return (k.createElement(n,{bookmark:aa,key:u(x,aa),onClickItem:this.props.onClickItem}));},this));return z;},reRankBookmarks:function(w){if(!this.props.showSearchSubscriptionBookmarkAtTop||w.length<=3)return w;var x=null;for(var y=0;y<w.length;++y)if(w[y].id==='subscribed_searches')x=y;if(!x)return w;var z=[];z[0]=w[0];z[1]=w[1];z[2]=w[x];var aa=3;for(var ba=2;ba<w.length;++ba)if(y!=x){z[aa]=w[ba];aa++;}return z;},render:function(){var w=this.reRankBookmarks(this.props.bookmarkGroups),x=Object.prototype.toString.call(w).slice(8,-1);if(w&&x!=='Array')j.warn('[react-bookmarks] received unexpected payload: %s',JSON.stringify(w));var y=[];this._loaderMarkup=null;if(this.props.isSecondary){y=this._getSecondary(this.props.secondaryData);}else{y=this._getBookmarkGroups(w||[]);this._loaderMarkup=w&&!this.props.isPartial?null:k.createElement(l,null,k.createElement('div',{className:'apl',dangerouslySetInnerHTML:this.props.loaderMarkup}));}return (k.createElement('div',null,k.createElement('ul',{className:"_7k7"},y,this._loaderMarkup)));},componentDidMount:function(){if(this._loaderMarkup)i.init(this.props.loaderId);}});f.exports=v;},null);
__d('MReactSecondarySideMenuHeader',['React','cx','Image.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l='m-secondary-side-menu-back-button',m=h.createClass({displayName:'MReactSecondarySideMenuHeader',propTypes:{backButtonImg:k.object,onClickBackButton:k.func.isRequired},render:function(){return (h.createElement('div',{className:"_56do",'data-sigil':'marea'},h.createElement('a',{className:'touchable','data-sigil':'blocking-touchable',href:'#',onClick:this._onClick,'data-testid':l},h.createElement('div',{className:"_4opv"},h.createElement(j,{height:'20',src:this.props.backButtonImg,width:'24'})),h.createElement('div',{className:"_56dq"},this.props.title))));},_onClick:function(n){this.props.onClickBackButton();}});f.exports=m;},null);
__d('MReactPartialSideMenu',['MReactBookmarks','MReactBookmarkHeader','MReactSecondarySideMenuHeader','MReactBackBookmarkWithPinnedPageSetting.react','MReactBookmarkTitles','React','ReactDOM','Vector','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=m.createClass({displayName:'MReactPartialSideMenu',propTypes:{bookmarkGroups:q.array.isRequired,createGroupURI:q.string.isRequired,createPageURI:q.string,createAdURI:q.string,footerMarkup:q.object,isPartial:q.bool.isRequired,isSecondary:q.bool.isRequired,loaderId:q.string,loaderMarkup:q.object,onClickBackButton:q.func.isRequired,onClickItem:q.func.isRequired,onClickSeeAll:q.func.isRequired,secondaryData:q.object,selectPinnedPageTestGK:q.bool,searchSubscriptionBookmarkNUX:q.object,showSearchSubscriptionBookmarkAtTop:q.bool},render:function(){var s=null;if(this.props.isSecondary){var t=this.props.secondaryData.group,u=p._({"Apps":"\u0412\u0441\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f","Developer":"\u0412\u0441\u0435 \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432","Friends":"\u0412\u0441\u0435 \u0434\u0440\u0443\u0437\u044c\u044f","Groups":"\u0412\u0441\u0435 \u0433\u0440\u0443\u043f\u043f\u044b","News You're Following":"\u0412\u0441\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b","Suggested Games":"\u0412\u0441\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u0438\u0433\u0440\u044b","Interests":"\u0412\u0441\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b","Pages":"\u0412\u0441\u0435 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b","Favorites":"\u0412\u0441\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435","Live Events":"\u0412\u0441\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u0432 \u043f\u0440\u044f\u043c\u043e\u043c \u044d\u0444\u0438\u0440\u0435"},[p['enum'](l[t.id],{Apps:'Apps',Developer:'Developer',Friends:'Friends',Groups:'Groups','News You\'re Following':'News You\'re Following','Suggested Games':'Suggested Games',Interests:'Interests',Pages:'Pages',Favorites:'Favorites','Live Events':'Live Events'})]);s=m.createElement(j,{backButtonImg:this.props.backButtonImg,title:u,onClickBackButton:this.props.onClickBackButton});if(this.props.selectPinnedPageTestGK&&t.id==='page'){var v=this.props.bookmarkGroups[0].visible.length>1;s=m.createElement(k,{backButtonImg:this.props.backButtonImg,hasPinnedPage:v,onClickBackButton:this.props.onClickBackButton,title:u});}}var w=null,x=null;if(!this.props.isSecondary&&this.props.footerMarkup){var y=p._("\u041f\u041e\u041c\u041e\u0429\u042c \u0418 \u041d\u0410\u0421\u0422\u0420\u041e\u0419\u041a\u0418");w=m.createElement(i,{header:y});x=m.createElement('div',{'data-sigil':'react-side-area-footer',dangerouslySetInnerHTML:this.props.footerMarkup});}return (m.createElement('div',null,s,m.createElement('div',{className:'mSideMenu'},m.createElement(h,{bookmarkGroups:this.props.bookmarkGroups,createGroupURI:this.props.createGroupURI,createPageURI:this.props.createPageURI,createAdURI:this.props.createAdURI,isPartial:this.props.isPartial,isSecondary:this.props.isSecondary,loaderId:this.props.loaderId,loaderMarkup:this.props.loaderMarkup,onClickItem:this.props.onClickItem,onClickSeeAll:this.props.onClickSeeAll,secondaryData:this.props.secondaryData,selectPinnedPageTestGK:this.props.selectPinnedPageTestGK,searchSubscriptionBookmarkNUX:this.props.searchSubscriptionBookmarkNUX,showSearchSubscriptionBookmarkAtTop:this.props.showSearchSubscriptionBookmarkAtTop}),w,x)));},getDisplayedHeight:function(){return o.getDim(n.findDOMNode(this)).y;}});f.exports=r;},null);
__d("XChatBuddyCountController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/online_friend_count\/",{});},null);
__d('fetchBookmarks',['MRequest'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=new h('/api/').setData({method:'bookmarks.get',mobile:true});l.listen('error',function(m){m.isHandled=true;k(m);});l.listen('done',function(m){if('error_code' in m||m&&m[0]&&'error_code' in m[0]){k(m[0]||m);}else j(m);});l.send();}f.exports=i;},null);
__d('MReactSidenav',['MLogger','MRequest','MReactPartialSideMenu','MViewport','React','Stratcom','XChatBuddyCountController','cx','fetchBookmarks','invariant','keyMirror','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=l.PropTypes,u=217974574879787,v=245119965500321,w=r({SELF:null,SECONDARY:null}),x={};x[w.SELF]='mainMenu';x[w.SECONDARY]='mainMenu';var y=null,z=null,aa=l.createClass({displayName:'MReactSidenav',_bookmarkCountsById:[],_viewportConstraint:null,propTypes:{backButtonImg:t.object,bookmarkGroups:t.array,createGroupURI:t.string.isRequired,createPageURI:t.string,createAdURI:t.string,display:t.bool.isRequired,footerMarkup:t.object,isPartial:t.bool.isRequired,loaderId:t.string,loaderMarkup:t.object,onClickItem:t.func.isRequired,typeaheadConfig:t.object,selectPinnedPageTestGK:t.bool,searchSubscriptionBookmarkNUX:t.object,showSearchSubscriptionBookmarkAtTop:t.bool},statics:{update:function(ba){if(!y){if(ba)z=ba;}else{y.applyPayload(ba);if(!ba||ba.isPartial)y.fetchBookmarks();}},forceUpdate:function(){y&&y.fetchBookmarks();}},getInitialState:function(){var ba=this.props,ca=z&&z.bookmarkGroups||ba.bookmarkGroups||[];this._adaptBookmarkGroups(ca);return {displayMode:w.SELF,secondaryData:null,isPartial:ba.isPartial,bookmarkGroups:ca,footerMarkup:z&&z.footerMarkup||ba.footerMarkup};},componentWillMount:function(){if(z)this.fetchBookmarks();},deferredRefresh:function(){s(this._refreshViewport,0);},deferredViewportUpdate:function(){s(this._updateViewport,0);},toggleMenu:function(ba){!this._isOpen()?q(0):void 0;this.setState({secondaryData:ba,displayMode:this.state.displayMode===w.SELF?w.SECONDARY:w.SELF},this.deferredRefresh);},updateChatCounts:function(){var ba=n.getURIBuilder().getURI(),ca=new i(ba).setIgnoreErrors(true);ca.listen('done',function(da){this._getBookmarkCount(v).value=da.online_friend_count;this.setState(this.state);}.bind(this));ca.send();},_updateViewport:function(){if(this._isOpen()){var ba=this.refs[x[this.state.displayMode]];!ba?q(0):void 0;var ca=ba.getDisplayedHeight()+k.getHeaderHeight();if(this._viewportConstraint){this._viewportConstraint.setValue(ca);}else this._viewportConstraint=k.addHeightConstraint(ca);}else if(this._viewportConstraint){this._viewportConstraint.release();this._viewportConstraint=null;}},_refreshViewport:function(){this._updateViewport();k.scrollToHeader();},render:function(){return (l.createElement('div',{'aria-hidden':!this.props.display,className:(this.props.display?"_5q9e":'')+(!this.props.display?' '+"_5q9f":'')+(!this.state.isPartial?' '+"_1aqy":'')},l.createElement(j,{ref:'mainMenu',loaderId:this.props.loaderId,loaderMarkup:this.props.loaderMarkup,footerMarkup:this.state.footerMarkup,isSecondary:this.state.displayMode===w.SECONDARY,createGroupURI:this.props.createGroupURI,createPageURI:this.props.createPageURI,createAdURI:this.props.createAdURI,bookmarkGroups:this.state.bookmarkGroups,isPartial:this.state.isPartial,secondaryData:this.state.secondaryData,backButtonImg:this.props.backButtonImg,onClickItem:this._onClickItem,onClickBackButton:this.toggleMenu,onClickSeeAll:this.toggleMenu,selectPinnedPageTestGK:this.props.selectPinnedPageTestGK,searchSubscriptionBookmarkNUX:this.props.searchSubscriptionBookmarkNUX,showSearchSubscriptionBookmarkAtTop:this.props.showSearchSubscriptionBookmarkAtTop})));},_onClickItem:function(){this.props.onClickItem();this.setState(this.state);},_isOpen:function(){return this.props.display;},componentDidMount:function(){!!y?q(0):void 0;y=this;m.listen('click',['side-menu-item','tag:a'],this._onClickItem);m.listen('inbox',null,this._updateMessageCounts);m.listen('nav_update_counts',null,this._updateSidenavCounts);},_updateBookmarks:function(ba){this._adaptBookmarkGroups(ba);this.setState({bookmarkGroups:ba,isPartial:false},this._refreshWhenOpen);},_refreshWhenOpen:function(){if(this._isOpen())this._refreshViewport();},_getBookmarkCount:function(ba){var ca=this._bookmarkCountsById[ba];if(!ca)ca=this._bookmarkCountsById[ba]={};return ca;},_updateSidenavCounts:function(ba){var ca=ba.getData().items;for(var da=0;da<ca.length;da++){var ea=ca[da],fa=parseInt(ea.key.substring(ea.key.indexOf('_')+1),10);!('count' in ea||'increment' in ea)?q(0):void 0;var ga=this._getBookmarkCount(fa);if(ea.count!==undefined){ga.value=ea.count;}else if(ea.increment)ga.value=Math.max(0,ga.value+ea.increment);}this.setState(this.state);},_updateMessageCounts:function(ba){this._getBookmarkCount(u).value=ba.getData().unread;this.setState(this.state);},_adaptBookmarkGroups:function(ba){for(var ca=0;ca<ba.length;ca++){this._adaptBookmarkCounts(ba[ca].all||[]);this._adaptBookmarkCounts(ba[ca].visible||[]);}return ba;},_adaptBookmarkCounts:function(ba){for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=this._getBookmarkCount(da.id);ea.value=da.count;da.count=ea;}},applyPayload:function(ba){if(ba&&ba.bookmarkGroups)ba.bookmarkGroups=this._adaptBookmarkGroups(ba.bookmarkGroups);this.setState(ba,this.deferredViewportUpdate);},fetchBookmarks:function(){p(this._updateBookmarks,function(ba){h.warn('[react-bookmarks] error: %s',JSON.stringify(ba));});}});f.exports=aa;},null);
__d('MReactSidearea',['CSS','MReactSidenav','MTabbable','React','ReactDOM','SubscriptionsHandler','Stratcom','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.createClass({displayName:'MReactSidearea',getInitialState:function(){return {isUserOpened:!!this.props.initialOpenState};},render:function(){return (k.createElement(i,babelHelpers['extends']({},this.props,{ref:'sidenav',display:this.state.isUserOpened,onClickItem:this._setUserClosed})));},componentWillMount:function(){this._setUserClosed=this._setUserOpened.bind(this,false);},componentDidMount:function(){this._subscriptions=new m();this._subscriptions.addSubscriptions(n.listen('m:chrome:tab:show','bookmarks',this._onTabToggle),n.listen('m:chrome:tab:hide','bookmarks',this._onTabToggle));this._componentDidMountOrUpdate();},componentDidUpdate:function(q,r){var s=this.state.isUserOpened,t=r.isUserOpened;if(t!==s)n.invoke(s?'m:side-area:show':'m:side-area:hide');if(s&&!t)o(function(){return j.focusTabbable(l.findDOMNode(this));}.bind(this),0);this._componentDidMountOrUpdate();},_componentDidMountOrUpdate:function(){h.conditionClass(document.body,'sideShowing',this.state.isUserOpened);this.refs.sidenav.deferredViewportUpdate();},_onTabToggle:function(event){this._setUserOpened(event.getType()==='m:chrome:tab:show');},_setUserOpened:function(q){if(q)this.refs.sidenav.updateChatCounts();this.setState({isUserOpened:q});},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;}});f.exports=p;},null);
__d('StrSet',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$StrSet2={};this.$StrSet1=0;if(i)this.addAll(i);}h.prototype.add=function(i){'use strict';if(!this.$StrSet2.hasOwnProperty(i)){this.$StrSet2[i]=true;this.$StrSet1++;}return this;};h.prototype.addAll=function(i){'use strict';i.forEach(this.add,this);return this;};h.prototype.remove=function(i){'use strict';if(this.$StrSet2.hasOwnProperty(i)){delete this.$StrSet2[i];this.$StrSet1--;}return this;};h.prototype.removeAll=function(i){'use strict';i.forEach(this.remove,this);return this;};h.prototype.toArray=function(){'use strict';return Object.keys(this.$StrSet2);};h.prototype.toMap=function(i){'use strict';var j={};Object.keys(this.$StrSet2).forEach(function(k){j[k]=typeof i=='function'?i(k):i||true;});return j;};h.prototype.contains=function(i){'use strict';return this.$StrSet2.hasOwnProperty(i);};h.prototype.count=function(){'use strict';return this.$StrSet1;};h.prototype.clear=function(){'use strict';this.$StrSet2={};this.$StrSet1=0;return this;};h.prototype.clone=function(){'use strict';return new h(this);};h.prototype.forEach=function(i,j){'use strict';Object.keys(this.$StrSet2).forEach(i,j);};h.prototype.map=function(i,j){'use strict';return Object.keys(this.$StrSet2).map(i,j);};h.prototype.some=function(i,j){'use strict';return Object.keys(this.$StrSet2).some(i,j);};h.prototype.every=function(i,j){'use strict';return Object.keys(this.$StrSet2).every(i,j);};h.prototype.filter=function(i,j){'use strict';return new h(Object.keys(this.$StrSet2).filter(i,j));};h.prototype.union=function(i){'use strict';return this.clone().addAll(i);};h.prototype.intersect=function(i){'use strict';return this.filter(function(j){return i.contains(j);});};h.prototype.difference=function(i){'use strict';return i.filter(function(j){return !this.contains(j);}.bind(this));};h.prototype.equals=function(i){'use strict';var j=function(n,o){return n===o?0:n<o?-1:1;},k=this.toArray(),l=i.toArray();if(k.length!==l.length)return false;var m=k.length;k=k.sort(j);l=l.sort(j);while(m--)if(k[m]!==l[m])return false;return true;};f.exports=h;},null);
__d('PlatformBaseVersioning',['PlatformVersions','getObjectValues','StrSet','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=new j(i(h.versions)),m=location.pathname,n=m.substring(1,m.indexOf('/',1)),o=l.contains(n)?n:h.versions.UNVERSIONED;function p(s,t){if(t==h.versions.UNVERSIONED)return s;!l.contains(t)?k(0):void 0;if(s.indexOf('/')!==0)s='/'+s;return '/'+t+s;}function q(s){if(l.contains(s.substring(1,s.indexOf('/',1))))return s.substring(s.indexOf('/',1));return s;}var r={addVersionToPath:p,getLatestVersion:function(){return h.LATEST;},versionAwareURI:function(s){return s.setPath(p(s.getPath(),o));},versionAwarePath:function(s){return p(s,o);},getUnversionedPath:q};f.exports=r;},null);
__d('PlatformWidgetEndpoint',['PlatformBaseVersioning'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(n,o){return h.versionAwarePath('/dialog'+'/'+n+(o?'/'+o:''));}function j(n,o){return h.versionAwarePath('/plugins'+'/'+n+(o?'/'+o:''));}function k(n){return (/^\/plugins\//.test(h.getUnversionedPath(n)));}function l(n){return (/^\/dialog\//.test(h.getUnversionedPath(n)));}var m={dialog:i,plugins:j,isPluginEndpoint:k,isDialogEndpoint:l};f.exports=m;},null);
__d('MJewelMarauderLogger',['MarauderLogger'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l,m){var n={};if(l==='scroll'){n.action_type=l;n.extra_data=m;}else if(l==='clicked'){n.action_type=l;var o=m.getNode('tag:a');n.extra_data=o&&o.href?o.href:null;}else if(l==='updated')n.action_type=l;h.log('jewel',k,n);}function j(k,l,m){h.toggleModule(k,l,m);}f.exports={log:i,toggleModule:j};},null);
__d('MBeeperController',['Bootloader','CSS','DOM','MHistory','Stratcom','URI','cx','getActiveElement','setTimeoutAcrossTransitions','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s,t,u,v=[],w,x=3000;function y(ga){w=ga;p(function(){l.listen('m_notification',null,z);l.listen('blur',null,aa);l.listen('m:history:change',null,fa);},x);}function z(ga){var ha=ga.getData();if(!ha||!ha.data||w&&!ha.data.type||w&&w.indexOf(ha.data.type)===-1)return;var ia={notification:ha.data};ea(ia);if(!r&&!s){h.loadModules(["ReactComponentRenderer","MBeeper.react"],function(ja,ka){r=ja;s=ka;fa();});}else fa();}function aa(ga){var ha=ga.getTarget();if(ha&&ca(ha))setTimeout(fa,50);}function ba(){v.shift();fa();}function ca(ga){var ha=ga.tagName;return ha==='INPUT'||ha==='TEXTAREA'||ga.contentEditable==='true';}function da(){return !(ca(o())||q('root').offsetHeight===0);}function ea(ga){if(!v.find(function(ha){return ha.notification.alert_id===ga.notification.alert_id;}))v.push(ga);}function fa(){if(!da())return;var ga=new m(k.getPath());if(ga.getQueryData().soft==='notifications'){v=[];return;}var ha=v[0];if(!ha)return;if(!u){u=j.create('div');i.addClass(u,"_3hy8");q('page').appendChild(u);}if(!t){t=new r(s,u);t.setProps(babelHelpers['extends']({},ha,{onHide:ba}));}else if(t.component.isReady())t.setProps(ha);}g.init=y;},null);
__d('MFirstPageRecorder',['DOM','MDeepCopy','MURI','MPageCache','MPageController','MPageHeaderRight','MPageTitle','MPageletTypes','MRenderingScheduler','MResponseData','Stratcom','ScriptPath','$','ServerJS'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v=true,w=[];function x(){if(u)return;u=true;var y=new j(l.getRenderedPath()),z,aa=[];w=[p.attachListenerToSyncPageletComplete(function(){k.setCachedPage(y,z);k.clearCachedIUIResponses(y);aa.forEach(function(ba){k.addCachedIUIResponse(y,ba);});}),p.attachListenerToSyncPageletLoader(function(ba){if(ba.pageletConfig.type!==o.CONTENT)return;var ca={js:ba.js||[],css:ba.css||[],ixData:ba.ixData};ca.actions=[{cmd:'replace',target:ba.id,html:ba.content.__html,replaceifexists:false,allownull:false},{cmd:'append',target:'static_templates',html:ba.pageletConfig.templates.__html,replaceifexists:true}];var da=i(ba.pageletConfig.serverJSData),ea=[function(){var ka=c('ServerJS');new ka().handle(i(da));}];if(v){v=false;var fa=t('root').cloneNode(true);z=new q({js:[],css:[],ixData:[],actions:[{cmd:'script',type:'immediate',fn:function(){h.replace(t('root'),fa.cloneNode(true));}}]});var ga=m.getChromeHeaderRightContent();if(ga&&ga.length>0)ea.push(function(){var ka=document.createDocumentFragment();for(var la=0;la<ga.length;la++)ka.appendChild(ga[0]);m.setup({node:ka});});var ha=document.title;ea.push(function(){n.setTitle(ha);});var ia=s.getPageInfo();if(ia)ea.push(function(){s.set(ia.scriptPath,ia.categoryToken,ia.extraData);});}for(var ja=0;ja<ea.length;ja++)ca.actions.push({cmd:'script',type:'onload',fn:ea[ja]});aa.push(new q(ca));})];}r.listen('m:page:unload',null,function(){w.forEach(function(y){y&&y.remove();y=null;});u=true;r.removeCurrentListener();});g.startPageletCaching=x;},null);
__d("XQuickPromotionSimpleLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});},null);
__d('MQuickPromotionMMessengerBanner',['DOM','MRequest','Stratcom','XQuickPromotionSimpleLoggingController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=false,m=null,n=function(o,p,q,r){if(l)return;l=true;function s(){var w=k.getURIBuilder().setInt('qp_id',q).setStringToStringMap('qp_instance_log_data',r).setString('qp_event','view').getURI(),x=new i(w);x.send();}function t(event){j.removeCurrentListener();var w=event.getNode(o.promo);h.hide(w);m.remove();}function u(event){if(event.getData().jewel==o.jewel)s();}function v(event){j.removeCurrentListener();s();m=j.listen('m:jewel:flyout:open',null,u);}j.listen('click',o.close,t);if(p){j.listen('m:qp:embedded-interstitial:close',null,v);}else m=j.listen('m:jewel:flyout:open',null,u);};g.main=n;},null);
__d('MLink',['DOM','MLegacyDataStore','ErrorUtils','MLinkHack','MLogger','MPageCache','MPageController','PlatformWidgetEndpoint','Stratcom','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r='standalone' in window.navigator&&window.navigator.standalone,s=false;function t(){if(s)return;s=true;h.listen(document.documentElement,'click',null,function(event){if(event.getPrevented())return;j.applyWithGuard(function(){var u=event.getNode('tag:a');if(!u)return;var v=event.getRawEvent();if(u.getAttribute('onclick')||(v.which||v.button)>=2)return;k.remove(u);var w=u.getAttribute('href'),x=new q(w),y=x.getProtocol();if(y&&y!='http'&&y!='https')return;var z=x.getDomain(),aa=w&&w.charAt(0),ba=!aa||/[\/#]/.test(aa),ca=x.getPort()?[z,x.getPort()].join(':'):z,da=ba||location.host===ca,ea=z&&!/\.facebook.com$/i.test(z);if(ea&&!p.hasSigil(u,'MLinkshim'))l.mustfix('Loading an external URL without shimming: %s',w);var fa=u.getAttribute('target');if((fa=='_blank'||ea)&&r)return;if(fa=='_blank'){window.open(w,'_blank');}else if(o.isDialogEndpoint(x.getPath())){return;}else if(fa||y&&y+':'!==location.protocol||p.hasSigil(u,'no_mpc')||ea){window.location=w;}else if(w){if(w.indexOf('#')===0){var ga=document.getElementById(w.substr(1));ga&&ga.scrollIntoView();}else{var ha=i.get(u);if(ha.fromCache)m.setScrollHistory(w,0);n.load(w,{replace:ha.behavior==='replace-state',expiration:ha.fromCache?n.HISTORY_EXPIRE_MS:null});}}else{if(u.hasAttribute('data-sigil'))return;var ia='',ja=event.getTarget();while(ja&&ja!=document.body){ia=ia+' <'+ja.nodeName;if(ja.id)ia=ia+' id='+ja.id;if(ja.className)ia=ia+' class='+ja.className;ia=ia+' >';ja=ja.parentNode;}l.warn('handleClick: unknown link action: '+'<a id="%s" class="%s" /> Path: %s',u.id,u.className,ia);return;}event.prevent();},null,[],null,'LinkController');});}g.setupListener=t;},null);